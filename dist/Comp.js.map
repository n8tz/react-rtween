{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/TweenRef.js","webpack:///./src/TweenerContext.js","webpack:///./src/asTweener.js","webpack:///./src/index.js","webpack:///./src/utils.js","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"@babel/runtime/helpers/toConsumableArray\"","webpack:///external \"@babel/runtime/helpers/get\"","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///external \"is\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"rtween\"","webpack:///external \"shortid\"","webpack:///external \"taskflows\"","webpack:///external \"@babel/runtime/helpers/objectSpread\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\""],"names":["setTarget","anims","target","map","tween","TweenRef","state","__tweenableId","shortid","generate","_scrollableAnims","Object","keys","forEach","axe","_previousTweener","rmScrollableAnim","_previousScrollable","props","children","id","style","initial","pos","noRef","reset","scrollableAnims","onClick","onDoubleClick","tweener","React","isValidElement","cloneElement","tweenRef","e","is","array","scrollY","addScrollableAnim","reduce","h","Component","propTypes","context","tweenerById","TweenerContext","createContext","isBrowserSide","Function","isArray","initialTweenable","unitsRe","RegExp","join","extractUnits","r","k","test","trim","replace","parseFloat","SimpleObjectProto","constructor","asTweener","argz","BaseComponent","prototype","shift","opts","arguments","_static","_","refs","box","x","y","z","curMotionStateId","InitialMotionState","_rafLoop","bind","targets","t","tweenRefMaps","tweenRefOrigin","iStyle","iMap","noref","mapReset","makeTweenable","cState","motionStates","tweenRefs","tweenRefTargets","push","tweenRefUnits","getPosAt","assign","scope","tweenRefCSS","utils","mapInBoxCSS","ref","node","anim","then","skipInit","sl","rtween","applyTweenState","run","i","runningAnims","indexOf","splice","live","requestAnimationFrame","size","length","makeScrollable","axes","scrollPos","initialScrollPos","scrollableArea","Math","max","duration","goTo","tl","newPos","ms","oldPos","setPos","componentDidScroll","min","runTo","undefined","targetId","tState","rendered","delayedMotionTarget","running","flow","taskflow","ctx","leaving","setTimeout","goToMotionStateId","entering","updateRefStyle","me","p","_tweenRefMaps","postPone","m","Element","ReactDom","findDOMNode","scrollEnabled","scrollHook","scrollX","_registerScrollListeners","addWheelEvent","onScroll","prevent","deltaY","shouldApplyScroll","scrollTo","deltaX","preventDefault","originalEvent","stopPropagation","addEvent","touch","descr","_startPos","_lastPos","doRegister","tweenEnabled","rtweensByProp","rtweensByStateProp","window","addEventListener","onResize","_updateBox","_updateTweenRefs","inited","offsetWidth","offsetHeight","getTweenableRef","removeEventListener","rmWheelEvent","scrollableAnim","prevProps","prevState","pushAnim","propId","propValue","mount","displayName","name","TweenableComponent","require","floatCut","v","l","pow","round","isBrowser","Dom","prefix","navigator","appVersion","userAgent","dashedPrefix","customProps","_x","_y","_z","transform","perspective","matrix","rotate","rotateX","rotateY","_width","_height","__","onPageHided","onPageShown","dragging","dragEnabled","dragEnabledDesc","fingers","nbFingers","dragstartAnywhere","o","finger","desc","document","dragAnywhere","dropAnywhere","changedTouches","ln","identifier","pageX","pageY","dragstart","call","stopped","drag","dropped","removeEvent","getDraggable","locks","dragEnd","freeDraggable","addOverflowEvent","addFlowListener","element","fn","type","orient","horizontalOverflow","verticalOverflow","bubble","attachEvent","related","detachEvent","rmFnScopePair","arr","console","warn","_createElement","tag","opt","parent","a","createElement","hasOwnProperty","_createElementAttr","createAttribute","value","setAttributeNode","$id","applyCss","cls","addCls","events","$scope","content","innerHTML","Array","appendChild","createTextNode","isElement","__createElement","tagName","HTMLElement","object","offset","elem","dims","top","left","width","height","parseInt","offsetTop","offsetLeft","offsetParent","_addEventListener","_rmEventListener","onwheel","support","onmousewheel","addWheelListener","callback","useCapture","_addWheelListener","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","normalizeWheel","event","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaMode","spinX","spinY","pixelX","pixelY","eventName","_wheelList","srcElement","delatZ","returnValue","normalized","rmWheelListener","_EventListener","css","units","number","opacity","zIndex","key"],"mappings":"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","file":"Comp.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport React   from 'react';\r\nimport shortid from 'shortid';\r\n\r\nimport is from \"is\";\r\n\r\nimport TweenerContext from \"./TweenerContext\";\r\n\r\nfunction setTarget( anims, target ) {\r\n\treturn anims.map(\r\n\t\ttween => ({\r\n\t\t\t...tween,\r\n\t\t\ttarget\r\n\t\t})\r\n\t)\r\n}\r\n\r\nexport default class TweenRef extends React.Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\t//record  : PropTypes.object.isRequired,\r\n\t\t//onSelect: PropTypes.func\r\n\t};\r\n\tstate            = {};\r\n\t__tweenableId    = shortid.generate();\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\t\r\n\t\tif ( this._scrollableAnims ) {\r\n\t\t\tObject.keys(this._scrollableAnims)\r\n\t\t\t      .forEach(axe => this._previousTweener.rmScrollableAnim(this._scrollableAnims[axe], axe));\r\n\t\t\t\r\n\t\t}\r\n\t\tdelete this._previousTweener;\r\n\t\tdelete this._previousScrollable;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tlet {\r\n\t\t\t    children,\r\n\t\t\t    id            = this.__tweenableId,\r\n\t\t\t    style, initial, pos, noRef, reset,\r\n\t\t\t    scrollableAnims,\r\n\t\t\t    onClick       = children && children.props && children.props.onClick,\r\n\t\t\t    onDoubleClick = children && children.props && children.props.onDoubleClick\r\n\t\t    } = this.props;\r\n\t\treturn <TweenerContext.Consumer>\r\n\t\t\t{\r\n\t\t\t\ttweener => {\r\n\t\t\t\t\tif ( React.isValidElement(children) ) {\r\n\t\t\t\t\t\tchildren = React.cloneElement(\r\n\t\t\t\t\t\t\tchildren,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t...tweener.tweenRef(id, style || children.props.style, initial, pos, noRef, reset),\r\n\t\t\t\t\t\t\t\tonDoubleClick: onDoubleClick && (e => onDoubleClick(e, tweener)),\r\n\t\t\t\t\t\t\t\tonClick      : onClick && (e => onClick(e, tweener))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( this._previousTweener !== tweener || this._previousScrollable !== scrollableAnims ) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( this._scrollableAnims ) {\r\n\t\t\t\t\t\t\tObject.keys(this._scrollableAnims)\r\n\t\t\t\t\t\t\t      .forEach(axe => this._previousTweener.rmScrollableAnim(this._scrollableAnims[axe], axe));\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( scrollableAnims && is.array(scrollableAnims) )\r\n\t\t\t\t\t\t\tthis._scrollableAnims = { scrollY: tweener.addScrollableAnim(setTarget(scrollableAnims, id)) };\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tthis._scrollableAnims = scrollableAnims &&\r\n\t\t\t\t\t\t\t\tObject.keys(scrollableAnims)\r\n\t\t\t\t\t\t\t\t      .reduce(( h, axe ) => (h[axe] = tweener.addScrollableAnim(setTarget(scrollableAnims[axe], id), axe), h), {});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis._previousTweener    = tweener;\r\n\t\t\t\t\t\tthis._previousScrollable = scrollableAnims;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn children;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t</TweenerContext.Consumer>;\r\n\t}\r\n}","/*\r\n * The MIT License (MIT)\r\n * Copyright (c) 2019. Wise Wild Web\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n *  @author : Nathanael Braun\r\n *  @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport React from 'react';\r\nconst context        = {\r\n\ttweenerById: {}\r\n\t\r\n};\r\nconst TweenerContext = React.createContext(context);\r\nexport default TweenerContext","/*\n *\n * Copyright (C) 2019 Nathan Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React          from \"react\";\nimport is             from \"is\";\nimport taskflow       from \"taskflows\";\nimport utils          from \"./utils\";\nimport TweenerContext from \"./TweenerContext\";\nimport rtween         from \"rtween\";\nimport ReactDom       from \"react-dom\";\n\n/**\n * @todo : clean & comments\n */\n\n\nvar isBrowserSide    = (new Function(\"try {return this===window;}catch(e){ return false;}\"))(),\n    isArray          = is.array,\n    initialTweenable = {// while no matrix..\n\t    //x      : 0,\n\t    //y      : 0,\n\t    //z      : 0,\n\t    //_x     : 0,\n\t    //_y     : 0,\n\t    //_z     : 0,\n\t    //// opacity   : 1,\n\t    //rotateY: 0,\n\t    //rotateX: 0,\n\t    //rotate : 0\n    },\n    unitsRe          = new RegExp(\n\t    \"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t    ['em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t    + \")\"\n    ),\n    extractUnits     = ( map ) => {\n\t    var r = {};\n\t    Object.keys(map).map(( k ) => {\n\t\t    if ( unitsRe.test((map[k] + '').trim()) ) {\n\t\t\t    r[k]   = (map[k] + '').trim().replace(unitsRe, '$2');\n\t\t\t    map[k] = parseFloat((map[k] + '').trim().replace(unitsRe, '$1'));\n\t\t    }\n\t    });\n\t    return r;\n    };\n\nconst SimpleObjectProto = ({}).constructor;\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function asTweener( ...argz ) {\n\t\n\tlet BaseComponent = (!argz[0] || argz[0].prototype instanceof React.Component || argz[0] === React.Component) && argz.shift(),\n\t    opts          = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !(BaseComponent && (BaseComponent.prototype instanceof React.Component || BaseComponent === React.Component)) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn asTweener(BaseComponent, opts)\n\t\t}\n\t}\n\t\n\t\n\treturn class TweenableComp extends BaseComponent {\n\t\tstatic displayName = (BaseComponent.displayName || BaseComponent.name) + \" (tweener)\";\n\t\t\n\t\tconstructor() {\n\t\t\tsuper(...arguments);\n\t\t\tlet _static             = this.constructor;\n\t\t\tthis._                  = {\n\t\t\t\trefs: {}\n\t\t\t};\n\t\t\tthis._.box              = {\n\t\t\t\tx: 100,\n\t\t\t\ty: 100,\n\t\t\t\tz: 800\n\t\t\t};\n\t\t\tthis._.curMotionStateId = _static.InitialMotionState || \"stand\";\n\t\t\tthis._._rafLoop         = this._rafLoop.bind(this);\n\t\t}\n\t\t\n\t\t\n\t\tresetTweenable( ...targets ) {\n\t\t\ttargets.forEach(\n\t\t\t\t( t ) => {\n\t\t\t\t\t// delete this._.tweenRefs[t];\n\t\t\t\t\t// delete this._.tweenRefCSS[t];\n\t\t\t\t\tthis._.tweenRefMaps[t] = { ...this._.tweenRefOrigin[t] };\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t\t\n\t\t/**\n\t\t * Register tweenable element\n\t\t * @param id\n\t\t * @param iStyle\n\t\t * @param iMap\n\t\t * @param pos\n\t\t * @param noref\n\t\t * @param mapReset\n\t\t * @returns {*}\n\t\t */\n\t\ttweenRef( id, iStyle, iMap, pos, noref, mapReset ) {// ref initial style\n\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\tlet _static = this.constructor,\n\t\t\t    _       = this._,\n\t\t\t    cState  = _static.motionStates && _static.motionStates[this._.curMotionStateId];\n\t\t\t\n\t\t\tif ( !this._.tweenRefs[id] )\n\t\t\t\tthis._.tweenRefTargets.push(id);\n\t\t\t\n\t\t\tif ( cState && cState.refs && cState.refs[id] ) {\n\t\t\t\tiStyle = iStyle || { ...cState.refs[id][0] };\n\t\t\t\tiMap   = iMap || { ...cState.refs[id][1] };\n\t\t\t}\n\t\t\telse {\n\t\t\t\tiStyle = iStyle || {};\n\t\t\t\tiMap   = iMap || {};\n\t\t\t}\n\t\t\t\n\t\t\tthis._.tweenRefs[id] = true;\n\t\t\t\n\t\t\tif ( isArray(iMap) ) {\n\t\t\t\tthis._.tweenRefUnits[id] = iMap[1];\n\t\t\t\tiMap                     = iMap[0];\n\t\t\t}\n\t\t\tif ( iMap.getPosAt ) {// typeof rtween\n\t\t\t\t// debugger;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// if (/btn_/.test(id)) debugger;\n\t\t\t\tiMap = iMap.getPosAt(\n\t\t\t\t\tpos,\n\t\t\t\t\t!mapReset && this._.tweenRefMaps[id]\n\t\t\t\t\t\t|| Object.assign({}, initialTweenable, iMap.scope || {})\n\t\t\t\t);\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\t\n\t\t\t\tmapReset = noref;\n\t\t\t\tnoref    = pos;\n\t\t\t\t\n\t\t\t\tthis._.tweenRefUnits[id] = extractUnits(iMap);\n\t\t\t}\n\t\t\tthis._.tweenRefOrigin[id] = iMap;\n\t\t\t//this._.tweenRefCSS[id]    = this._.tweenRefCSS[id] || {};\n\t\t\t\n\t\t\tif ( !mapReset && this._.tweenRefCSS[id] ) {\n\t\t\t\tthis._.tweenRefCSS[id] = {\n\t\t\t\t\t...iStyle\n\t\t\t\t}\n\t\t\t}\n\t\t\telse this._.tweenRefCSS[id] = iStyle && { ...iStyle } || {}\n\t\t\tiStyle = this._.tweenRefCSS[id];\n\t\t\tiMap   = this._.tweenRefMaps[id] = !mapReset && this._.tweenRefMaps[id]\n\t\t\t\t|| Object.assign({}, initialTweenable, iMap || {});\n\t\t\t\n\t\t\tutils.mapInBoxCSS(iMap, iStyle, this._.box, this._.tweenRefUnits[id]);\n\t\t\t\n\t\t\t//this._.refs[id] = this._.refs[id] || React.createRef();\n\t\t\t\n\t\t\tif ( noref )\n\t\t\t\treturn {\n\t\t\t\t\tstyle: { ...this._.tweenRefCSS[id] }\n\t\t\t\t};\n\t\t\telse\n\t\t\t\treturn {\n\t\t\t\t\tstyle: { ...this._.tweenRefCSS[id] },\n\t\t\t\t\tref  : node => (this._.refs[id] = node)\n\t\t\t\t\t,\n\t\t\t\t\t// __tweenMap : this._.tweenRefMaps[id],\n\t\t\t\t\t// __tweenCSS : this._.tweenRefCSS[id]\n\t\t\t\t};\n\t\t}\n\t\t\n\t\t/**\n\t\t * Push anims\n\t\t * @param anim\n\t\t * @param then\n\t\t * @param skipInit\n\t\t * @returns {rtween}\n\t\t */\n\t\tpushAnim( anim, then, skipInit ) {\n\t\t\tvar sl, initial;\n\t\t\tif ( isArray(anim) ) {\n\t\t\t\tsl = anim;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsl      = anim.anims;\n\t\t\t\tinitial = anim.initial;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !(sl instanceof rtween) )\n\t\t\t\tsl = new rtween(sl, this._.tweenRefMaps);\n\t\t\t\n\t\t\t\n\t\t\t// console.warn(\"Should start anim \", sl);\n\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\t\n\t\t\t!skipInit && initial && Object.keys(initial).map(\n\t\t\t\t( id ) => this.applyTweenState(id, initial[id], anim.reset)\n\t\t\t);\n\t\t\t\n\t\t\t\n\t\t\tsl.run(this._.tweenRefMaps, () => {\n\t\t\t\tvar i = this._.runningAnims.indexOf(sl);\n\t\t\t\tif ( i != -1 )\n\t\t\t\t\tthis._.runningAnims.splice(i, 1);\n\t\t\t\t\n\t\t\t\tthen && then(sl);\n\t\t\t\t// if (anim.resetAfter)\n\t\t\t\t//     setTimeout(()=>sl.go(0,me._tweenRefMaps),133);\n\t\t\t});//launch\n\t\t\tthis._.runningAnims.push(sl);\n\t\t\t\n\t\t\t\n\t\t\tif ( !this._.live ) {\n\t\t\t\tthis._.live = true;\n\t\t\t\t//console.log(\"RAF On\");\n\t\t\t\trequestAnimationFrame(this._._rafLoop = this._._rafLoop || this._rafLoop.bind(this));\n\t\t\t}\n\t\t\treturn sl;\n\t\t\t\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// ------------------ Scrollable anims ------------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\taddScrollableAnim( anim, axe = \"scrollY\", size ) {\n\t\t\tvar sl, _ = this._;\n\t\t\tif ( isArray(anim) ) {\n\t\t\t\tsl = anim;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsl   = anim.anims;\n\t\t\t\tsize = anim.length;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !(sl instanceof rtween) )\n\t\t\t\tsl = new rtween(sl, _.tweenRefMaps);\n\t\t\t\n\t\t\tthis.makeTweenable();\n\t\t\tthis.makeScrollable();\n\t\t\t\n\t\t\t// init scroll\n\t\t\t\n\t\t\t_.axes[axe] = _.axes[axe] || {\n\t\t\t\tscrollableAnims: [],\n\t\t\t\tscrollPos      : opts.initialScrollPos && opts.initialScrollPos[axe] || 0,\n\t\t\t\tscrollableArea : 0\n\t\t\t}\n\t\t\t\n\t\t\t_.axes[axe].scrollableAnims.push(sl);\n\t\t\t_.axes[axe].scrollPos      = _.axes[axe].scrollPos || 0;\n\t\t\t_.axes[axe].scrollableArea = _.axes[axe].scrollableArea || 0;\n\t\t\t_.axes[axe].scrollableArea = Math.max(_.axes[axe].scrollableArea, sl.duration);\n\t\t\t\n\t\t\t_.axes[axe].scrollPos && sl.goTo(_.axes[axe].scrollPos, this._.tweenRefMaps)\n\t\t}\n\t\t\n\t\trmScrollableAnim( sl ) {\n\t\t\tvar _ = this._;\n\t\t\tif ( _.axes ) {\n\t\t\t\tObject.keys(_.axes)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      axe => {\n\t\t\t\t\t\t      let i = _.axes[axe].scrollableAnims.indexOf(sl);\n\t\t\t\t\t\t      if ( i != -1 ) {\n\t\t\t\t\t\t\t      _.axes[axe].scrollableAnims.splice(i);\n\t\t\t\t\t\t\t      _.axes[axe].scrollableArea = Math.max(..._.axes[axe].scrollableAnims.map(tl => tl.duration), 0);\n\t\t\t\t\t\t\t      sl.goTo(0, this._.tweenRefMaps)\n\t\t\t\t\t\t      }\n\t\t\t\t\t      }\n\t\t\t\t      )\n\t\t\t}\n\t\t}\n\t\t\n\t\tscrollTo( newPos, ms = 0, axe = \"scrollY\" ) {\n\t\t\tif ( this._.axes ) {\n\t\t\t\tlet oldPos = newPos,\n\t\t\t\t    setPos = pos => (this._.axes[axe].scrollPos = pos, this.componentDidScroll && this.componentDidScroll(~~pos), requestAnimationFrame(this._._rafLoop));\n\t\t\t\t\n\t\t\t\tnewPos = Math.max(0, newPos);\n\t\t\t\tnewPos = Math.min(newPos, this._.axes[axe].scrollableArea);\n\t\t\t\t\n\t\t\t\tif ( !ms ) {\n\t\t\t\t\tthis._.axes[axe].scrollableAnims.forEach(\n\t\t\t\t\t\tsl => sl.goTo(newPos, this._.tweenRefMaps)\n\t\t\t\t\t);\n\t\t\t\t\tsetPos(newPos);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthis._.axes[axe].scrollableAnims.forEach(\n\t\t\t\t\t\tsl => sl.runTo(newPos, ms, undefined, setPos)\n\t\t\t\t\t);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif ( !this._.live ) {\n\t\t\t\t\tthis._.live = true;\n\t\t\t\t\trequestAnimationFrame(this._._rafLoop);\n\t\t\t\t}\n\t\t\t\treturn !(oldPos - newPos);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// ------------------ Motion/FSM anims ------------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t\n\t\tgoToMotionStateId( targetId ) {\n\t\t\tlet _static = this.constructor,\n\t\t\t    tState  = _static.motionStates[targetId],\n\t\t\t    cState  = this._.curMotionStateId;\n\t\t\tif ( !this._.rendered )\n\t\t\t\treturn this._.delayedMotionTarget = targetId;\n\t\t\tif ( this.running )\n\t\t\t\tthis.running = arguments;\n\t\t\tif (\n\t\t\t\t!this.running\n\t\t\t\t&& targetId != this._.curMotionStateId\n\t\t\t) {\n\t\t\t\tif ( !this._.tweenRefCSS )\n\t\t\t\t\tthis.makeTweenable();\n\t\t\t\tthis.running = true;\n\t\t\t\tlet flow     = new taskflow(\n\t\t\t\t\t[\n\t\t\t\t\t\t_static.motionStates[this._.curMotionStateId] &&\n\t\t\t\t\t\t(( ctx, flow ) => (_static.motionStates[cState].leaving(ctx, flow, cState))),\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tthis._.curMotionStateId = targetId\n\t\t\t\t\t\t\tif ( this.running !== true )\n\t\t\t\t\t\t\t\tsetTimeout(() => this.goToMotionStateId(...this.running));\n\t\t\t\t\t\t\tthis.running = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttState &&\n\t\t\t\t\t\t(( ctx, flow ) => (tState.entering(ctx, flow, cState))),\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\ttState.refs\n\t\t\t\t\t\t\t&& Object.keys(tState.refs)\n\t\t\t\t\t\t\t         .map(\n\t\t\t\t\t\t\t\t         ( k ) => {\n\t\t\t\t\t\t\t\t\t         this.updateRefStyle(k, tState.refs[k][0]);\n\t\t\t\t\t\t\t\t\t         this.applyTweenState(k, tState.refs[k][1]);\n\t\t\t\t\t\t\t\t         }\n\t\t\t\t\t\t\t         )\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tthis\n\t\t\t\t    )\n\t\t\t\t;\n\t\t\t\tflow.run()\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tapplyTweenState( id, map, reset ) {\n\t\t\tvar me = this;\n\t\t\tObject.keys(map).map(\n\t\t\t\t( p ) => me._tweenRefMaps[id][p] = (!reset && me._tweenRefMaps[id][p] || 0) + map[p]\n\t\t\t);\n\t\t}\n\t\t\n\t\tupdateRefStyle( target, style, postPone ) {\n\t\t\tif ( isArray(target) && isArray(style) )\n\t\t\t\treturn target.map(( m, i ) => this.updateRefStyle(m, style[i], postPone));\n\t\t\tif ( isArray(target) )\n\t\t\t\treturn target.map(( m ) => this.updateRefStyle(m, style, postPone));\n\t\t\t\n\t\t\tif ( !this._.tweenRefCSS )\n\t\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\tif ( !postPone && this.refs[target] ) {\n\t\t\t\tvar node = this.refs[target] instanceof Element\n\t\t\t\t           ? this.refs[target]\n\t\t\t\t           : ReactDom.findDOMNode(\n\t\t\t\t\t\tthis.refs[target]);\n\t\t\t\tnode && Object.assign(node.style, style);\n\t\t\t}\n\t\t\tthis._.tweenRefCSS[target] = this._.tweenRefCSS[target] || {};\n\t\t\tObject.assign(this._.tweenRefCSS[target], style);\n\t\t}\n\t\t\n\t\t//\n\t\t//shouldApplyScroll( to, from ) {\n\t\t//\treturn this._.scrollHook.reduce(( r, hook ) => (!r\n\t\t//\t                                                ? false\n\t\t//\t                                                : hook(to, from)), true)\n\t\t//\t\t|| super.shouldApplyScroll && super.shouldApplyScroll(to, from);\n\t\t//}\n\t\t\n\t\tmakeScrollable() {\n\t\t\tif ( !this._.scrollEnabled ) {\n\t\t\t\tthis._.scrollEnabled = true;\n\t\t\t\tthis._.scrollHook    = [];\n\t\t\t\tthis._.axes          = {\n\t\t\t\t\tscrollX: {\n\t\t\t\t\t\tscrollableAnims: [],\n\t\t\t\t\t\tscrollPos      : opts.initialScrollPos && opts.initialScrollPos[\"scrollX\"] || 0,\n\t\t\t\t\t\tscrollableArea : 0\n\t\t\t\t\t},\n\t\t\t\t\tscrollY: {\n\t\t\t\t\t\tscrollableAnims: [],\n\t\t\t\t\t\tscrollPos      : opts.initialScrollPos && opts.initialScrollPos[\"scrollY\"] || 0,\n\t\t\t\t\t\tscrollableArea : 0\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis._registerScrollListeners();\n\t\t\t\t//ReactDom.findDOMNode(this).addEventListener(\"onscroll\", this._.onScroll)\n\t\t\t}\n\t\t}\n\t\t\n\t\t_registerScrollListeners() {\n\t\t\tif ( this._.rendered ) {\n\t\t\t\tisBrowserSide && utils.addWheelEvent(\n\t\t\t\t\tReactDom.findDOMNode(this),\n\t\t\t\t\tthis._.onScroll = ( e ) => {//@todo\n\t\t\t\t\t\tlet prevent,\n\t\t\t\t\t\t    axe    = \"scrollY\",\n\t\t\t\t\t\t    oldPos = this._.axes[axe].scrollPos,\n\t\t\t\t\t\t    newPos = oldPos + e.deltaY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( oldPos !== newPos ) {\n\t\t\t\t\t\t\tif ( !this.shouldApplyScroll || this.shouldApplyScroll(newPos, oldPos, axe) ) {\n\t\t\t\t\t\t\t\tif ( this.scrollTo(newPos, undefined, axe) )\n\t\t\t\t\t\t\t\t\tprevent = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\taxe    = \"scrollX\";\n\t\t\t\t\t\toldPos = this._.axes[axe].scrollPos;\n\t\t\t\t\t\tnewPos = oldPos + e.deltaX;\n\t\t\t\t\t\tif ( oldPos !== newPos ) {\n\t\t\t\t\t\t\tif ( !this.shouldApplyScroll || this.shouldApplyScroll(newPos, oldPos, axe) ) {\n\t\t\t\t\t\t\t\tif ( this.scrollTo(newPos, undefined, axe) )\n\t\t\t\t\t\t\t\t\tprevent = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( prevent ) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.originalEvent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tisBrowserSide && utils.addEvent(\n\t\t\t\t\tReactDom.findDOMNode(this), 'drag',\n\t\t\t\t\t( e, touch, descr ) => {//@todo\n\t\t\t\t\t\tlet prevent,\n\t\t\t\t\t\t    axe    = \"scrollY\",\n\t\t\t\t\t\t    oldPos = this._.axes[axe].scrollPos,\n\t\t\t\t\t\t    newPos = oldPos + (descr._startPos.y - descr._lastPos.y) / 10;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( !this.shouldApplyScroll || this.shouldApplyScroll(newPos, oldPos, axe) ) {\n\t\t\t\t\t\t\tdescr._startPos.y = descr._lastPos.y;\n\t\t\t\t\t\t\tprevent           = !!this.scrollTo(newPos, undefined, axe);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\taxe    = \"scrollX\";\n\t\t\t\t\t\toldPos = this._.axes[axe].scrollPos;\n\t\t\t\t\t\tnewPos = oldPos + (descr._startPos.x - descr._lastPos.x) / 10;\n\t\t\t\t\t\tif ( !this.shouldApplyScroll || this.shouldApplyScroll(newPos, oldPos, axe) ) {\n\t\t\t\t\t\t\tdescr._startPos.x = descr._lastPos.x;\n\t\t\t\t\t\t\tprevent           = !!this.scrollTo(newPos, undefined, axe) && prevent;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t//e.preventDefault();\n\t\t\t\t\t\t//debugger\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( prevent ) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t//e.defaultPrevented=true;\n\t\t\t\t\t\t\t//console.log(this.constructor.displayName, prevent, e.defaultPrevented)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn !prevent;\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._.doRegister = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\tmakeTweenable() {\n\t\t\tif ( !this._.tweenEnabled ) {\n\t\t\t\tthis._.rtweensByProp      = {};\n\t\t\t\tthis._.rtweensByStateProp = {};\n\t\t\t\tthis._.tweenRefCSS        = {};\n\t\t\t\tthis._.tweenRefs          = {};\n\t\t\t\tthis._.tweenRefMaps       = {};\n\t\t\t\tthis._.tweenRefUnits      = {};\n\t\t\t\tthis._.tweenEnabled       = true;\n\t\t\t\tthis._.tweenRefOrigin     = {};\n\t\t\t\tthis._.tweenRefTargets    = this._.tweenRefTargets || [];\n\t\t\t\tthis._.runningAnims       = this._.runningAnims || [];\n\t\t\t\t\n\t\t\t\tisBrowserSide && window.addEventListener(\n\t\t\t\t\t\"resize\",\n\t\t\t\t\tthis._.onResize = () => {//@todo\n\t\t\t\t\t\tthis._updateBox();\n\t\t\t\t\t\tthis._updateTweenRefs()\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t_updateBox() {\n\t\t\tvar node = ReactDom.findDOMNode(this);\n\t\t\tif ( node ) {\n\t\t\t\tthis._.box.inited = true;\n\t\t\t\tthis._.box.x      = node.offsetWidth;\n\t\t\t\tthis._.box.y      = node.offsetHeight;\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetTweenableRef( id ) {\n\t\t\treturn this._.refs[id];\n\t\t}\n\t\t\n\t\t_rafLoop() {\n\t\t\tthis._updateTweenRefs();\n\t\t\tif ( this._.runningAnims.length )\n\t\t\t\trequestAnimationFrame(this._._rafLoop);\n\t\t\telse {\n\t\t\t\tthis._.live = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_updateTweenRefs() {\n\t\t\t//if ( this._.tweenEnabled ) {\n\t\t\t\n\t\t\tfor ( var i = 0, target, node; i < this._.tweenRefTargets.length; i++ ) {\n\t\t\t\ttarget = this._.tweenRefTargets[i];\n\t\t\t\tutils.mapInBoxCSS(\n\t\t\t\t\tthis._.tweenRefMaps[target],\n\t\t\t\t\tthis._.tweenRefCSS[target],\n\t\t\t\t\tthis._.box,\n\t\t\t\t\tthis._.tweenRefUnits[target]\n\t\t\t\t);\n\t\t\t\tnode = this._.tweenEnabled && target == \"__root\"\n\t\t\t\t       ? ReactDom.findDOMNode(this)\n\t\t\t\t       : this.getTweenableRef(target);\n\t\t\t\tnode && Object.assign(node.style, this._.tweenRefCSS[target]);\n\t\t\t\t//console.log(this._.tweenRefCSS[target].transform)\n\t\t\t}\n\t\t\t//}\n\t\t}\n\t\t\n\t\tcomponentWillUnmount() {\n\t\t\t\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tthis._.tweenEnabled = false;\n\t\t\t\twindow.removeEventListener(\"resize\", this._.onResize);\n\t\t\t}\n\t\t\t\n\t\t\tif ( this._.scrollEnabled ) {\n\t\t\t\tthis._.scrollEnabled = false;\n\t\t\t\tthis._.axes          = undefined;\n\t\t\t\tutils.rmWheelEvent(\n\t\t\t\t\tReactDom.findDOMNode(this),\n\t\t\t\t\tthis._.onScroll);\n\t\t\t}\n\t\t\t\n\t\t\tsuper.componentWillUnmount && super.componentWillUnmount();\n\t\t}\n\t\t\n\t\tcomponentDidMount() {\n\t\t\tlet _static = this.constructor;\n\t\t\t\n\t\t\tthis._.rendered = true;\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\t// debugger;\n\t\t\t\tthis._updateBox();\n\t\t\t\tthis._updateTweenRefs();\n\t\t\t}\n\t\t\tif ( this._.delayedMotionTarget ) {\n\t\t\t\tthis.goToMotionStateId(this._.delayedMotionTarget);\n\t\t\t\tdelete this._.delayedMotionTarget;\n\t\t\t}\n\t\t\tif ( _static.scrollableAnim ) {\n\t\t\t\tif ( is.array(_static.scrollableAnim) )\n\t\t\t\t\tthis.addScrollableAnim(_static.scrollableAnim);\n\t\t\t\telse\n\t\t\t\t\tObject.keys(_static.scrollableAnim)\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      axe => this.addScrollableAnim(_static.scrollableAnim[axe], axe)\n\t\t\t\t\t      )\n\t\t\t}\n\t\t\tif ( this._.doRegister ) {\n\t\t\t\tthis._registerScrollListeners();\n\t\t\t\tthis._.doRegister = false;\n\t\t\t}\n\t\t\tsuper.componentDidMount && super.componentDidMount();\n\t\t}\n\t\t\n\t\tcomponentDidUpdate( prevProps, prevState ) {\n\t\t\t\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tthis._updateBox();\n\t\t\t\tthis._updateTweenRefs();\n\t\t\t\t\n\t\t\t\tthis._.rtweensByProp\n\t\t\t\t&& Object.keys(prevProps)\n\t\t\t\t         .forEach(\n\t\t\t\t\t         ( k ) =>\n\t\t\t\t\t\t         this._.rtweensByProp[k]\n\t\t\t\t\t\t         && (this.props[k] !== prevProps[k])\n\t\t\t\t\t\t         && this._.rtweensByProp[k][this.props[k]]\n\t\t\t\t\t\t         && this.pushAnim(this._.rtweensByProp[k][this.props[k]]/*get current pos*/),\n\t\t\t\t\t         this\n\t\t\t\t         );\n\t\t\t\tthis._.rtweensByStateProp\n\t\t\t\t&& prevState\n\t\t\t\t&& Object.keys(prevState)\n\t\t\t\t         .forEach(\n\t\t\t\t\t         ( k ) =>\n\t\t\t\t\t\t         this._.rtweensByStateProp[k]\n\t\t\t\t\t\t         && (this.state[k] !== prevState[k])\n\t\t\t\t\t\t         && this._.rtweensByStateProp[k][this.state[k]]\n\t\t\t\t\t\t         && this.pushAnim(this._.rtweensByStateProp[k][this.state[k]]/*get current pos*/),\n\t\t\t\t\t         this\n\t\t\t\t         );\n\t\t\t}\n\t\t\tsuper.componentDidUpdate && super.componentDidUpdate();\n\t\t\t// return;\n\t\t}\n\t\t\n\t\tregisterPropChangeAnim( propId, propValue, anims ) {\n\t\t\tthis._.rtweensByProp                    = this._.rtweensByProp || {};\n\t\t\tthis._.rtween                           = this._.rtween || new rtween();\n\t\t\tthis._.rtweensByProp[propId]            = this._.rtweensByProp[propId] || {};\n\t\t\tthis._.rtweensByProp[propId][propValue] = this._.rtweensByProp[propId][propValue] ||\n\t\t\t\tnew rtween();\n\t\t\t\n\t\t\tthis._.rtweensByProp[propId][propValue].mount(anims);\n\t\t\t\n\t\t}\n\t\t\n\t\tregisterStateChangeAnim( propId, propValue, anims ) {\n\t\t\tthis._.rtweensByStateProp                    = this._.rtweensByStateProp || {};\n\t\t\tthis._.rtween                                = this._.rtween || new rtween();\n\t\t\tthis._.rtweensByStateProp[propId]            = this._.rtweensByStateProp[propId] || {};\n\t\t\tthis._.rtweensByStateProp[propId][propValue] = this._.rtweensByStateProp[propId][propValue] ||\n\t\t\t\tnew rtween();\n\t\t\t\n\t\t\tthis._.rtweensByStateProp[propId][propValue].mount(anims);\n\t\t\t\n\t\t}\n\t\t\n\t\trender() {\n\t\t\treturn <TweenerContext.Provider value={ this }>\n\t\t\t\t{ super.render() }\n\t\t\t</TweenerContext.Provider>;\n\t\t}\n\t}\n}\n","/*\n *\n * Copyright (C) 2019 Nathan Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React          from 'react';\nimport asTweener      from './asTweener';\nimport TweenRef       from './TweenRef';\nimport TweenerContext from './TweenerContext';\n\nconst Component = asTweener({})(React.Component);\n\nclass TweenableComponent extends Component {\n\trender() {\n\t\treturn 'Should have some render fn here in ' + this.constructor.displayName;\n\t}\n}\n\nexport {asTweener, TweenRef, Component, TweenerContext};\nexport default TweenableComponent;","/*\r\n *\r\n * Copyright (C) 2019 Nathan Braun\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as published by\r\n * the Free Software Foundation, either version 3 of the License, or\r\n * (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nvar\r\n\tis          = require('is'),\r\n\tfloatCut    = function ( v, l ) {\r\n\t\tvar p = Math.pow(10, l);\r\n\t\treturn Math.round(v * p) / p;\r\n\t},\r\n\tmin         = Math.min,\r\n\tmax         = Math.max,\r\n\tisBrowser   = typeof window !== 'undefined',\r\n\tDom         = isBrowser ? {\r\n\t\tprefix      : (/webkit/i).test(navigator.appVersion) ? 'webkit' :\r\n\t\t              (/firefox/i).test(navigator.userAgent) ? 'Moz' :\r\n\t\t              (/trident/i).test(navigator.userAgent) ? 'ms' :\r\n\t\t              'opera' in window ? 'O' : '',\r\n\t\tdashedPrefix: (/webkit/i).test(navigator.appVersion) ? '-webkit-' :\r\n\t\t              (/firefox/i).test(navigator.userAgent) ? '-moz-' :\r\n\t\t              (/trident/i).test(navigator.userAgent) ? '-ms-' :\r\n\t\t              'opera' in window ? '-o-' : ''\r\n\t} : {\r\n\t\tprefix      : '',\r\n\t\tdashedPrefix: ''\r\n\t},\r\n\tcustomProps = {\r\n\t\t_x         : true,\r\n\t\tx          : true,\r\n\t\t_y         : true,\r\n\t\ty          : true,\r\n\t\t_z         : true,\r\n\t\tz          : true,\r\n\t\ttransform  : true,\r\n\t\tperspective: true,\r\n\t\tmatrix     : true,// @todo\r\n\t\trotate     : true,\r\n\t\trotateX    : true,\r\n\t\trotateY    : true,\r\n\t\t_width     : true,\r\n\t\t_height    : true,\r\n\t},\r\n\t__          = {\r\n\t\tonPageHided      : [],\r\n\t\tonPageShown      : [],\r\n\t\tdragging         : [],\r\n\t\tdragEnabled      : [],\r\n\t\tdragEnabledDesc  : [],\r\n\t\tfingers          : {},\r\n\t\tnbFingers        : 0,\r\n\t\tdragstartAnywhere: function ( e ) {\r\n\t\t\tvar o,\r\n\t\t\t    me            = __,\r\n\t\t\t    i             = me.dragEnabled.indexOf(this),\r\n\t\t\t    finger,\r\n\t\t\t    desc, fingers = [];\r\n\t\t\t\r\n\t\t\tif ( i === -1 ) {\r\n\t\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//e.preventDefault();\r\n\t\t\t//e.stopPropagation();\r\n\t\t\t\r\n\t\t\tif ( !me.nbFingers ) {\r\n\t\t\t\tDom.addEvent(document,\r\n\t\t\t\t             {\r\n\t\t\t\t\t             'touchmove': me.dragAnywhere,\r\n\t\t\t\t\t             //'mousemove': me.dragAnywhere,\r\n\t\t\t\t\t             'touchend' : me.dropAnywhere,\r\n\t\t\t\t\t             //'mouseup'  : me.dropAnywhere\r\n\t\t\t\t             });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\r\n\t\t\t\tfingers = e.changedTouches\r\n\t\t\t}\r\n\t\t\telse fingers.push(e);\r\n\t\t\t\r\n\t\t\tfor ( var t = 0, ln = fingers.length; t < ln; t++ ) {\r\n\t\t\t\tfinger = fingers[t];\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdesc = me.dragEnabledDesc[i];\r\n\t\t\t\t\r\n\t\t\t\tif ( desc.nbFingers ) continue;\r\n\t\t\t\t\r\n\t\t\t\tme.nbFingers++;\r\n\t\t\t\t\r\n\t\t\t\tme.fingers[finger.identifier] = me.fingers[finger.identifier] || [];\r\n\t\t\t\tme.fingers[finger.identifier].push(desc);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdesc.nbFingers++;\r\n\t\t\t\t\r\n\t\t\t\tdesc._startPos.x = Dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\tdesc._startPos.y = Dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\r\n\t\t\t\tif ( !desc ) continue;\r\n\t\t\t\t\r\n\t\t\t\tdesc._lastPos.x = Dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\tdesc._lastPos.y = Dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\r\n\t\t\t\tfor ( o = 0; o < desc.dragstart.length; o++ )\r\n\t\t\t\t\tdesc.dragstart[o][0].call(desc.dragstart[o][1] ||\r\n\t\t\t\t\t\t                          this, e, finger, desc);\r\n\t\t\t}\r\n\t\t},\r\n\t\tdragAnywhere     : function ( e ) {\r\n\t\t\tvar o,\r\n\t\t\t    me              = __,\r\n\t\t\t    finger, fingers = [], stopped,\r\n\t\t\t    desc            = __.dragging[0];\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\r\n\t\t\t\tfingers = e.changedTouches\r\n\t\t\t}\r\n\t\t\telse fingers.push(e);\r\n\t\t\t\r\n\t\t\tfor ( var i = 0, ln = fingers.length; i < ln; i++ ) {\r\n\t\t\t\tfinger = fingers[i];\r\n\t\t\t\tdesc   = me.fingers[finger.identifier];\r\n\t\t\t\tme.fingers[finger.identifier] &&\r\n\t\t\t\tme.fingers[finger.identifier].forEach(\r\n\t\t\t\t\tdesc => {\r\n\t\t\t\t\t\tif ( stopped ) {\r\n\t\t\t\t\t\t\tdesc._lastPos.x = desc._startPos.x = Dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\t\t\t\tdesc._lastPos.y = desc._startPos.y = Dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdesc._lastPos.x = Dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\t\t\tdesc._lastPos.y = Dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor ( o = 0; o < desc.drag.length; o++ )\r\n\t\t\t\t\t\t\tstopped = desc.drag[o][0].call(desc.drag[o][1] || this, e,\r\n\t\t\t\t\t\t\t                               finger,\r\n\t\t\t\t\t\t\t                               desc) === false;\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tdropAnywhere     : function ( e ) {\r\n\t\t\tvar o,\r\n\t\t\t    me = __, finger, fingers = [],\r\n\t\t\t    desc;\r\n\t\t\t\r\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\r\n\t\t\t\tfingers = e.changedTouches\r\n\t\t\t}\r\n\t\t\telse fingers.push(e);\r\n\t\t\t\r\n\t\t\tfor ( var i = 0, ln = fingers.length; i < ln; i++ ) {\r\n\t\t\t\tfinger = fingers[i];\r\n\t\t\t\tme.fingers[finger.identifier] &&\r\n\t\t\t\tme.fingers[finger.identifier].forEach(\r\n\t\t\t\t\tdesc => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.nbFingers--;\r\n\t\t\t\t\t\tdesc.nbFingers--;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdesc._lastPos.x = Dom.prefix == 'MS' ? finger.x : finger.pageX;\r\n\t\t\t\t\t\tdesc._lastPos.y = Dom.prefix == 'MS' ? finger.y : finger.pageY;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor ( o = 0; o < desc.dropped.length; o++ )\r\n\t\t\t\t\t\t\tdesc.dropped[o][0].call(desc.dropped[o][1] ||\r\n\t\t\t\t\t\t\t\t                        this, e,\r\n\t\t\t\t\t\t\t                        finger, desc);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tme.fingers[finger.identifier] = null;\r\n\t\t\t\r\n\t\t\tif ( !me.nbFingers ) {\r\n\t\t\t\tDom.removeEvent(document,\r\n\t\t\t\t                {\r\n\t\t\t\t\t                'touchmove': me.dragAnywhere,\r\n\t\t\t\t\t                'mousemove': me.dragAnywhere,\r\n\t\t\t\t\t                'touchend' : me.dropAnywhere,\r\n\t\t\t\t\t                'mouseup'  : me.dropAnywhere\r\n\t\t\t\t                });\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetDraggable     : function ( node ) {\r\n\t\t\tvar i = this.dragEnabled.indexOf(node), desc;\r\n\t\t\tif ( i === -1 ) {\r\n\t\t\t\ti = this.dragEnabled.length;\r\n\t\t\t\tthis.dragEnabled.push(node);\r\n\t\t\t\tthis.dragEnabledDesc.push(\r\n\t\t\t\t\tdesc = {\r\n\t\t\t\t\t\tnbFingers: 0,\r\n\t\t\t\t\t\tlocks    : 0,\r\n\t\t\t\t\t\t_startPos: {\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t_lastPos : {\r\n\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\ty: 0\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdragstart: [],\r\n\t\t\t\t\t\tdrag     : [],\r\n\t\t\t\t\t\tdragEnd  : [],\r\n\t\t\t\t\t\tdropped  : []\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\t//debugger;\r\n\t\t\t\tDom.addEvent(node,\r\n\t\t\t\t             {\r\n\t\t\t\t\t             //'mousedown' : this.dragstartAnywhere,\r\n\t\t\t\t\t             'touchstart': this.dragstartAnywhere\r\n\t\t\t\t             }, null, null, true);\r\n\t\t\t}\r\n\t\t\telse desc = this.dragEnabledDesc[i];\r\n\t\t\treturn desc;\r\n\t\t},\r\n\t\tfreeDraggable    : function ( node ) {\r\n\t\t\tvar i = this.dragEnabled.indexOf(node), desc;\r\n\t\t\tif ( i !== -1 ) {\r\n\t\t\t\tthis.dragEnabled.splice(i, 1);\r\n\t\t\t\tthis.dragEnabledDesc.splice(i, 1);\r\n\t\t\t\t\r\n\t\t\t\tDom.removeEvent(node,\r\n\t\t\t\t                {\r\n\t\t\t\t\t                'mousedown' : this.dragstartAnywhere,\r\n\t\t\t\t\t                'touchstart': this.dragstartAnywhere\r\n\t\t\t\t                });\r\n\t\t\t}\r\n\t\t},\r\n\t\taddOverflowEvent : function addFlowListener( element, fn ) {\r\n\t\t\t\r\n\t\t\tvar type = 'over', flow = type == 'over';\r\n\t\t\t\r\n\t\t\telement.addEventListener('OverflowEvent' in window ? 'overflowchanged' : type + 'flow',\r\n\t\t\t                         function ( e ) {\r\n\t\t\t\t                         if ( e.type == (type + 'flow') ||\r\n\t\t\t\t\t                         ((e.orient == 0 && e.horizontalOverflow == flow) ||\r\n\t\t\t\t\t\t                         (e.orient == 1 && e.verticalOverflow == flow) ||\r\n\t\t\t\t\t\t                         (e.orient == 2 && e.horizontalOverflow == flow &&\r\n\t\t\t\t\t\t\t                         e.verticalOverflow == flow)) ) {\r\n\t\t\t\t\t                         return fn.call(this, e);\r\n\t\t\t\t                         }\r\n\t\t\t                         }, false);\r\n\t\t\t\r\n\t\t},\r\n\t\taddEvent         : function ( node, type, fn, bubble ) {\r\n\t\t\tif ( node.addEventListener ) {\r\n\t\t\t\tnode.addEventListener(type, fn, bubble);\r\n\t\t\t}\r\n\t\t\telse if ( node.attachEvent ) {\r\n\t\t\t\tnode.attachEvent('on' + type,\r\n\t\t\t\t                 fn.related = function ( e ) {\r\n\t\t\t\t\t                 return fn.call(node, e);\r\n\t\t\t\t                 });\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveEvent      : function ( node, type, fn, bubble ) {\r\n\t\t\tif ( node.removeEventListener ) {\r\n\t\t\t\tnode.removeEventListener(type, fn, bubble);\r\n\t\t\t}\r\n\t\t\telse if ( node.attachEvent ) {\r\n\t\t\t\tnode.detachEvent('on' + type, fn.related);\r\n\t\t\t}\r\n\t\t},\r\n\t\trmFnScopePair    : function ( arr, fn, scope ) {\r\n\t\t\tfor ( var i = 0, ln = arr.length; i < ln; i++ ) {\r\n\t\t\t\tif ( arr[i][0] == fn && arr[i][1] == scope )\r\n\t\t\t\t\treturn arr.splice(i, 1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconsole.warn(\"Rm event : Listener not found !!\");\r\n\t\t},\r\n\t\t_createElement   : function ( tag, opt, refs, parent ) {\r\n\t\t\tvar a, o, i, ln,\r\n\t\t\t    node = parent || document.createElement(tag);\r\n\t\t\t\r\n\t\t\t//if (parent) opt = {content:opt};\r\n\t\t\t\r\n\t\t\tif ( opt )\r\n\t\t\t\tfor ( o in opt )\r\n\t\t\t\t\tif ( opt.hasOwnProperty(o) && opt[o] !== undefined\r\n\t\t\t\t\t\t&& !_createElementAttr.hasOwnProperty(o) ) {\r\n\t\t\t\t\t\ta       = document.createAttribute(o);\r\n\t\t\t\t\t\ta.value = opt[o];\r\n\t\t\t\t\t\tnode.setAttributeNode(a);\r\n\t\t\t\t\t}\r\n\t\t\t\r\n\t\t\trefs && opt.$id && (refs[opt.$id] = node);\r\n\t\t\t\r\n\t\t\topt.style && Dom.applyCss(node, opt.style);\r\n\t\t\t\r\n\t\t\topt.cls && Dom.addCls(node, opt.cls);\r\n\t\t\t\r\n\t\t\tif ( opt.events ) {\r\n\t\t\t\tfor ( o in opt.events )\r\n\t\t\t\t\tif ( opt.events.hasOwnProperty(o) && o !== \"$scope\" )\r\n\t\t\t\t\t\tDom.addEvent(node, o, opt.events[o], opt.events.$scope);\r\n\t\t\t}\r\n\t\t\tif ( opt.content ) {\r\n\t\t\t\tif ( typeof opt.content === 'string' || typeof opt.content[o] == 'number' ) {\r\n\t\t\t\t\tnode.innerHTML = opt.content;\r\n\t\t\t\t}\r\n\t\t\t\telse if ( opt.content instanceof Array ) {\r\n\t\t\t\t\tfor ( i = 0, ln = opt.content.length; i < ln; i++ )\r\n\t\t\t\t\t\tnode.appendChild(\r\n\t\t\t\t\t\t\ttypeof opt.content[i] == 'string' || typeof opt.content[i] == 'number' || !opt.content[i] ?\r\n\t\t\t\t\t\t\tdocument.createTextNode(opt.content[i] || '') :\r\n\t\t\t\t\t\t\tisElement(opt.content[i]) ?\r\n\t\t\t\t\t\t\topt.content[i] :\r\n\t\t\t\t\t\t\t__createElement(opt.content[i].tagName || 'div', opt.content[i], refs)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tnode.appendChild(\r\n\t\t\t\t\t\topt.content instanceof HTMLElement ?\r\n\t\t\t\t\t\topt.content : __createElement(\r\n\t\t\t\t\t\t\topt.content.tagName || 'div', opt.content, refs)\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn node;\r\n\t\t}\r\n\t},\r\n\tDom         = {\r\n\t\taddEvent     : function ( node, type, fn, scope, bubble ) {\r\n\t\t\tvar desc;\r\n\t\t\tif ( is.object(type) ) {\r\n\t\t\t\tfor ( var o in type )\r\n\t\t\t\t\tif ( type.hasOwnProperty(o) )\r\n\t\t\t\t\t\tthis.addEvent(node, o, type[o], fn);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\telse if ( type == 'dragstart' ) {\r\n\t\t\t\t__.getDraggable(node).dragstart.push([fn, scope]);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ( type == 'drag' ) {\r\n\t\t\t\t\r\n\t\t\t\t__.getDraggable(node).drag.push([fn, scope]);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ( type == 'dropped' ) {\r\n\t\t\t\t\r\n\t\t\t\t__.getDraggable(node).dropped.push([fn, scope]);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif ( node.addEventListener ) {\r\n\t\t\t\t\tnode.addEventListener(type, fn, bubble);\r\n\t\t\t\t}\r\n\t\t\t\telse if ( node.attachEvent ) {\r\n\t\t\t\t\tnode.attachEvent('on' + type,\r\n\t\t\t\t\t                 fn.related = function ( e ) {\r\n\t\t\t\t\t\t                 return fn.call(node, e);\r\n\t\t\t\t\t                 });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tremoveEvent  : function ( node, type, fn, scope, bubble ) {\r\n\t\t\tvar i, desc;\r\n\t\t\t\r\n\t\t\tif ( is.object(type) ) {\r\n\t\t\t\tfor ( var o in type )\r\n\t\t\t\t\tif ( type.hasOwnProperty(o) )\r\n\t\t\t\t\t\tthis.removeEvent(node, o, type[o], scope);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ( /^(drag|drop)/.test(type) ) {\r\n\t\t\t\tdesc = __.getDraggable(node);\r\n\t\t\t\t__.rmFnScopePair(desc[type], fn, scope);\r\n\t\t\t\tif ( !desc.dragstart.length\r\n\t\t\t\t\t&& !desc.drag.length\r\n\t\t\t\t\t&& !desc.dragEnd.length\r\n\t\t\t\t\t&& !desc.dropped.length )\r\n\t\t\t\t\t__.freeDraggable(node);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif ( node.removeEventListener ) {\r\n\t\t\t\t\tnode.removeEventListener(type, fn, bubble);\r\n\t\t\t\t}\r\n\t\t\t\telse if ( node.attachEvent ) {\r\n\t\t\t\t\tnode.detachEvent('on' + type, fn.related);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\toffset       : function ( elem ) {// @todo\r\n\t\t\tvar dims = { top: 0, left: 0, width: elem.offsetWidth, height: elem.offsetHeight };\r\n\t\t\twhile ( elem ) {\r\n\t\t\t\tdims.top  = dims.top + parseInt(elem.offsetTop);\r\n\t\t\t\tdims.left = dims.left + parseInt(elem.offsetLeft);\r\n\t\t\t\telem      = elem.offsetParent;\r\n\t\t\t}\r\n\t\t\treturn dims;\r\n\t\t},\r\n\t\taddWheelEvent: isBrowser && (function ( window, document ) {\r\n\t\t\t\r\n\t\t\tvar prefix = \"\", _addEventListener, _rmEventListener, onwheel, support;\r\n\t\t\t\r\n\t\t\t// detect event model\r\n\t\t\tif ( window.addEventListener ) {\r\n\t\t\t\t_addEventListener = \"addEventListener\";\r\n\t\t\t\t_rmEventListener  = \"removeEventListener\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t_addEventListener = \"attachEvent\";\r\n\t\t\t\t_rmEventListener  = \"detachEvent\";\r\n\t\t\t\tprefix            = \"on\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// detect available wheel event\r\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\r\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\r\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\r\n\t\t\t\r\n\t\t\tconst addWheelListener = function ( elem, callback, scope, useCapture ) {\r\n\t\t\t\t_addWheelListener(elem, support, callback, scope, useCapture);\r\n\t\t\t\t\r\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\r\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\r\n\t\t\t\t\t_addWheelListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t// Reasonable defaults\r\n\t\t\tvar PIXEL_STEP         = 10;\r\n\t\t\tvar LINE_HEIGHT        = 40;\r\n\t\t\tvar PAGE_HEIGHT        = 800;\r\n\t\t\t\r\n\t\t\tfunction normalizeWheel( /*object*/ event ) /*object*/ {\r\n\t\t\t\tvar sX         = 0, sY = 0,       // spinX, spinY\r\n\t\t\t\t    pX = 0, pY = 0;       // pixelX, pixelY\r\n\t\t\t\t\r\n\t\t\t\t// Legacy\r\n\t\t\t\tif ( 'detail' in event ) {\r\n\t\t\t\t\tsY = event.detail;\r\n\t\t\t\t}\r\n\t\t\t\tif ( 'wheelDelta' in event ) {\r\n\t\t\t\t\tsY = -event.wheelDelta / 120;\r\n\t\t\t\t}\r\n\t\t\t\tif ( 'wheelDeltaY' in event ) {\r\n\t\t\t\t\tsY = -event.wheelDeltaY / 120;\r\n\t\t\t\t}\r\n\t\t\t\tif ( 'wheelDeltaX' in event ) {\r\n\t\t\t\t\tsX = -event.wheelDeltaX / 120;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// side scrolling on FF with DOMMouseScroll\r\n\t\t\t\tif ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\r\n\t\t\t\t\tsX = sY;\r\n\t\t\t\t\tsY = 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tpX = sX * PIXEL_STEP;\r\n\t\t\t\tpY = sY * PIXEL_STEP;\r\n\t\t\t\t\r\n\t\t\t\tif ( 'deltaY' in event ) {\r\n\t\t\t\t\tpY = event.deltaY;\r\n\t\t\t\t}\r\n\t\t\t\tif ( 'deltaX' in event ) {\r\n\t\t\t\t\tpX = event.deltaX;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ( (pX || pY) && event.deltaMode ) {\r\n\t\t\t\t\tif ( event.deltaMode == 1 ) {          // delta in LINE units\r\n\t\t\t\t\t\tpX *= LINE_HEIGHT;\r\n\t\t\t\t\t\tpY *= LINE_HEIGHT;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {                             // delta in PAGE units\r\n\t\t\t\t\t\tpX *= PAGE_HEIGHT;\r\n\t\t\t\t\t\tpY *= PAGE_HEIGHT;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Fall-back if spin cannot be determined\r\n\t\t\t\tif ( pX && !sX ) {\r\n\t\t\t\t\tsX = (pX < 1) ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\tif ( pY && !sY ) {\r\n\t\t\t\t\tsY = (pY < 1) ? -1 : 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\tspinX : sX,\r\n\t\t\t\t\tspinY : sY,\r\n\t\t\t\t\tpixelX: pX,\r\n\t\t\t\t\tpixelY: pY\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfunction _addWheelListener( elem, eventName, callback, scope, useCapture ) {\r\n\t\t\t\telem[_addEventListener](prefix + eventName, callback._wheelList = function ( originalEvent ) {\r\n\t\t\t\t\t!originalEvent && (originalEvent = window.event);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// create a normalized event object\r\n\t\t\t\t\tvar event = {\r\n\t\t\t\t\t\t// keep a ref to the original event object\r\n\t\t\t\t\t\toriginalEvent : originalEvent,\r\n\t\t\t\t\t\ttarget        : originalEvent.target || originalEvent.srcElement,\r\n\t\t\t\t\t\ttype          : \"wheel\",\r\n\t\t\t\t\t\tdeltaMode     : originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\r\n\t\t\t\t\t\tdeltaX        : 0,\r\n\t\t\t\t\t\tdelatZ        : 0,\r\n\t\t\t\t\t\tpreventDefault: function () {\r\n\t\t\t\t\t\t\toriginalEvent.preventDefault ?\r\n\t\t\t\t\t\t\toriginalEvent.preventDefault() :\r\n\t\t\t\t\t\t\toriginalEvent.returnValue = false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tnormalized    : normalizeWheel(originalEvent)\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\t// calculate deltaY (and deltaX) according to the event\r\n\t\t\t\t\tif ( support == \"mousewheel\" ) {\r\n\t\t\t\t\t\tevent.deltaY = -1 / 40 * originalEvent.wheelDelta;\r\n\t\t\t\t\t\t// Webkit also support wheelDeltaX\r\n\t\t\t\t\t\t//                            originalEvent.wheelDeltaX && ( event.deltaX = - 1/40 *\r\n\t\t\t\t\t\t// originalEvent.wheelDeltaX );\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( support == \"wheel\" && Dom.prefix == \"Moz\" ) {\r\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 3;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if ( support == \"wheel\" ) {\r\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 100;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//                        if (typeof originalEvent.wheelDeltaY !== 'number')\r\n\t\t\t\t\t//                            event.wheelDeltaY = originalEvent.deltaY/100;\r\n\t\t\t\t\t\r\n\t\t\t\t\t//                        event.wheelDelta = deltaY*120;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// it's time to fire the callback\r\n\t\t\t\t\treturn callback.call(scope || this, event);\r\n\t\t\t\t\t\r\n\t\t\t\t}, useCapture || false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn addWheelListener;\r\n\t\t})(window, document),\r\n\t\trmWheelEvent : isBrowser && (function ( window, document ) {\r\n\t\t\t\r\n\t\t\tvar prefix = \"\", _rmEventListener, onwheel, support;\r\n\t\t\t\r\n\t\t\t// detect event model\r\n\t\t\tif ( addEventListener ) {\r\n\t\t\t\t_rmEventListener = \"removeEventListener\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t_rmEventListener = \"detachEvent\";\r\n\t\t\t\tprefix           = \"on\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// detect available wheel event\r\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\r\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\r\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\r\n\t\t\t\r\n\t\t\tlet rmWheelListener = function ( elem, callback, scope, useCapture ) {\r\n\t\t\t\t_EventListener(elem, support, callback, scope, useCapture);\r\n\t\t\t\t\r\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\r\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\r\n\t\t\t\t\t_EventListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tfunction _EventListener( elem, eventName, callback, scope, useCapture ) {\r\n\t\t\t\telem[_rmEventListener](prefix + eventName, callback._wheelList);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn rmWheelListener;\r\n\t\t})(window, document),\r\n\t\tmapInBoxCSS  : function ( pos, css, box, units, offset ) {\r\n\t\t\tvar t = '';\r\n\t\t\tif ( is.number(pos._z) || is.number(pos._x) || is.number(pos._y) || is.number(pos.z) ||\r\n\t\t\t\tis.number(pos.x) || is.number(pos.y) )\r\n\t\t\t\tt = 'translate3d(' +\r\n\t\t\t\t\tfloatCut((pos._x || 0) * (box.x || 0) + (pos.x || 0) + (offset && offset.x || 0), 2) +\r\n\t\t\t\t\t(units && units.x || 'px') + ', ' +\r\n\t\t\t\t\tfloatCut((pos._y || 0) * (box.y || 0) + (pos.y || 0) + (offset && offset.y || 0), 2) +\r\n\t\t\t\t\t(units && units.y || 'px') + ', ' +\r\n\t\t\t\t\tfloatCut((pos._z || 0) * (box.z || 0) + (pos.z || 0) + (offset && offset.z || 0), 2) +\r\n\t\t\t\t\t(units && units.z || 'px') + '' +\r\n\t\t\t\t\t')';\r\n\t\t\t\r\n\t\t\t//@todo matrix\r\n\t\t\tif ( pos.rotate && is.number(pos.rotate) )\r\n\t\t\t\tt += ' rotate(' + floatCut((pos.rotate || 0) % 360, 2) + 'deg)';\r\n\t\t\tif ( pos.rotateX && is.number(pos.rotateX) )\r\n\t\t\t\tt += ' rotateX(' + floatCut((pos.rotateX || 0) % 360, 2) + 'deg)';\r\n\t\t\tif ( pos.rotateY && is.number(pos.rotateY) )\r\n\t\t\t\tt += ' rotateY(' + floatCut((pos.rotateY || 0) % 360, 2) + 'deg)';\r\n\t\t\t\r\n\t\t\tif ( is.number(pos.opacity) )\r\n\t\t\t\tcss.opacity = min(1, max(0, floatCut(pos.opacity, 2)));\r\n\t\t\t\r\n\t\t\tpos.perspective && (t = \"perspective(\" + pos.perspective + (units && units.perspective || 'px') + \") \" + t)\r\n\t\t\t\r\n\t\t\tt && (\r\n\t\t\t\tcss.transform = t\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tis.number(pos._width) && (css.width = (pos._width) * (box.x || 0) + 'px');\r\n\t\t\tis.number(pos._height) && (css.height = (pos._height) * (box.y || 0) + 'px');\r\n\t\t\t\r\n\t\t\tis.number(pos.width) && (css.width = (pos.width) + (units && units.x || 'px'));\r\n\t\t\tis.number(pos.height) && (css.height = (pos.height) + (units && units.y || 'px'));\r\n\t\t\t\r\n\t\t\tis.number(pos.zIndex) && (css.zIndex = pos.zIndex);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tObject.keys(pos).forEach(\r\n\t\t\t\tkey => {\r\n\t\t\t\t\tif ( !(key in customProps) )\r\n\t\t\t\t\t\tcss[key] = pos[key] + (units && units[key] || 'px')\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t},\r\n\t};\r\nexport default Dom;","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"@babel/runtime/helpers/get\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"is\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"rtween\");","module.exports = require(\"shortid\");","module.exports = require(\"taskflows\");","module.exports = require(\"@babel/runtime/helpers/objectSpread\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");"],"sourceRoot":""}