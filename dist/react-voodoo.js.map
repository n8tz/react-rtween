{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/MapOf.react_voodoo_utils_css_demux_____js.gen.js","webpack:///./src/MapOf.react_voodoo_utils_css_demux_typed_____js.gen.js","webpack:///./src/comps/TweenAxis.js","webpack:///./src/comps/TweenRef.js","webpack:///./src/comps/TweenerContext.js","webpack:///./src/index.js","webpack:///./src/spells/asTweener.js","webpack:///./src/spells/withTweener.js","webpack:///./src/utils/css/cssUtils.js","webpack:///./src/utils/css/demux sync ^\\.\\/([^\\\\\\/]+)\\.js$","webpack:///./src/utils/css/demux/$all.js","webpack:///./src/utils/css/demux/backgroundColor.js","webpack:///./src/utils/css/demux/filter.js","webpack:///./src/utils/css/demux/transform.js","webpack:///./src/utils/css/demux/typed sync ^\\.\\/([^\\\\\\/]+)\\.js$","webpack:///./src/utils/css/demux/typed/color.js","webpack:///./src/utils/css/demux/typed/int.js","webpack:///./src/utils/css/demux/typed/multi.js","webpack:///./src/utils/css/demux/typed/number.js","webpack:///./src/utils/css/index.js","webpack:///./src/utils/dom.js","webpack:///./src/utils/inertia.js","webpack:///./src/utils/tweenTools.js","webpack:///external \"d3-ease\"","webpack:///external \"prop-types\"","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///external \"is\"","webpack:///external \"color-rgba\"","webpack:///external \"tween-axis\"","webpack:///external \"shortid\"","webpack:///external \"@babel/runtime/helpers/inheritsLoose\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\""],"names":["req","_exports","root","require","keys","forEach","key","mod","name","match","i","modExport","substr","split","length","Object","default","$all","backgroundColor","filter","transform","color","int","multi","number","TweenAxis","state","componentWillUnmount","_tweenLines","axe","_previousTweener","rmScrollableAnim","_previousScrollable","render","props","children","scrollFirst","scrollableWindow","inertia","size","defaultPosition","items","tweener","_previousInertia","initAxis","_lastTL","addScrollableAnim","_previousTweens","React","Component","propTypes","PropTypes","string","isRequired","array","any","setTarget","anims","target","map","tween","TweenRef","__tweenableId","shortid","generate","_tweenAxis","_currentTweener","rmTweenRef","setRootRef","undefined","componentDidMount","id","getTweenableRef","style","p","_updateTweenRef","initial","pos","noRef","reset","isRoot","tweenLines","tweenAxis","onClick","onDoubleClick","parentTweener","twRef","tweenRef","is","scrollY","reduce","h","hasOwnProperty","isValidElement","cloneElement","e","TweenerContext","createContext","Tweenable","asTweener","isBrowserSide","Function","isArray","_live","lastTm","_running","SimpleObjectProto","constructor","Runner","run","tl","ctx","duration","cb","apply","go","push","cpos","Date","now","setTimeout","_tick","o","tm","delta","Math","min","splice","argz","BaseComponent","prototype","shift","opts","wheelRatio","maxClickTm","maxClickOffset","arguments","_updateNodeInertia","_","current","ln","activeInertia","_inertiaRaf","cancelAnimationFrame","x","active","holding","scrollLeft","update","y","scrollTop","slice","requestAnimationFrame","refs","muxByTarget","box","z","_rafLoop","bind","__isTweener","resetTweenable","targets","t","tweenRefOriginCss","iMapOrigin","_updateTweenRefs","iStyle","iMap","noref","mapReset","makeTweenable","tweenableMap","initials","tweenRefs","tweenRefTargets","muxDataByTarget","tweenRefCSS","tweenRefMaps","tweenRefOrigin","deMuxTween","assign","muxToCss","ref","node","indexOf","rootRef","pushAnim","anim","then","skipInit","sl","muxed","rTween","deMuxLine","Promise","resolve","applyTweenState","runningAnims","live","registerPropChangeAnim","propId","propValue","rtweensByProp","rtween","mount","registerStateChangeAnim","rtweensByStateProp","tweenEnabled","tweenRefInitialData","axes","tweenRefDemuxed","window","addEventListener","onResize","_updateBox","windowDidResize","_runScrollGoTo","to","easing","tick","from","scrollPos","max","goTo","_getAxis","targetPos","scrollableArea","Inertia","getAxisState","_inertia","_scrollableArea","_scrollableWindow","makeScrollable","dim","value","nextDescr","wayPoints","setBounds","found","console","warn","scrollTo","newPos","ms","ease","reject","oldPos","setPos","componentDidScroll","easingFn","scrollEnabled","scrollHook","_registerScrollListeners","getScrollableNodes","scrollable","domUtils","findReactParents","hookScrollableTargets","ReactDom","findDOMNode","document","getElementById","_static","rendered","rootNode","getRootNode","debounceTm","debounceTr","scrollLoad","lastScrollEvt","_parentTweener","addWheelEvent","onScroll","prevent","deltaY","deltaX","originalEvent","_doDispatch","elementFromPoint","clientX","clientY","stopPropagation","preventDefault","lastStartTm","cLock","dX","parents","dY","parentsState","addEvent","dragList","touch","descr","element","getComputedStyle","test","getPropertyValue","scrollX","abs","xDispatched","vX","yDispatched","vY","cState","_lastPos","_startPos","dragDirectionLock","startMove","inertiaFrame","applyInertia","isAxisOut","componentShouldScroll","hold","scrollHeight","clientHeight","scrollWidth","clientWidth","release","enableMouseDrag","doRegister","isInertiaActive","_activateNodeInertia","findIndex","item","offsetLeft","offsetHeight","dispatchScroll","dispatch","axis","v","dx","dy","Comps","headTarget","nodeInertia","tmap","updateRefStyle","postPone","m","inited","offsetWidth","removeEventListener","rmWheelEvent","removeEvent","delayedMotionTarget","goToMotionStateId","scrollableAnim","__isFirst","componentDidUpdate","prevProps","prevState","k","displayName","String","fromCharCode","withTweener","TweenerToProps","forwardedRef","withRef","forwardRef","expandShorthandProperty","property","type","childProps","properties","values","multiple","isShorthandProperty","isValidDeclaration","canAnimate","getProperty","expand","exports","prop","ret","Array","subProp","unitsRe","RegExp","join","floatCut","l","pow","round","defaultUnits","left","right","top","bottom","width","height","defaultValue","opacity","demux","tweenable","data","forceUnits","mux","baseKey","parseFloat","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filters","fkey","dkey","fValue","units","toFixed","translateX","translateY","translateZ","scale","rotate","skewX","skewY","scaleZ","rotateX","rotateY","rotateZ","perspective","defaultBox","demuxOne","twVal","unit","transforms","tmpValue","rKey","muxOne","unitKey","realKey","baseData","u","vect","rgba","alias","center","offset","count","nowhere","muxer","cssDemux","cssDemuxers","marginTop","marginLeft","marginRight","marginBottom","paddingTop","paddingLeft","paddingRight","paddingBottom","transformOrigin","zIndex","css","demuxers","deMuxedTween","reOrder","fTween","excluded","tweenLine","line","demuxedTween","isBrowser","_dom","prefix","navigator","appVersion","userAgent","dashedPrefix","__","onPageHided","onPageShown","dragging","dragEnabled","dragEnabledDesc","fingers","nbFingers","dragstartAnywhere","me","finger","desc","Dom","dragAnywhere","dropAnywhere","dropWithoutClick","changedTouches","identifier","pageX","pageY","_startTs","timeStamp","dragstart","call","stopped","drag","preventNextClick","stopImmediatePropagation","mouseDrag","dropped","getDraggable","locks","dragEnd","freeDraggable","addOverflowEvent","addFlowListener","fn","flow","orient","horizontalOverflow","verticalOverflow","bubble","attachEvent","related","detachEvent","rmDragFn","arr","scope","_createElement","tag","opt","parent","a","createElement","_createElementAttr","createAttribute","setAttributeNode","$id","applyCss","cls","addCls","events","$scope","content","innerHTML","appendChild","createTextNode","isElement","__createElement","tagName","HTMLElement","object","passive","elem","dims","parseInt","offsetTop","offsetParent","_addEventListener","_rmEventListener","onwheel","support","onmousewheel","addWheelListener","callback","useCapture","_addWheelListener","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","normalizeWheel","event","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","deltaMode","spinX","spinY","pixelX","pixelY","eventName","_wheelList","srcElement","delatZ","returnValue","normalized","rmWheelListener","_EventListener","fiberNode","comps","startsWith","return","stateNode","includes","parentNode","signOf","sign","NaN","floor","consts","velocityResetTm","clickTm","velSign","lastVelocity","loopsTarget","log","loopsVelSum","targetDist","refFPS","targetDuration","inertiaByNode","nodes","conf","config","currentStop","lastInertiaPos","stops","inertiaFn","easePolyOut","targetWayPointIndex","at","nextValue","loop","shouldLoop","teleport","inertiaStartTm","onInertiaEnd","targetWayPoint","bounds","loopDist","inertiaLastTm","_doSnap","isOutbound","forceSnap","maxDuration","mid","i2","maxJump","d","willSnap","infinite","baseTS","startTS","lastIVelocity","lastAccel","posDiff","sinceLastPos","iVel","re_cssValueWithUnit","cssAdd","val1","val2","units1","units2","remap","result","cssMult","val","start","withOffset","iDuration","inverseValues","reverse","addCss","sources","source","addAllType","v1","v2","values1","values2","r","extractCss","inverse","shiftTransforms","unshift"],"mappings":"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","file":"react-voodoo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/* This is a virtual file generated by webpack-inherit */let req, _exports = {}, root;\n\t\t\t\t\t\treq = require.context(\"G:\\\\n8tz\\\\libs\\\\react-voodoo\\\\src\\\\utils\\\\css\\\\demux\", true, /^\\.\\/([^\\\\\\/]+)\\.js$/);\n\t\t\t\t\t\t\n\t\t\t\t\t\treq.keys().forEach(function (key) {\n\t\t\t\t\t\t    let mod,\n\t\t\t\t\t\t        name=key.match( /^\\.\\/([^\\\\\\/]+)\\.js$/),\n\t\t\t\t\t\t        i=0,\n\t\t\t\t\t\t        modExport=_exports;\n\t\t\t\t\t\t    name = name&&name[1]||key.substr(2);\n\t\t\t\t\t\t    name = name.split('/');\n\t\t\t\t\t\t    mod  = req(key);\n\t\t\t\t\t\t    \n\t\t\t\t\t\t    while(i<name.length-1)\n\t\t\t\t\t\t       modExport=modExport[name[i]]=modExport[name[i]]||{}, i++;\n\t\t\t\t\t\t    modExport[name[i]] = Object.keys(mod).length === 1 && mod.default || mod;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\nexport const $all = _exports.$all;\n\nexport const backgroundColor = _exports.backgroundColor;\n\nexport const filter = _exports.filter;\n\nexport const transform = _exports.transform;\n\nexport default _exports;","/* This is a virtual file generated by webpack-inherit */let req, _exports = {}, root;\n\t\t\t\t\t\treq = require.context(\"G:\\\\n8tz\\\\libs\\\\react-voodoo\\\\src\\\\utils\\\\css\\\\demux\\\\typed\", true, /^\\.\\/([^\\\\\\/]+)\\.js$/);\n\t\t\t\t\t\t\n\t\t\t\t\t\treq.keys().forEach(function (key) {\n\t\t\t\t\t\t    let mod,\n\t\t\t\t\t\t        name=key.match( /^\\.\\/([^\\\\\\/]+)\\.js$/),\n\t\t\t\t\t\t        i=0,\n\t\t\t\t\t\t        modExport=_exports;\n\t\t\t\t\t\t    name = name&&name[1]||key.substr(2);\n\t\t\t\t\t\t    name = name.split('/');\n\t\t\t\t\t\t    mod  = req(key);\n\t\t\t\t\t\t    \n\t\t\t\t\t\t    while(i<name.length-1)\n\t\t\t\t\t\t       modExport=modExport[name[i]]=modExport[name[i]]||{}, i++;\n\t\t\t\t\t\t    modExport[name[i]] = Object.keys(mod).length === 1 && mod.default || mod;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\nexport const color = _exports.color;\n\nexport const int = _exports.int;\n\nexport const multi = _exports.multi;\n\nexport const number = _exports.number;\n\nexport default _exports;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport PropTypes from \"prop-types\";\nimport React     from 'react';\n\nimport TweenerContext from \"./TweenerContext\";\n\nexport default class TweenAxis extends React.Component {\n\tstatic propTypes = {\n\t\taxe            : PropTypes.string.isRequired,\n\t\titems          : PropTypes.array,\n\t\tinertia        : PropTypes.any,\n\t\tdefaultPosition: PropTypes.number,\n\t\tsize           : PropTypes.any\n\t};\n\tstate            = {};\n\t\n\tcomponentWillUnmount() {\n\t\t\n\t\tif ( this._tweenLines ) {\n\t\t\tObject.keys(this._tweenLines)\n\t\t\t      .forEach(axe => this._previousTweener.rmScrollableAnim(this._tweenLines[axe], axe));\n\t\t\t\n\t\t}\n\t\tdelete this._previousTweener;\n\t\tdelete this._previousScrollable;\n\t}\n\t\n\trender() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    axe, scrollFirst,\n\t\t\t    scrollableWindow, inertia, size, defaultPosition,\n\t\t\t    items = [],\n\t\t    } = this.props;\n\t\treturn <TweenerContext.Consumer>\n\t\t\t{\n\t\t\t\ttweener => {\n\t\t\t\t\t//if ( React.isValidElement(children) ) {\n\t\t\t\t\t//\tchildren = React.cloneElement(\n\t\t\t\t\t//\t\tchildren,\n\t\t\t\t\t//\t\t{\n\t\t\t\t\t//\t\t\t...tweener.tweenRef(id, style || children.props.style, initial, pos, noRef, reset),\n\t\t\t\t\t//\t\t\tonDoubleClick: onDoubleClick && (e => onDoubleClick(e, tweener)),\n\t\t\t\t\t//\t\t\tonClick      : onClick && (e => onClick(e, tweener))\n\t\t\t\t\t//\t\t}\n\t\t\t\t\t//\t);\n\t\t\t\t\t//\n\t\t\t\t\t//}\n\t\t\t\t\tif ( !this._previousInertia || this._previousInertia !== inertia ) {//....\n\t\t\t\t\t\tthis._previousInertia = inertia;\n\t\t\t\t\t\ttweener.initAxis(axe, { inertia, size, scrollableWindow, defaultPosition, scrollFirst });\n\t\t\t\t\t}\n\t\t\t\t\tif ( !this._previousTweener || this._previousTweener !== tweener ) {// mk axe not modifiable\n\t\t\t\t\t\tthis._previousTweener && this._lastTL && this._previousTweener.rmScrollableAnim(this._lastTL, axe);\n\t\t\t\t\t\tif ( items.length )\n\t\t\t\t\t\t\tthis._lastTL = tweener.addScrollableAnim(items, axe, size);\n\t\t\t\t\t\tthis._previousTweener = tweener;\n\t\t\t\t\t\tthis._previousTweens  = items;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( this._previousTweens !== items ) {\n\t\t\t\t\t\tthis._lastTL && tweener.rmScrollableAnim(this._lastTL, axe);\n\t\t\t\t\t\tthis._lastTL = null;\n\t\t\t\t\t\tif ( items.length )\n\t\t\t\t\t\t\tthis._lastTL = tweener.addScrollableAnim(items, axe, size);\n\t\t\t\t\t\tthis._previousTweens = items;\n\t\t\t\t\t}\n\t\t\t\t\treturn <React.Fragment/>;\n\t\t\t\t}\n\t\t\t}\n\t\t</TweenerContext.Consumer>;\n\t}\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is      from \"is\";\nimport React   from 'react';\nimport shortid from 'shortid';\n\nimport TweenerContext from \"./TweenerContext\";\n\nfunction setTarget( anims, target ) {\n\treturn anims.map(\n\t\ttween => ({\n\t\t\t...tween,\n\t\t\ttarget\n\t\t})\n\t)\n}\n\nexport default class TweenRef extends React.Component {\n\t\n\tstatic propTypes = {};\n\tstate            = {};\n\t__tweenableId    = shortid.generate();\n\t\n\tcomponentWillUnmount() {\n\t\t\n\t\tif ( this._tweenAxis ) {\n\t\t\tObject.keys(this._tweenAxis)\n\t\t\t      .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxis[axe], axe));\n\t\t\t\n\t\t}\n\t\tif ( this._currentTweener ) {\n\t\t\tthis._currentTweener.rmTweenRef(this.__tweenableId)\n\t\t\tthis._currentTweener.setRootRef(undefined);\n\t\t}\n\t\tdelete this._currentTweener;\n\t\tdelete this._previousScrollable;\n\t}\n\t\n\tcomponentDidMount() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    id = this.__tweenableId,\n\t\t    }      = this.props,\n\t\t    target = this._currentTweener.getTweenableRef(id);\n\t\t//debugger\n\t\tlet props  = [...target.style];// should reset ssr initials ?\n\t\t//console.log(props)\n\t\tprops.forEach(p => (target.style[p] = undefined));\n\t\tthis._currentTweener._updateTweenRef()\n\t}\n\t\n\trender() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    id            = this.__tweenableId,\n\t\t\t    style, initial, pos, noRef, reset, tweener,\n\t\t\t    isRoot,\n\t\t\t    tweenLines,\n\t\t\t    tweenAxis     = tweenLines,\n\t\t\t    onClick       = children && children.props && children.props.onClick,\n\t\t\t    onDoubleClick = children && children.props && children.props.onDoubleClick\n\t\t    } = this.props;\n\t\treturn <TweenerContext.Consumer>\n\t\t\t{\n\t\t\t\tparentTweener => {//@todo : me be better method\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tparentTweener = tweener || parentTweener;\n\t\t\t\t\t\n\t\t\t\t\tlet twRef = parentTweener.tweenRef(id, style || children.props && children.props.style, initial, pos, noRef, reset);\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif ( this._currentTweener !== parentTweener || this._previousScrollable !== tweenAxis ) {\n\t\t\t\t\t\tif ( this._tweenAxis ) {\n\t\t\t\t\t\t\tObject.keys(this._tweenAxis)\n\t\t\t\t\t\t\t      .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxis[axe], axe));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//if ( this._currentTweener !== parentTweener )\n\t\t\t\t\t\tthis._currentTweener && this._currentTweener.rmTweenRef(id)\n\t\t\t\t\t\ttwRef = parentTweener.tweenRef(id, style || children.props && children.props.style, initial,\n\t\t\t\t\t\t                               pos, noRef, this._previousScrollable !== tweenAxis)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( tweenAxis && is.array(tweenAxis) )\n\t\t\t\t\t\t\tthis._tweenAxis = { scrollY: parentTweener.addScrollableAnim(setTarget(tweenAxis, id)) };\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis._tweenAxis = tweenAxis &&\n\t\t\t\t\t\t\t\tObject.keys(tweenAxis)\n\t\t\t\t\t\t\t\t      .reduce(( h, axe ) => (h[axe] = parentTweener.addScrollableAnim(setTarget(tweenAxis[axe], id), axe), h), {});\n\t\t\t\t\t\t\n\t\t\t\t\t\ttwRef.style = { ...parentTweener._updateTweenRef(id) };\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( this.props.hasOwnProperty(\"isRoot\") ) {\n\t\t\t\t\t\t\tthis._currentTweener && this._currentTweener.setRootRef(undefined);\n\t\t\t\t\t\t\ttweener.setRootRef(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis._currentTweener     = parentTweener;\n\t\t\t\t\t\tthis._previousScrollable = tweenAxis;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tif ( React.isValidElement(children) ) {\n\t\t\t\t\t\tchildren = React.cloneElement(\n\t\t\t\t\t\t\tchildren,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...twRef,\n\t\t\t\t\t\t\t\tonDoubleClick: onDoubleClick && (e => onDoubleClick(e, parentTweener)),\n\t\t\t\t\t\t\t\tonClick      : onClick && (e => onClick(e, parentTweener))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\treturn children;\n\t\t\t\t}\n\t\t\t}\n\t\t</TweenerContext.Consumer>;\n\t}\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nconst TweenerContext = React.createContext(null);\nexport default TweenerContext","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {Component}     from 'react';\nimport TweenAxis       from './comps/TweenAxis';\nimport TweenerContext  from './comps/TweenerContext';\nimport TweenRef        from './comps/TweenRef';\nimport asTweener       from './spells/asTweener';\nimport withTweener     from './spells/withTweener';\nimport * as tweenTools from './utils/tweenTools.js';\n\n@asTweener\nclass Tweenable extends Component {\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n\n\nexport {asTweener, withTweener, tweenTools, Tweenable, TweenRef, TweenerContext, TweenAxis};\nexport default Tweenable;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport * as easingFn                     from \"d3-ease\";\nimport is                                from \"is\";\nimport React                             from \"react\";\nimport ReactDom                          from \"react-dom\";\nimport rTween                            from \"tween-axis\";\nimport TweenerContext                    from \"../comps/TweenerContext\";\nimport {deMuxLine, deMuxTween, muxToCss} from \"../utils/css\";\nimport domUtils                          from \"../utils/dom\";\nimport Inertia                           from '../utils/inertia';\n\n/**\n * @todo : clean & comments\n */\n\n\nlet isBrowserSide           = (new Function(\"try {return this===window;}catch(e){ return false;}\"))(),\n    isArray                 = is.array,\n    _live, lastTm, _running = [];\n\nconst SimpleObjectProto = ({}).constructor;\n\nconst Runner = {\n\trun  : function ( tl, ctx, duration, cb ) {\n\t\tlet apply = ( pos, size ) => tl.go(pos / size, ctx);\n\t\t_running.push({ apply, duration, cpos: 0, cb });\n\t\ttl.go(0, ctx, true);//reset tl\n\t\t\n\t\tif ( !_live ) {\n\t\t\t_live  = true;\n\t\t\tlastTm = Date.now();\n\t\t\t// console.log(\"TL runner On\");\n\t\t\tsetTimeout(this._tick, 16);\n\t\t}\n\t},\n\t_tick: function _tick() {\n\t\tvar i  = 0, o, tm = Date.now(), delta = tm - lastTm;\n\t\tlastTm = tm;\n\t\tfor ( ; i < _running.length; i++ ) {\n\t\t\t_running[i].cpos = Math.min(delta + _running[i].cpos, _running[i].duration);//cpos\n\t\t\t_running[i].apply(\n\t\t\t\t_running[i].cpos, _running[i].duration\n\t\t\t);\n\t\t\t// console.log(\"TL runner \",_running[i][3]);\n\t\t\tif ( _running[i].cpos == _running[i].duration ) {\n\t\t\t\t\n\t\t\t\t_running[i].cb && setTimeout(_running[i].cb);\n\t\t\t\t_running.splice(i, 1), i--;\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tif ( _running.length )\n\t\t\tsetTimeout(_tick, 16);\n\t\telse {\n\t\t\t// console.log(\"TL runner Off\");\n\t\t\t_live = false;\n\t\t}\n\t},\n};\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function asTweener( ...argz ) {\n\t\n\tlet BaseComponent = (!argz[0] || argz[0].prototype instanceof React.Component || argz[0] === React.Component) && argz.shift(),\n\t    opts          = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !BaseComponent ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn asTweener(BaseComponent, opts)\n\t\t}\n\t}\n\t\n\topts = {\n\t\twheelRatio    : 5,\n\t\tmaxClickTm    : 200,\n\t\tmaxClickOffset: 100,\n\t\t...opts,\n\t\t\n\t};\n\t\n\treturn class TweenableComp extends BaseComponent {\n\t\tstatic displayName = String.fromCharCode(0xD83E, 0xDDD9) + (BaseComponent.displayName || BaseComponent.name);// mage\n\t\t\n\t\tconstructor() {\n\t\t\tsuper(...arguments);\n\t\t\tthis._           = {\n\t\t\t\trefs       : {},\n\t\t\t\tmuxByTarget: {},\n\t\t\t};\n\t\t\tthis._.box       = {\n\t\t\t\tx: 100,\n\t\t\t\ty: 100,\n\t\t\t\tz: 800\n\t\t\t};\n\t\t\tthis._._rafLoop  = this._rafLoop.bind(this);\n\t\t\tthis.__isTweener = true;\n\t\t\t\n\t\t}\n\t\t\n\t\tresetTweenable( ...targets ) {\n\t\t\tlet _ = this._;\n\t\t\ttargets.forEach(\n\t\t\t\t( t ) => {\n\t\t\t\t\tthis.tweenRef(t, _.tweenRefOriginCss[t], _.iMapOrigin[t], null, null, true)\n\t\t\t\t}\n\t\t\t);\n\t\t\tthis._updateTweenRefs();\n\t\t}\n\t\t\n\t\t/**\n\t\t * Register tweenable element\n\t\t * return its current style\n\t\t * @param id\n\t\t * @param iStyle\n\t\t * @param iMap\n\t\t * @param pos\n\t\t * @param noref\n\t\t * @param mapReset\n\t\t * @returns {style,ref}\n\t\t */\n\t\ttweenRef( id, iStyle, iMap, pos, noref, mapReset ) {// ref initial style\n\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\tlet _            = this._,\n\t\t\t    tweenableMap = {};\n\t\t\t\n\t\t\tlet initials = {};\n\t\t\tif ( !_.tweenRefs[id] )\n\t\t\t\t_.tweenRefTargets.push(id);\n\t\t\t\n\t\t\t//debugger\n\t\t\tif ( _.tweenRefs[id] && (_.iMapOrigin[id] !== iMap || mapReset) ) {\n\t\t\t\t// hot switch initial values\n\t\t\t\t\n\t\t\t\t_.iMapOrigin[id] = iMap;\n\t\t\t\tiStyle           = iStyle || {};\n\t\t\t\tiMap             = iMap || {};\n\t\t\t\tif ( mapReset ) {\n\t\t\t\t\t_.muxByTarget[id]     = {};\n\t\t\t\t\t_.muxDataByTarget[id] = {};\n\t\t\t\t\tObject.keys(_.tweenRefCSS[id])// unset\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => (iStyle[key] = iStyle[key] || '')\n\t\t\t\t\t      );\n\t\t\t\t\t_.tweenRefMaps[id] = tweenableMap = { ..._.tweenRefOrigin[id] };\n\t\t\t\t\tiStyle             = {\n\t\t\t\t\t\t...iStyle, ...deMuxTween(iMap, tweenableMap, initials,\n\t\t\t\t\t\t                         _.muxDataByTarget[id], _.muxByTarget[id], true)\n\t\t\t\t\t};\n\t\t\t\t\tObject.assign(_.tweenRefCSS[id], _.tweenRefOriginCss[id]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//_.muxByTarget[id] = {};\n\t\t\t\t\t\n\t\t\t\t\t// should reset only a part of.. complex\n\t\t\t\t\t//_.muxDataByTarget[id] = {};\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id], true, true) };\n\t\t\t\t\t// minus initial values\n\t\t\t\t\tObject.keys(_.tweenRefOrigin[id])\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => (_.tweenRefMaps[id][key] -= _.tweenRefOrigin[id][key])\n\t\t\t\t\t      );\n\t\t\t\t\t// set defaults values in case of\n\t\t\t\t\tObject.keys(initials)\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => (_.tweenRefMaps[id][key] = is.number(_.tweenRefMaps[id][key])\n\t\t\t\t\t\t                                        ? _.tweenRefMaps[id][key]\n\t\t\t\t\t\t                                        : initials[key])\n\t\t\t\t\t      );\n\t\t\t\t\t// add new initial values\n\t\t\t\t\tObject.keys(tweenableMap)\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => (_.tweenRefMaps[id][key] += tweenableMap[key])\n\t\t\t\t\t      );\n\t\t\t\t\t\n\t\t\t\t\tObject.keys(_.tweenRefMaps[id])// unset\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      key => {\n\t\t\t\t\t\t\t      //key == \"width\" &&\n\t\t\t\t\t\t\t      if ( _.tweenRefOrigin[id].hasOwnProperty(key) && !tweenableMap.hasOwnProperty(key) ) {\n\t\t\t\t\t\t\t\t      delete _.tweenRefMaps[id][key]\n\t\t\t\t\t\t\t\t      delete _.muxByTarget[id][key]\n\t\t\t\t\t\t\t\t      _.refs[id] && (_.refs[id].style[key] = undefined);\n\t\t\t\t\t\t\t      }\n\t\t\t\t\t\t      }\n\t\t\t\t\t      );\n\t\t\t\t\t_.tweenRefOrigin[id]    = { ...tweenableMap };\n\t\t\t\t\t_.tweenRefOriginCss[id] = { ...iStyle };\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//let newCss        = {};\n\t\t\t\t//_.tweenRefMaps[t] = { ..._.tweenRefOrigin[t] };\n\t\t\t\t\n\t\t\t\tmuxToCss(_.tweenRefMaps[id], _.tweenRefCSS[id], _.muxByTarget[id], _.muxDataByTarget[id], _.box);\n\t\t\t}\n\t\t\telse if ( !_.tweenRefs[id] ) {\n\t\t\t\t_.iMapOrigin[id] = iMap;\n\t\t\t\tiStyle           = iStyle || {};\n\t\t\t\tiMap             = iMap || {};\n\t\t\t\t\n\t\t\t\t_.tweenRefs[id]       = true;\n\t\t\t\t_.muxByTarget[id]     = _.muxByTarget[id] || {};\n\t\t\t\t_.muxDataByTarget[id] = _.muxDataByTarget[id] || {};\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id], true) };\n\t\t\t\t//_.tweenRefUnits[id] = extractUnits(iMap);\n\t\t\t\t//}\n\t\t\t\t_.tweenRefOrigin[id]    = tweenableMap;\n\t\t\t\t_.tweenRefOriginCss[id] = { ...iStyle };\n\t\t\t\t_.tweenRefCSS[id]       = iStyle;\n\t\t\t\t_.tweenRefMaps[id]      = _.tweenRefMaps[id] || {};\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t// if this ref was initialized by its scroll anims we minus initial values\n\t\t\t\tObject.keys(tweenableMap)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => {\n\t\t\t\t\t\t      if ( _.tweenRefMaps[id].hasOwnProperty(key) )\n\t\t\t\t\t\t\t      _.tweenRefMaps[id][key] -= initials[key];\n\t\t\t\t\t      }\n\t\t\t\t      );\n\t\t\t\t//\n\t\t\t\t// init / reset or get the tweenable view\n\t\t\t\ttweenableMap = Object.assign({}, initials, tweenableMap || {});\n\t\t\t\t// set defaults values in case of\n\t\t\t\t// add new initial values\n\t\t\t\tObject.keys(tweenableMap)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] = (_.tweenRefMaps[id][key] || 0) + tweenableMap[key])\n\t\t\t\t      );\n\t\t\t\ttweenableMap = _.tweenRefMaps[id];\n\t\t\t\tmuxToCss(tweenableMap, iStyle, _.muxByTarget[id], _.muxDataByTarget[id], _.box);\n\t\t\t\t\n\t\t\t}\n\t\t\t//console.log('tweenRef::tweenRef:519: ', id, { ...tweenableMap });\n\t\t\tif ( noref )\n\t\t\t\treturn {\n\t\t\t\t\tstyle: { ..._.tweenRefCSS[id] }\n\t\t\t\t};\n\t\t\telse\n\t\t\t\treturn {\n\t\t\t\t\tstyle: { ..._.tweenRefCSS[id] },\n\t\t\t\t\tref  : node => (_.refs[id] = node)\n\t\t\t\t\t,\n\t\t\t\t\t// __tweenMap : this._.tweenRefMaps[id],\n\t\t\t\t\t// __tweenCSS : this._.tweenRefCSS[id]\n\t\t\t\t};\n\t\t}\n\t\t\n\t\trmTweenRef( id ) {\n\t\t\tif ( this._.tweenRefs[id] ) {\n\t\t\t\tthis._.tweenRefTargets.splice(this._.tweenRefTargets.indexOf(id), 1);\n\t\t\t\tdelete this._.tweenRefs[id];\n\t\t\t\tdelete this._.muxByTarget[id];\n\t\t\t\tdelete this._.muxDataByTarget[id];\n\t\t\t\tdelete this._.iMapOrigin[id];\n\t\t\t\tdelete this._.tweenRefOrigin[id];\n\t\t\t\tdelete this._.tweenRefCSS[id];\n\t\t\t\tdelete this._.tweenRefMaps[id];\n\t\t\t\tdelete this._.refs[id];\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tsetRootRef( id ) {\n\t\t\tthis._.rootRef = id;\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// -------------------- Pushable anims ------------------------\n\t\t// ------------------------------------------------------------\n\t\t/**\n\t\t * Push anims\n\t\t * @param anim\n\t\t * @param then\n\t\t * @param skipInit\n\t\t * @returns {rTween}\n\t\t */\n\t\tpushAnim( anim, then, skipInit ) {\n\t\t\tvar sl, initial, muxed, initials = {};\n\t\t\tif ( isArray(anim) ) {\n\t\t\t\tsl = anim;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsl      = anim.anims;\n\t\t\t\tinitial = anim.initial;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !(sl instanceof rTween) ) {\n\t\t\t\t// tweenLine, initials, data, demuxers\n\t\t\t\tsl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\n\t\t\t\tsl = new rTween(sl, this._.tweenRefMaps);\n\t\t\t\tObject.keys(initials)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      id => (\n\t\t\t\t\t\t      Object.assign(this._.tweenRefMaps[id], {\n\t\t\t\t\t\t\t      ...initials[id],\n\t\t\t\t\t\t\t      ...this._.tweenRefMaps[id]\n\t\t\t\t\t\t      })\n\t\t\t\t\t      )\n\t\t\t\t      )\n\t\t\t}\n\t\t\t\n\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\treturn new Promise(\n\t\t\t\tresolve => {\n\t\t\t\t\t\n\t\t\t\t\t!skipInit && initial && Object.keys(initial).map(\n\t\t\t\t\t\t( id ) => this.applyTweenState(id, initial[id], anim.reset)\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\t// start timer launch @todo\n\t\t\t\t\tsl.run(this._.tweenRefMaps, () => {\n\t\t\t\t\t\tvar i = this._.runningAnims.indexOf(sl);\n\t\t\t\t\t\tif ( i != -1 )\n\t\t\t\t\t\t\tthis._.runningAnims.splice(i, 1);\n\t\t\t\t\t\t\n\t\t\t\t\t\tresolve(sl);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis._.runningAnims.push(sl);\n\t\t\t\t\t\n\t\t\t\t\tif ( !this._.live ) {\n\t\t\t\t\t\tthis._.live = true;\n\t\t\t\t\t\trequestAnimationFrame(this._._rafLoop = this._._rafLoop || this._rafLoop.bind(this));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t).then(sl => (then && then(sl)));\n\t\t\t\n\t\t}\n\t\t\n\t\tregisterPropChangeAnim( propId, propValue, anims ) {\n\t\t\tthis._.rtweensByProp                    = this._.rtweensByProp || {};\n\t\t\tthis._.rtween                           = this._.rtween || new rTween();\n\t\t\tthis._.rtweensByProp[propId]            = this._.rtweensByProp[propId] || {};\n\t\t\tthis._.rtweensByProp[propId][propValue] = this._.rtweensByProp[propId][propValue] ||\n\t\t\t\tnew rTween();\n\t\t\t\n\t\t\tthis._.rtweensByProp[propId][propValue].mount(anims);\n\t\t}\n\t\t\n\t\tregisterStateChangeAnim( propId, propValue, anims ) {\n\t\t\tthis._.rtweensByStateProp                    = this._.rtweensByStateProp || {};\n\t\t\tthis._.rtween                                = this._.rtween || new rTween();\n\t\t\tthis._.rtweensByStateProp[propId]            = this._.rtweensByStateProp[propId] || {};\n\t\t\tthis._.rtweensByStateProp[propId][propValue] = this._.rtweensByStateProp[propId][propValue] ||\n\t\t\t\tnew rTween();\n\t\t\t\n\t\t\tthis._.rtweensByStateProp[propId][propValue].mount(anims);\n\t\t}\n\t\t\n\t\tmakeTweenable() {\n\t\t\tif ( !this._.tweenEnabled ) {\n\t\t\t\tthis._.rtweensByProp       = {};\n\t\t\t\tthis._.rtweensByStateProp  = {};\n\t\t\t\tthis._.tweenRefCSS         = {};\n\t\t\t\tthis._.tweenRefs           = {};\n\t\t\t\tthis._.tweenRefMaps        = {};\n\t\t\t\tthis._.iMapOrigin          = {};\n\t\t\t\tthis._.tweenRefInitialData = {};\n\t\t\t\tthis._.tweenEnabled        = true;\n\t\t\t\tthis._.tweenRefOrigin      = {};\n\t\t\t\tthis._.tweenRefOriginCss   = {};\n\t\t\t\tthis._.axes                = {};\n\t\t\t\tthis._.muxDataByTarget     = this._.muxDataByTarget || {};\n\t\t\t\tthis._.tweenRefDemuxed     = this._.tweenRefDemuxed || {};\n\t\t\t\tthis._.tweenRefTargets     = this._.tweenRefTargets || [];\n\t\t\t\tthis._.runningAnims        = this._.runningAnims || [];\n\t\t\t\t\n\t\t\t\tisBrowserSide && window.addEventListener(\n\t\t\t\t\t\"resize\",\n\t\t\t\t\tthis._.onResize = (e) => {//@todo\n\t\t\t\t\t\tthis._updateBox();\n\t\t\t\t\t\tthis._updateTweenRefs();\n\t\t\t\t\t\tthis.windowDidResize\n\t\t\t\t\t\t&& this.windowDidResize(e)\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// ------------------ Scrollable anims ------------------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t/**\n\t\t * Tween this tween line to 'to' during 'tm' ms using easing fn\n\t\t * @param to {int}\n\t\t * @param tm {int} duration in ms\n\t\t * @param easing {function} easing fn\n\t\t * @param tick {function} fn called at each tick\n\t\t * @param cb {function} fn called on complete\n\t\t */\n\t\t_runScrollGoTo( axe, to, tm, easing = x => x, tick, cb ) {\n\t\t\tlet from   = this._.axes[axe].scrollPos,\n\t\t\t    length = to - from;\n\t\t\t\n\t\t\t_running.push(\n\t\t\t\t{\n\t\t\t\t\tapply   : ( pos, max ) => {\n\t\t\t\t\t\tlet x = (from + (easing(pos / max)) * length);\n\t\t\t\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\t\t\t\t//console.log('TweenableComp::setPos:514: ', x);\n\t\t\t\t\t\t\tthis._.axes[axe].tweenAxis.forEach(\n\t\t\t\t\t\t\t\tsl => sl.goTo(x, this._.tweenRefMaps)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttick && tick(x);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tduration: tm,\n\t\t\t\t\tcpos    : 0,\n\t\t\t\t\tcb\n\t\t\t\t})\n\t\t\t;\n\t\t\t\n\t\t\tif ( !_live ) {\n\t\t\t\t_live  = true;\n\t\t\t\tlastTm = Date.now();\n\t\t\t\t// console.log(\"TL runner On\");\n\t\t\t\tsetTimeout(Runner._tick, 16);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_getAxis( axe = \"scrollY\" ) {\n\t\t\tlet _ = this._;\n\t\t\t\n\t\t\t_.axes[axe] = _.axes[axe] || {\n\t\t\t\ttweenAxis       : [],\n\t\t\t\tscrollPos       : 0,\n\t\t\t\ttargetPos       : 0,\n\t\t\t\tscrollableWindow: 0,\n\t\t\t\tscrollableArea  : 0,\n\t\t\t\tinertia         : new Inertia({}),\n\t\t\t};\n\t\t\t\n\t\t\treturn _.axes[axe];\n\t\t}\n\t\t\n\t\tgetAxisState() {\n\t\t\tlet _ = this._, state = {};\n\t\t\t_.axes && Object.keys(_.axes)\n\t\t\t                .forEach(\n\t\t\t\t                axe => (state[axe] = _.axes[axe].targetPos || _.axes[axe].scrollPos)\n\t\t\t                );\n\t\t\treturn state;\n\t\t}\n\t\t\n\t\tinitAxis( axe, { inertia: _inertia, scrollableArea: _scrollableArea = 0, scrollableWindow: _scrollableWindow, defaultPosition, scrollFirst } ) {\n\t\t\tthis.makeTweenable();\n\t\t\tthis.makeScrollable();\n\t\t\tlet _                = this._,\n\t\t\t    dim              = _.axes[axe],\n\t\t\t    scrollPos        = dim ? dim.scrollPos : defaultPosition || 0,\n\t\t\t    scrollableArea   = Math.max(dim && dim.scrollableArea || 0, _scrollableArea),\n\t\t\t    scrollableWindow = Math.max(dim && dim.scrollableWindow || 0, _scrollableWindow),\n\t\t\t    targetPos        = dim ? dim.targetPos : scrollPos,\n\t\t\t    inertia          = _inertia !== false && (\n\t\t\t\t    dim ? dim.inertia : new Inertia({// todo mk pure\n\t\t\t\t\t                                    ...(_inertia || {}),\n\t\t\t\t\t                                    value: scrollPos\n\t\t\t\t                                    })),\n\t\t\t    nextDescr        = {\n\t\t\t\t    ...(_inertia || {}),\n\t\t\t\t    scrollFirst,\n\t\t\t\t    tweenAxis: dim && dim.tweenAxis || [],\n\t\t\t\t    scrollPos,\n\t\t\t\t    targetPos,\n\t\t\t\t    inertia,\n\t\t\t\t    scrollableWindow,\n\t\t\t\t    scrollableArea\n\t\t\t    }\n\t\t\t;\n\t\t\t\n\t\t\tdim = this._.axes[axe] = nextDescr;\n\t\t\t(_inertia) && (dim.inertia._.wayPoints = _inertia.wayPoints);\n\t\t}\n\t\t\n\t\taddScrollableAnim( anim, axe = \"scrollY\", size ) {\n\t\t\tvar sl,\n\t\t\t    _        = this._,\n\t\t\t    initials = {},\n\t\t\t    dim      = this._getAxis(axe);\n\t\t\t\n\t\t\tif ( isArray(anim) ) {\n\t\t\t\tsl = anim;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsl   = anim.anims;\n\t\t\t\tsize = anim.length;\n\t\t\t}\n\t\t\t\n\t\t\tif ( !(sl instanceof rTween) ) {\n\t\t\t\tsl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\n\t\t\t\tsl = new rTween(sl, _.tweenRefMaps);\n\t\t\t\tObject.keys(initials)\n\t\t\t\t      .forEach(\n\t\t\t\t\t      id => {\n\t\t\t\t\t\t      this._.tweenRefMaps[id] = this._.tweenRefMaps[id] || {},\n\t\t\t\t\t\t\t      Object.assign(this._.tweenRefMaps[id], {\n\t\t\t\t\t\t\t\t      ...initials[id],\n\t\t\t\t\t\t\t\t      ...this._.tweenRefMaps[id]\n\t\t\t\t\t\t\t      })\n\t\t\t\t\t      }\n\t\t\t\t      )\n\t\t\t}\n\t\t\t\n\t\t\tthis.makeTweenable();\n\t\t\tthis.makeScrollable();\n\t\t\t\n\t\t\t// init scroll\n\t\t\tdim.tweenAxis.push(sl);\n\t\t\tdim.scrollPos      = dim.scrollPos || 0;\n\t\t\tdim.scrollableArea = dim.scrollableArea || 0;\n\t\t\tdim.scrollableArea = Math.max(dim.scrollableArea, sl.duration);\n\t\t\tdim.inertia.setBounds(0, dim.scrollableArea);\n\t\t\tsl.goTo(dim.scrollPos, this._.tweenRefMaps);\n\t\t\tthis._updateTweenRefs();\n\t\t\treturn sl;\n\t\t}\n\t\t\n\t\trmScrollableAnim( sl, axe = \"scrollY\" ) {\n\t\t\tvar _   = this._, found,\n\t\t\t    dim = this._getAxis(axe);\n\t\t\tlet i   = dim.tweenAxis.indexOf(sl);\n\t\t\tif ( i != -1 ) {\n\t\t\t\tdim.tweenAxis.splice(i, 1);\n\t\t\t\tdim.scrollableArea = Math.max(...dim.tweenAxis.map(tl => tl.duration), 0);\n\t\t\t\tdim.inertia.setBounds(0, dim.scrollableArea || 0);\n\t\t\t\tsl.goTo(0, this._.tweenRefMaps)\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t\t!found && console.warn(\"TweenAxis not found !\")\n\t\t}\n\t\t\n\t\tscrollTo( newPos, ms = 0, axe = \"scrollY\", ease ) {\n\t\t\treturn new Promise(\n\t\t\t\t(( resolve, reject ) => {\n\t\t\t\t\t\n\t\t\t\t\tif ( this._.axes && this._.axes[axe] ) {\n\t\t\t\t\t\tlet oldPos = this._.axes[axe].targetPos,\n\t\t\t\t\t\t    setPos = pos => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t    //console.log('TweenableComp::setPos:514: ', this.constructor.displayName);\n\t\t\t\t\t\t\t    this._.axes[axe].targetPos = this._.axes[axe].scrollPos = pos;\n\t\t\t\t\t\t\t    if ( this._.axes[axe].inertia ) {\n\t\t\t\t\t\t\t\t    this._.axes[axe].inertia.setPos(pos);\n\t\t\t\t\t\t\t\t    //this._.axes[axe].inertia._doSnap()\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t    this.componentDidScroll && this.componentDidScroll(~~pos, axe);\n\t\t\t\t\t\t\t    this._updateTweenRefs()\n\t\t\t\t\t\t    }\n\t\t\t\t\t\t;\n\t\t\t\t\t\t\n\t\t\t\t\t\tnewPos                     = Math.max(0, newPos);\n\t\t\t\t\t\tnewPos                     = Math.min(newPos, this._.axes[axe].scrollableArea || 0);\n\t\t\t\t\t\tthis._.axes[axe].targetPos = newPos;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( !ms ) {\n\t\t\t\t\t\t\tthis._.axes[axe].tweenAxis.forEach(\n\t\t\t\t\t\t\t\tsl => sl.goTo(newPos, this._.tweenRefMaps)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tsetPos(newPos);\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis._runScrollGoTo(axe, newPos, ms, easingFn[ease], setPos, resolve)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( !this._.live ) {\n\t\t\t\t\t\t\tthis._.live = true;\n\t\t\t\t\t\t\trequestAnimationFrame(this._._rafLoop);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//return !(oldPos - newPos);\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t}\n\t\t\n\t\tmakeScrollable() {\n\t\t\tif ( !this._.scrollEnabled ) {\n\t\t\t\tthis._.scrollEnabled = true;\n\t\t\t\tthis._.scrollHook    = [];\n\t\t\t\tthis._.activeInertia = [];\n\t\t\t\tthis._registerScrollListeners();\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetScrollableNodes( node ) {\n\t\t\tlet scrollable = domUtils.findReactParents(node);\n\t\t\tscrollable     = this.hookScrollableTargets && this.hookScrollableTargets(scrollable) || scrollable;\n\t\t\t\n\t\t\treturn scrollable.map(\n\t\t\t\tid => (is.string(id)\n\t\t\t\t       ? this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]) || this.refs[id] || document.getElementById(id)\n\t\t\t\t       : id));\n\t\t}\n\t\t\n\t\t/**\n\t\t * todo\n\t\t * @private\n\t\t */\n\t\t_registerScrollListeners() {\n\t\t\tlet _static = this.constructor,\n\t\t\t    _       = this._;\n\t\t\tif ( this._.rendered ) {\n\t\t\t\tlet rootNode   = this.getRootNode(),\n\t\t\t\t    debounceTm = 0,\n\t\t\t\t    debounceTr = 0,\n\t\t\t\t    scrollLoad = { x: 0, y: 0 },\n\t\t\t\t    lastScrollEvt;\n\t\t\t\tif ( !this._parentTweener && isBrowserSide ) {\n\t\t\t\t\t\n\t\t\t\t\tif ( !rootNode )\n\t\t\t\t\t\tconsole.warn(\"fail registering scroll listener !! \")\n\t\t\t\t\telse\n\t\t\t\t\t\tdomUtils.addWheelEvent(\n\t\t\t\t\t\t\trootNode,\n\t\t\t\t\t\t\tthis._.onScroll = ( e ) => {//@todo\n\t\t\t\t\t\t\t\tlet now       = Date.now(), prevent;\n\t\t\t\t\t\t\t\tscrollLoad.y += e.deltaY;\n\t\t\t\t\t\t\t\tscrollLoad.x += e.deltaX;\n\t\t\t\t\t\t\t\tlastScrollEvt = e.originalEvent;\n\t\t\t\t\t\t\t\tprevent       = this._doDispatch(document.elementFromPoint(lastScrollEvt.clientX, lastScrollEvt.clientY), scrollLoad.x * 5, scrollLoad.y * 5)\n\t\t\t\t\t\t\t\tscrollLoad.y  = 0;\n\t\t\t\t\t\t\t\tscrollLoad.x  = 0;\n\t\t\t\t\t\t\t\tdebounceTm    = 0;\n\t\t\t\t\t\t\t\tdebounceTr    = lastScrollEvt = undefined;\n\t\t\t\t\t\t\t\tif ( prevent ) {\n\t\t\t\t\t\t\t\t\te.originalEvent.stopPropagation();\n\t\t\t\t\t\t\t\t\te.originalEvent.preventDefault();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\tlet lastStartTm,\n\t\t\t\t\t    cLock, dX,\n\t\t\t\t\t    parents, dY,\n\t\t\t\t\t    parentsState;\n\t\t\t\t\tif ( !rootNode )\n\t\t\t\t\t\tconsole.warn(\"fail registering drag listener !! \")\n\t\t\t\t\telse\n\t\t\t\t\t\tdomUtils.addEvent(\n\t\t\t\t\t\t\trootNode, this._.dragList = {\n\t\t\t\t\t\t\t\t'dragstart': ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x,\n\t\t\t\t\t\t\t\t\t    y, i, style;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tparents      = this.getScrollableNodes(e.target);\n\t\t\t\t\t\t\t\t\t//console.log(\"start\")\n\t\t\t\t\t\t\t\t\tlastStartTm  = Date.now();\n\t\t\t\t\t\t\t\t\tdX           = 0;\n\t\t\t\t\t\t\t\t\tdY           = 0;\n\t\t\t\t\t\t\t\t\tparentsState = [];\n\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled ) {\n\t\t\t\t\t\t\t\t\t\t\tx = tweener._getAxis(\"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\ty = tweener._getAxis(\"scrollY\");\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\telse if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t\tstyle = getComputedStyle(tweener, null);\n\t\t\t\t\t\t\t\t\t\t\tif ( /(auto|scroll)/.test(\n\t\t\t\t\t\t\t\t\t\t\t\tstyle.getPropertyValue(\"overflow\")\n\t\t\t\t\t\t\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-x\")\n\t\t\t\t\t\t\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-y\")) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tparentsState[i] = {\n\t\t\t\t\t\t\t\t\t\t\t\t\ty      : tweener.scrollTop,\n\t\t\t\t\t\t\t\t\t\t\t\t\tx      : tweener.scrollLeft,\n\t\t\t\t\t\t\t\t\t\t\t\t\tscrollX: /(auto|scroll)/.test(style.getPropertyValue(\"overflow-x\")),\n\t\t\t\t\t\t\t\t\t\t\t\t\tscrollY: /(auto|scroll)/.test(style.getPropertyValue(\"overflow-y\"))\n\t\t\t\t\t\t\t\t\t\t\t\t\t//inertia: this._activateNodeInertia(tweener)\n\t\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis._updateNodeInertia()\n\t\t\t\t\t\t\t\t\t//e.stopPropagation();\n\t\t\t\t\t\t\t\t\t//e.preventDefault();\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'click'    : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tif ( lastStartTm && !((lastStartTm > Date.now() - opts.maxClickTm) && Math.abs(dY) < opts.maxClickOffset && Math.abs(dX) < opts.maxClickOffset) )// skip tap & click\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t//console.log(\"prevented click\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t\t\t//console.log(':o ' + (lastStartTm - Date.now()) + ' ' + dX + ' ' + dY)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//else console.log(\"click\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'drag'     : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tdX = -(descr._lastPos.x - descr._startPos.x);\n\t\t\t\t\t\t\t\t\tdY = -(descr._lastPos.y - descr._startPos.y);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif ( lastStartTm && ((lastStartTm > Date.now() - opts.maxClickTm) && Math.abs(dY) < opts.maxClickOffset && Math.abs(dX) < opts.maxClickOffset) )// skip tap & click\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t//console.log(':u ' + (lastStartTm - Date.now()) + ' ' + dX + ' ' + dY)\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\txDispatched = !dX;\n\t\t\t\t\t\t\t\t\t\tyDispatched = !dY;\n\t\t\t\t\t\t\t\t\t\tif ( opts.dragDirectionLock ) {\n\t\t\t\t\t\t\t\t\t\t\tif ( cLock === \"Y\" || !cLock && Math.abs(dY * .5) > Math.abs(dX) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcLock = \"Y\";\n\t\t\t\t\t\t\t\t\t\t\t\tdX    = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t//xDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\telse if ( cLock === \"X\" || !cLock && Math.abs(dX * .5) > Math.abs(dY) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcLock = \"X\";\n\t\t\t\t\t\t\t\t\t\t\t\tdY    = 0;\n\t\t\t\t\t\t\t\t\t\t\t\t//yDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//console.log(\"drag\", dX, dY, cLock, opts.dragDirectionLock);\n\t\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tx = tweener._getAxis(\"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\t\ty = tweener._getAxis(\"scrollY\");\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tparentsState[i] = { x: x.scrollPos, y: y.scrollPos };\n\t\t\t\t\t\t\t\t\t\t\t\t\tx.inertia.startMove();\n\t\t\t\t\t\t\t\t\t\t\t\t\ty.inertia.startMove();\n\t\t\t\t\t\t\t\t\t\t\t\t\t!x.inertiaFrame && tweener.applyInertia(x, \"scrollX\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t!y.inertiaFrame && tweener.applyInertia(y, \"scrollY\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tdeltaX = dX && (dX / tweener._.box.x) * (x.scrollableWindow || x.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\t\t\tdeltaY = dY && (dY / tweener._.box.y) * (y.scrollableWindow || y.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !xDispatched && !tweener.isAxisOut(\"scrollX\", parentsState[i].x + deltaX, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t&& (!tweener.componentShouldScroll || tweener.componentShouldScroll(\"scrollX\", deltaX)) ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tx.inertia.hold(parentsState[i].x + deltaX);\n\t\t\t\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t//console.log(\"scrollY\", tweener.isAxisOut(\"scrollY\", parentsState[i].y\n\t\t\t\t\t\t\t\t\t\t\t\t// + deltaY, true));\n\t\t\t\t\t\t\t\t\t\t\t\tif ( !yDispatched && !tweener.isAxisOut(\"scrollY\", parentsState[i].y + deltaY, true)\n\t\t\t\t\t\t\t\t\t\t\t\t\t&& (!tweener.componentShouldScroll || tweener.componentShouldScroll(\"scrollY\", deltaY)) ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\ty.inertia.hold(parentsState[i].y + deltaY);\n\t\t\t\t\t\t\t\t\t\t\t\t\tyDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\telse if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcState = parentsState[i];\n\t\t\t\t\t\t\t\t\t\t\t\tif ( cState ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( !yDispatched &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcState.scrollY &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t((dY < 0 && tweener.scrollTop !== 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dY > 0 && tweener.scrollTop !== (tweener.scrollHeight - tweener.clientHeight)))\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.lastY = cState.y + dY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 top: cState.y + dY,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //left    : undefined,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //behavior: 'smooth'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//                 })\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.dispatchEvent(e)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.inertia.y.hold(cState.y + dY)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTop = cState.y + dY;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif ( opts.dragDirectionLock && cLock === \"Y\" )\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse if ( !opts.dragDirectionLock ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tyDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( !xDispatched &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcState.scrollX &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t((dX < 0 && tweener.scrollLeft !== 0)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dX > 0 && tweener.scrollLeft !== (tweener.scrollWidth - tweener.clientWidth)))\n\t\t\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.lastX = cState.x + dX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 left: cState.x + dX,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\t                 //behavior: 'smooth'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//                 })\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.dispatchEvent(e)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollTo(style.x + dX)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//cState.inertia.x.hold(cState.x + dX)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//tweener.scrollLeft = cState.x + dX;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( yDispatched && xDispatched ) {\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t//return;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//dX = 0;\n\t\t\t\t\t\t\t\t\t\t//dY = 0;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t,\n\t\t\t\t\t\t\t\t'dropped': ( e, touch, descr ) => {\n\t\t\t\t\t\t\t\t\tlet tweener,\n\t\t\t\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tcLock = undefined;\n\t\t\t\t\t\t\t\t\t//lastStartTm                     = undefined;\n\t\t\t\t\t\t\t\t\t//document.body.style.userSelect  = '';\n\t\t\t\t\t\t\t\t\t//document.body.style.touchAction = '';\n\t\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\t\ttweener = parents[i];\n\t\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\t\tif ( tweener.__isTweener && tweener._.scrollEnabled && parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t\t\ttweener._getAxis(\"scrollY\").inertia.release();\n\t\t\t\t\t\t\t\t\t\t\ttweener._getAxis(\"scrollX\").inertia.release();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//else if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t\t\t//\tcState = parentsState[i];\n\t\t\t\t\t\t\t\t\t\t//\tif ( cState ) {\n\t\t\t\t\t\t\t\t\t\t//\t\tcState.inertia.x.release();\n\t\t\t\t\t\t\t\t\t\t//\t\tcState.inertia.y.release();\n\t\t\t\t\t\t\t\t\t\t//\t}\n\t\t\t\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( lastStartTm && ((lastStartTm > Date.now() - opts.maxClickTm) && Math.abs(dY)\n\t\t\t\t\t\t\t\t\t\t< opts.maxClickOffset && Math.abs(dX) < opts.maxClickOffset) )// skip tap\n\t\t\t\t\t\t\t\t\t                                                                  // &\n\t\t\t\t\t\t\t\t\t                                                                  // click\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t//console.log(\"prevented\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\t//console.log(\"not prevented\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//lastStartTm = 0;\n\t\t\t\t\t\t\t\t\tparents = parentsState = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\topts.enableMouseDrag\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tthis._.doRegister = !!rootNode;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._.doRegister = true;\n\t\t\t}\n\t\t}\n\t\t\n\t\t// ------------------------------------------------------------\n\t\t// --------------- Inertia & scroll modifiers -----------------\n\t\t// ------------------------------------------------------------\n\t\t\n\t\t\n\t\tapplyInertia( dim, axe ) {\n\t\t\tlet x = dim.inertia.update();\n\t\t\t\n\t\t\tthis._.axes[axe].tweenAxis.forEach(\n\t\t\t\tsl => {\n\t\t\t\t\tthis._.axes[axe].targetPos = this._.axes[axe].scrollPos = x;\n\t\t\t\t\tsl.goTo(x, this._.tweenRefMaps)\n\t\t\t\t}\n\t\t\t);\n\t\t\t//console.log(\"scroll at \" + x, axe, dim.inertia.active || dim.inertia.holding);\n\t\t\t//this.scrollTo(x, 0, axe);\n\t\t\tthis.componentDidScroll && this.componentDidScroll(x, axe);\n\t\t\tthis._updateTweenRefs()\n\t\t\tif ( dim.inertia.active || dim.inertia.holding ) {\n\t\t\t\tdim.inertiaFrame = setTimeout(this.applyInertia.bind(this, dim, axe));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdim.inertiaFrame = null;\n\t\t\t\t//console.log(\"complete\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tisInertiaActive() {//todo\n\t\t\tlet _ = this._, active = false;\n\t\t\t_.axes &&\n\t\t\tObject.keys(_.axes)\n\t\t\t      .forEach(\n\t\t\t\t      axe => (active = active || _.axes[axe] && _.axes[axe].inertia.active)\n\t\t\t      );\n\t\t\treturn active;\n\t\t}\n\t\t\n\t\t_activateNodeInertia( node ) {\n\t\t\tlet _ = this._,\n\t\t\t    i = _.activeInertia.findIndex(item => (item.target === node));\n\t\t\tif ( i === -1 ) {\n\t\t\t\t_.activeInertia.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tinertia: {\n\t\t\t\t\t\t\tx: new Inertia({ max: node.scrollWidth - node.offsetLeft, value: node.scrollLeft }),\n\t\t\t\t\t\t\ty: new Inertia({ max: node.scrollHeight - node.offsetHeight, value: node.scrollTop })\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttarget : node\n\t\t\t\t\t});\n\t\t\t\ti = _.activeInertia.length - 1;\n\t\t\t}\n\t\t\treturn _.activeInertia[i].inertia;\n\t\t\t\n\t\t}\n\t\t\n\t\t_updateNodeInertia = () => {\n\t\t\tlet _ = this._, current, ln = _.activeInertia.length;\n\t\t\t\n\t\t\tif ( this._inertiaRaf )\n\t\t\t\tcancelAnimationFrame(this._inertiaRaf);\n\t\t\t\n\t\t\tfor ( let i = 0; ln > i; i++ ) {\n\t\t\t\tcurrent = _.activeInertia[i];\n\t\t\t\tif ( current.inertia.x.active || current.inertia.x.holding ) {\n\t\t\t\t\tcurrent.target.scrollLeft = ~~current.inertia.x.update()\n\t\t\t\t}\n\t\t\t\tif ( current.inertia.y.active || current.inertia.y.holding ) {\n\t\t\t\t\tcurrent.target.scrollTop = ~~current.inertia.y.update()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( !current.inertia.x.active && !current.inertia.y.active && !current.inertia.x.holding && !current.inertia.y.holding ) {\n\t\t\t\t\t_.activeInertia.slice(i, 1);\n\t\t\t\t\ti--;\n\t\t\t\t\tln--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( ln !== 0 )\n\t\t\t\tthis._inertiaRaf = requestAnimationFrame(this._updateNodeInertia)\n\t\t\telse this._inertiaRaf = null;\n\t\t}\n\t\t\n\t\tdispatchScroll( delta, axe = \"scrollY\" ) {\n\t\t\tlet prevent,\n\t\t\t    dim    = this._.axes[axe],\n\t\t\t    oldPos = dim && dim.scrollPos,\n\t\t\t    newPos = oldPos + delta;\n\t\t\t\n\t\t\tif ( dim && oldPos !== newPos ) {\n\t\t\t\t\n\t\t\t\tdim.inertia.dispatch(delta, 100);\n\t\t\t\t!dim.inertiaFrame && this.applyInertia(dim, axe);\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\treturn prevent;\n\t\t}\n\t\t\n\t\tisAxisOut( axis, v, abs ) {\n\t\t\tlet _   = this._,\n\t\t\t    dim = _.axes && _.axes[axis],\n\t\t\t    pos = abs ? v : dim && (dim.scrollPos + v);\n\t\t\treturn !dim || (pos <= 0 || pos >= dim.scrollableArea);\n\t\t}\n\t\t\n\t\t_doDispatch( target, dx, dy, holding ) {\n\t\t\tlet style,\n\t\t\t    Comps,\n\t\t\t    headTarget = target,\n\t\t\t    nodeInertia,\n\t\t\t    i;\n\t\t\t\n\t\t\t// check if there scrollable stuff in dom targets\n\t\t\t// get all the parents components & dom node of an dom element ( from fibers )\n\t\t\t\n\t\t\tComps = this.getScrollableNodes(headTarget);\n\t\t\t//console.log(\"dispatching \", dx, dy, Comps);\n\t\t\tfor ( i = 0; i < Comps.length; i++ ) {\n\t\t\t\t// react comp with tweener support\n\t\t\t\tif ( Comps[i].__isTweener ) {\n\t\t\t\t\tif ( !Comps[i].isAxisOut(\"scrollX\", dx) && (!Comps[i].componentShouldScroll || Comps[i].componentShouldScroll(\"scrollX\", dx)) ) {\n\t\t\t\t\t\tComps[i].dispatchScroll(dx, \"scrollX\", holding);\n\t\t\t\t\t\tdx = 0;\n\t\t\t\t\t}\n\t\t\t\t\tif ( !Comps[i].isAxisOut(\"scrollY\", dy) && (!Comps[i].componentShouldScroll || Comps[i].componentShouldScroll(\"scrollY\", dy)) ) {\n\t\t\t\t\t\tComps[i].dispatchScroll(dy, \"scrollY\", holding);\n\t\t\t\t\t\tdy = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// dom element\n\t\t\t\telse if ( is.element(Comps[i]) ) {\n\t\t\t\t\tstyle = getComputedStyle(Comps[i], null)\n\t\t\t\t\tif ( /(auto|scroll)/.test(\n\t\t\t\t\t\tstyle.getPropertyValue(\"overflow\")\n\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-x\")\n\t\t\t\t\t\t+ style.getPropertyValue(\"overflow-y\")\n\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t(dy < 0 && Comps[i].scrollTop !== 0)\n\t\t\t\t\t\t\t||\n\t\t\t\t\t\t\t(dy > 0 && Comps[i].scrollTop !== (Comps[i].scrollHeight - Comps[i].clientHeight))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t//nodeInertia.y.dispatch(dy * 10)\n\t\t\t\t\t\t\t//dy = 0;\n\t\t\t\t\t\t} // let the node do this scroll\n\t\t\t\t\t\t//if ( nodeInertia.x.isOutbound(dx) ) {\n\t\t\t\t\t\t//\tnodeInertia.x.dispatch(dx * 10)\n\t\t\t\t\t\t//\tdx = 0;\n\t\t\t\t\t\t//} // let the node do this scroll\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//headTarget = headTarget.parentNode;\n\t\t\t\t\t//if ( headTarget === document || headTarget === target )\n\t\t\t\t\t//\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( !dx && !dy )\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._updateNodeInertia();\n\t\t\tif ( !dx && !dy )\n\t\t\t\treturn true;\n\t\t}\n\t\t\n\t\tapplyTweenState( id, map, reset ) {\n\t\t\tlet tmap = {}, initials = {};\n\t\t\tdeMuxTween(map, tmap, initials, this._.muxDataByTarget[id], this._.muxByTarget[id])\n\t\t\tObject.keys(tmap).map(\n\t\t\t\t( p ) => this._.tweenRefMaps[id][p] = (!reset && this._.tweenRefMaps[id][p] || initials[p]) + tmap[p]\n\t\t\t);\n\t\t}\n\t\t\n\t\tupdateRefStyle( target, style, postPone ) {\n\t\t\tlet _ = this._, initials = {};\n\t\t\tif ( isArray(target) && isArray(style) )\n\t\t\t\treturn target.map(( m, i ) => this.updateRefStyle(m, style[i], postPone));\n\t\t\tif ( isArray(target) )\n\t\t\t\treturn target.map(( m ) => this.updateRefStyle(m, style, postPone));\n\t\t\t\n\t\t\tif ( !this._.tweenRefCSS )\n\t\t\t\tthis.makeTweenable();\n\t\t\t\n\t\t\tdeMuxTween(style, _.tweenRefMaps[target], initials, _.muxDataByTarget[target], _.muxByTarget[target], true);\n\t\t\tthis._updateTweenRef(target);\n\t\t}\n\t\t\n\t\t_updateBox() {\n\t\t\tlet node = this.getRootNode();\n\t\t\tif ( node ) {\n\t\t\t\tthis._.box.inited = true;\n\t\t\t\tthis._.box.x      = node.offsetWidth;\n\t\t\t\tthis._.box.y      = node.offsetHeight;\n\t\t\t}\n\t\t}\n\t\t\n\t\tgetTweenableRef( id ) {\n\t\t\treturn this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]);\n\t\t}\n\t\t\n\t\tgetRootNode() {\n\t\t\treturn this._.rootRef && this.getTweenableRef(this._.rootRef) || ReactDom.findDOMNode(this);\n\t\t}\n\t\t\n\t\t_rafLoop() {\n\t\t\tthis._updateTweenRefs();\n\t\t\tif ( this._.runningAnims.length ) {\n\t\t\t\trequestAnimationFrame(this._._rafLoop);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//this._.live && console.log(\"RAF off\", this.constructor.displayName);\n\t\t\t\tthis._.live = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_updateTweenRefs() {\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tfor ( let i = 0, target, node, style; i < this._.tweenRefTargets.length; i++ ) {\n\t\t\t\t\ttarget = this._.tweenRefTargets[i];\n\t\t\t\t\tstyle  = this._updateTweenRef(target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t_updateTweenRef( target ) {\n\t\t\tlet node;\n\t\t\tthis._.tweenRefCSS[target] &&\n\t\t\tmuxToCss(this._.tweenRefMaps[target], this._.tweenRefCSS[target], this._.muxByTarget[target], this._.muxDataByTarget[target], this._.box);\n\t\t\tnode = this.getTweenableRef(target);\n\t\t\tnode && Object.assign(node.style, this._.tweenRefCSS[target]);\n\t\t\treturn this._.tweenRefCSS[target];\n\t\t}\n\t\t\n\t\tcomponentWillUnmount() {\n\t\t\tlet node = this.getRootNode();\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tthis._.tweenEnabled = false;\n\t\t\t\twindow.removeEventListener(\"resize\", this._.onResize);\n\t\t\t}\n\t\t\t\n\t\t\tif ( this._.scrollEnabled ) {\n\t\t\t\tthis._.scrollEnabled = false;\n\t\t\t\t\n\t\t\t\t//this._.axes          = undefined;\n\t\t\t\tnode && this._.onScroll && !this._parentTweener && domUtils.rmWheelEvent(\n\t\t\t\t\tnode,\n\t\t\t\t\tthis._.onScroll);\n\t\t\t\tnode && this._.dragList && domUtils.removeEvent(node\n\t\t\t\t\t, this._.dragList)\n\t\t\t}\n\t\t\t\n\t\t\tsuper.componentWillUnmount && super.componentWillUnmount(...arguments);\n\t\t}\n\t\t\n\t\tcomponentDidMount() {\n\t\t\tlet _static = this.constructor;\n\t\t\t\n\t\t\tthis._.rendered = true;\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\t// debugger;\n\t\t\t\tthis._updateBox();\n\t\t\t\tthis._updateTweenRefs();\n\t\t\t}\n\t\t\tif ( this._.delayedMotionTarget ) {\n\t\t\t\tthis.goToMotionStateId(this._.delayedMotionTarget);\n\t\t\t\tdelete this._.delayedMotionTarget;\n\t\t\t}\n\t\t\tif ( _static.scrollableAnim ) {\n\t\t\t\tif ( is.array(_static.scrollableAnim) )\n\t\t\t\t\tthis.addScrollableAnim(_static.scrollableAnim);\n\t\t\t\telse\n\t\t\t\t\tObject.keys(_static.scrollableAnim)\n\t\t\t\t\t      .forEach(\n\t\t\t\t\t\t      axe => this.addScrollableAnim(_static.scrollableAnim[axe], axe)\n\t\t\t\t\t      )\n\t\t\t}\n\t\t\tif ( this._.doRegister || this.__isFirst ) {\n\t\t\t\t\n\t\t\t\tthis._registerScrollListeners();\n\t\t\t\tthis._.doRegister = false;\n\t\t\t}\n\t\t\tsuper.componentDidMount && super.componentDidMount(...arguments);\n\t\t}\n\t\t\n\t\tcomponentDidUpdate( prevProps, prevState ) {\n\t\t\t\n\t\t\tif ( this._.tweenEnabled ) {\n\t\t\t\tthis._updateBox();\n\t\t\t\tthis._updateTweenRefs();\n\t\t\t\t\n\t\t\t\tthis._.rtweensByProp\n\t\t\t\t&& Object.keys(prevProps)\n\t\t\t\t         .forEach(\n\t\t\t\t\t         ( k ) =>\n\t\t\t\t\t\t         this._.rtweensByProp[k]\n\t\t\t\t\t\t         && (this.props[k] !== prevProps[k])\n\t\t\t\t\t\t         && this._.rtweensByProp[k][this.props[k]]\n\t\t\t\t\t\t         && this.pushAnim(this._.rtweensByProp[k][this.props[k]]/*get current pos*/),\n\t\t\t\t\t         this\n\t\t\t\t         );\n\t\t\t\tthis._.rtweensByStateProp\n\t\t\t\t&& prevState\n\t\t\t\t&& Object.keys(prevState)\n\t\t\t\t         .forEach(\n\t\t\t\t\t         ( k ) =>\n\t\t\t\t\t\t         this._.rtweensByStateProp[k]\n\t\t\t\t\t\t         && (this.state[k] !== prevState[k])\n\t\t\t\t\t\t         && this._.rtweensByStateProp[k][this.state[k]]\n\t\t\t\t\t\t         && this.pushAnim(this._.rtweensByStateProp[k][this.state[k]]/*get current pos*/),\n\t\t\t\t\t         this\n\t\t\t\t         );\n\t\t\t}\n\t\t\tsuper.componentDidUpdate && super.componentDidUpdate(...arguments);\n\t\t}\n\t\t\n\t\trender() {\n\t\t\treturn <TweenerContext.Consumer>\n\t\t\t\t{\n\t\t\t\t\tparentTweener => {\n\t\t\t\t\t\tthis._parentTweener = parentTweener;\n\t\t\t\t\t\treturn <TweenerContext.Provider value={this}>\n\t\t\t\t\t\t\t{super.render()}\n\t\t\t\t\t\t</TweenerContext.Provider>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</TweenerContext.Consumer>;\n\t\t}\n\t}\n\t\n}\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from \"react\";\nimport is    from \"is\";\n\nimport TweenerContext from \"../comps/TweenerContext\";\n\n\nconst SimpleObjectProto = ({}).constructor;\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function withTweener( ...argz ) {\n\t\n\tlet BaseComponent = (!argz[0] || argz[0].prototype instanceof React.Component || argz[0] === React.Component) && argz.shift(),\n\t    opts          = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !(BaseComponent && (BaseComponent.prototype instanceof React.Component || BaseComponent === React.Component)) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn withTweener(BaseComponent, opts)\n\t\t}\n\t}\n\t\n\tclass TweenerToProps extends React.Component {\n\t\tstatic displayName = (BaseComponent.displayName || BaseComponent.name);\n\t\t\n\t\trender() {\n\t\t\treturn <TweenerContext.Consumer>\n\t\t\t\t{\n\t\t\t\t\ttweener => {\n\t\t\t\t\t\treturn <BaseComponent { ...this.props } tweener={ tweener } ref={ this.props.forwardedRef }/>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</TweenerContext.Consumer>;\n\t\t}\n\t}\n\t\n\t\n\tlet withRef         = React.forwardRef(( props, ref ) => {\n\t\treturn <TweenerToProps { ...props } forwardedRef={ ref }/>;\n\t});\n\twithRef.displayName = TweenerToProps.displayName;\n\treturn withRef;\n}\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar props = {\n\t\"margin\"                     : { \"properties\": [\"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\"] },\n\t\"marginBottom\"               : { \"types\": [\"length\"] },\n\t\"marginLeft\"                 : { \"types\": [\"length\"] },\n\t\"marginRight\"                : { \"types\": [\"length\"] },\n\t\"marginTop\"                  : { \"types\": [\"length\"] },\n\t\"padding\"                    : { \"properties\": [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\"] },\n\t\"paddingBottom\"              : { \"types\": [\"length\"] },\n\t\"paddingLeft\"                : { \"types\": [\"length\"] },\n\t\"paddingRight\"               : { \"types\": [\"length\"] },\n\t\"paddingTop\"                 : { \"types\": [\"length\"] },\n\t\"bottom\"                     : { \"types\": [\"length-percentage-calc\"] },\n\t\"left\"                       : { \"types\": [\"length-percentage-calc\"] },\n\t\"right\"                      : { \"types\": [\"length-percentage-calc\"] },\n\t\"top\"                        : { \"types\": [\"length-percentage-calc\"] },\n\t\"zIndex\"                     : { \"types\": [\"integer\"] },\n\t\"width\"                      : { \"types\": [\"length-percentage-calc\"] },\n\t\"maxWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n\t\"minWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n\t\"height\"                     : { \"types\": [\"length-percentage-calc\"] },\n\t\"maxHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"minHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"lineHeight\"                 : { \"types\": [\"number\", \"length\"] },\n\t\"verticalAlign\"              : { \"types\": [\"length\"] },\n\t\"visibility\"                 : { \"types\": [\"visibility\"] },\n\t\"borderSpacing\"              : { \"types\": [\"length\"], \"multiple\": true },\n\t\"color\"                      : { \"types\": [\"color\"] },\n\t\"opacity\"                    : { \"types\": [\"number\"] },\n\t\"background\"                 : { \"properties\": [\"backgroundColor\", \"backgroundPosition\", \"backgroundSize\"] },\n\t\"backgroundColor\"            : { \"types\": [\"color\"] },\n\t\"backgroundPosition\"         : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"backgroundSize\"             : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"border\"                     : { \"properties\": [\"borderColor\", \"borderWidth\"] },\n\t\"borderBottom\"               : { \"properties\": [\"borderBottomColor\", \"borderBottomWidth\"] },\n\t\"borderLeft\"                 : { \"properties\": [\"borderLeftColor\", \"borderLeftWidth\"] },\n\t\"borderRight\"                : { \"properties\": [\"borderRightColor\", \"borderRightWidth\"] },\n\t\"borderTop\"                  : { \"properties\": [\"borderTopColor\", \"borderTopWidth\"] },\n\t\"borderColor\"                : { \"properties\": [\"borderTopColor\", \"borderRightColor\", \"borderBottomColor\", \"borderLeftColor\"] },\n\t\"borderWidth\"                : { \"properties\": [\"borderTopWidth\", \"borderRightWidth\", \"borderBottomWidth\", \"borderLeftWidth\"] },\n\t\"borderBottomColor\"          : { \"types\": [\"color\"] },\n\t\"borderLeftColor\"            : { \"types\": [\"color\"] },\n\t\"borderRightColor\"           : { \"types\": [\"color\"] },\n\t\"borderTopColor\"             : { \"types\": [\"color\"] },\n\t\"borderBottomWidth\"          : { \"types\": [\"length\"] },\n\t\"borderLeftWidth\"            : { \"types\": [\"length\"] },\n\t\"borderRightWidth\"           : { \"types\": [\"length\"] },\n\t\"borderTopWidth\"             : { \"types\": [\"length\"] },\n\t\"borderRadius\"               : { \"properties\": [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomRightRadius\", \"borderBottomLeftRadius\"] },\n\t\"borderTopLeftRadius\"        : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderTopRightRadius\"       : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderBottomRightRadius\"    : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderBottomLeftRadius\"     : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"boxShadow\"                  : { \"types\": [\"shadow-list\"] },\n\t\"caretColor\"                 : { \"types\": [\"color\"] },\n\t\"outline\"                    : { \"properties\": [\"outlineColor\", \"outlineWidth\"] },\n\t\"outlineColor\"               : { \"types\": [\"color\"] },\n\t\"outlineWidth\"               : { \"types\": [\"length\"] },\n\t\"outlineOffset\"              : { \"types\": [\"length\"] },\n\t\"flex\"                       : { \"properties\": [\"flexGrow\", \"flexShrink\", \"flexBasis\"] },\n\t\"flexGrow\"                   : { \"types\": [\"number\"] },\n\t\"flexShrink\"                 : { \"types\": [\"number\"] },\n\t\"flexBasis\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"order\"                      : { \"types\": [\"integer\"] },\n\t\"font\"                       : { \"properties\": [\"fontWeight\", \"fontStretch\", \"fontSize\", \"lineHeight\"] },\n\t\"fontWeight\"                 : { \"types\": [\"font-weight\"] },\n\t\"fontStretch\"                : { \"types\": [\"font-stretch\"] },\n\t\"fontSize\"                   : { \"types\": [\"length\"] },\n\t\"fontSizeAdjust\"             : { \"types\": [\"number\"] },\n\t\"gridTemplateColumns\"        : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"gridTemplateRows\"           : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"gridTemplate\"               : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n\t\"grid\"                       : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n\t\"gridRowGap\"                 : { \"types\": [\"length-percentage-calc\"] },\n\t\"gridColumnGap\"              : { \"types\": [\"length-percentage-calc\"] },\n\t\"gridGap\"                    : { \"properties\": [\"gridRowGap\", \"gridColumnGap\"] },\n\t\"clip\"                       : { \"types\": [\"rectangle\"] },\n\t\"clipPath\"                   : { \"types\": [\"basic-shape\"] },\n\t\"mask\"                       : { \"properties\": [\"maskPosition\", \"maskSize\"] },\n\t\"maskPosition\"               : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"maskSize\"                   : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"shapeOutside\"               : { \"types\": [\"basic-shape\"] },\n\t\"shapeMargin\"                : { \"types\": [\"length-percentage-calc\"] },\n\t\"shapeImageThreshold\"        : { \"types\": [\"number\"] },\n\t\"scrollPadding\"              : { \"properties\": [\"scrollPaddingTop\", \"scrollPaddingRight\", \"scrollPaddingBottom\", \"scrollPaddingLeft\"] },\n\t\"scrollPaddingTop\"           : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingRight\"         : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBottom\"        : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingLeft\"          : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBlock\"         : { \"properties\": [\"scrollPaddingBlockStart\", \"scrollPaddingBlockEnd\"] },\n\t\"scrollPaddingBlockStart\"    : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBlockEnd\"      : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingInline\"        : { \"properties\": [\"scrollPaddingInlineStart\", \"scrollPaddingInlineEnd\"] },\n\t\"scrollPaddingInlineStart\"   : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingInlineEnd\"     : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollSnapMargin\"           : { \"properties\": [\"scrollSnapMarginTop\", \"scrollSnapMarginRight\", \"scrollSnapMarginBottom\", \"scrollSnapMarginLeft\"] },\n\t\"scrollSnapMarginTop\"        : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginRight\"      : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBottom\"     : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginLeft\"       : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBlock\"      : { \"properties\": [\"scrollSnapMarginBlockStart\", \"scrollSnapMarginBlockEnd\"] },\n\t\"scrollSnapMarginBlockStart\" : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBlockEnd\"   : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginInline\"     : { \"properties\": [\"scrollSnapMarginInlineStart\", \"scrollSnapMarginInlineEnd\"] },\n\t\"scrollSnapMarginInlineStart\": { \"types\": [\"length\"] },\n\t\"scrollSnapMarginInlineEnd\"  : { \"types\": [\"length\"] },\n\t\"textDecoration\"             : { \"properties\": [\"textDecorationColor\"] },\n\t\"textDecorationColor\"        : { \"types\": [\"color\"] },\n\t\"textEmphasis\"               : { \"properties\": [\"textEmphasisColor\"] },\n\t\"textEmphasisColor\"          : { \"types\": [\"color\"] },\n\t\"textShadow\"                 : { \"types\": [\"shadow-list\"] },\n\t\"columns\"                    : { \"properties\": [\"columnWidth\", \"columnCount\"] },\n\t\"columnWidth\"                : { \"types\": [\"length\"] },\n\t\"columnCount\"                : { \"types\": [\"integer\"] },\n\t\"columnGap\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"columnRule\"                 : { \"properties\": [\"columnRuleColor\", \"columnRuleWidth\"] },\n\t\"columnRuleColor\"            : { \"types\": [\"color\"] },\n\t\"columnRuleWidth\"            : { \"types\": [\"length\"] },\n\t\"letterSpacing\"              : { \"types\": [\"length\"] },\n\t\"tabSize\"                    : { \"types\": [\"length\"] },\n\t\"textIndent\"                 : { \"types\": [\"length-percentage-calc\"] },\n\t\"wordSpacing\"                : { \"types\": [\"length-percentage-calc\"] },\n\t\"transform\"                  : { \"types\": [\"transform\"] },\n\t\"transformOrigin\"            : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"perspective\"                : { \"types\": [\"length\"] },\n\t\"perspectiveOrigin\"          : { \"types\": [\"length-percentage-calc\"], \"multiple\": true }\n}\n\n//\n///**\n// * List of animatable types used by properties, with descriptions of how to interpolate each type.\n// * Data taken from https://www.w3.org/TR/css3-transitions/#animatable-types and some other W3C specs.\n// *\n// * @type {Object}\n// */\n//exports.types = {\n//\t'color'                 : {\n//\t\tname: 'color',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-color'\n//\t},\n//\t'length'                : {\n//\t\tname: 'length',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-length'\n//\t},\n//\t'percentage'            : {\n//\t\tname: 'percentage',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-percentage'\n//\t},\n//\t'length-percentage-calc': {\n//\t\tname: 'length, percentage, or calc',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-lpcalc'\n//\t},\n//\t'integer'               : {\n//\t\tname: 'integer',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-integer'\n//\t},\n//\t'font-weight'           : {\n//\t\tname: 'font weight',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-font-weight'\n//\t},\n//\t'number'                : {\n//\t\tname: 'number',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-number'\n//\t},\n//\t'rectangle'             : {\n//\t\tname: 'rectangle',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-rect'\n//\t},\n//\t'visibility'            : {\n//\t\tname: 'visibility',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-visibility'\n//\t},\n//\t'shadow-list'           : {\n//\t\tname: 'shadow list',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-shadow-list'\n//\t},\n//\t// Other specs\n//\t'transform'             : {\n//\t\tname: 'transform',\n//\t\thref: 'https://www.w3.org/TR/css3-transforms/#interpolation-of-transforms'\n//\t},\n//\t'font-stretch'          : {\n//\t\tname: 'font stretch',\n//\t\thref: 'https://www.w3.org/TR/css3-fonts/#font-stretch-animation'\n//\t},\n//\t'basic-shape'           : {\n//\t\tname: 'basic shape',\n//\t\thref: 'https://www.w3.org/TR/css-shapes-1/#basic-shape-interpolation'\n//\t},\n//};\n//\nexport function expandShorthandProperty( property, value, target = {} ) {\n\tlet type       = props[property],\n\t    childProps = type && type.properties,\n\t    values     = value.split(' ');\n\t\n\tif ( type.multiple )\n\t\tchildProps && childProps.forEach(\n\t\t\t( k, i ) => {\n\t\t\t\ttarget[k] = values[i % values.length];\n\t\t\t}\n\t\t)\n\telse\n\t\tchildProps && childProps.forEach(\n\t\t\t( k, i ) => {\n\t\t\t\tif ( values[i] )\n\t\t\t\t\ttarget[k] = values[i];\n\t\t\t}\n\t\t)\n\treturn target;\n};\n\nexport function isShorthandProperty( property ) {\n\tlet type       = props[property],\n\t    childProps = type && type.properties;\n\treturn childProps && !!childProps.length;\n};\n\n\nexport function isValidDeclaration( property, value ) {\n\treturn !!props[property];\n};\n\n/**\n * Check if a CSS property can be animated\n * @param  {string} property CSS property name\n * @return {boolean}         True if the property can be animated\n */\nexport function canAnimate( property ) {\n\treturn props.hasOwnProperty(property);\n};\n\n/**\n * Get a definition of how a CSS property can be animated\n * @param  {string} property CSS property name\n * @param  {boolean} expand  Expand definitions for sub-properties, when available\n * @return {object}          Property definition, or null if it can't be animated\n */\nexport function getProperty( property, expand ) {\n\tif ( !exports.canAnimate(property) ) {\n\t\treturn null;\n\t}\n\tvar prop = props[property];\n\tvar ret  = { name: property };\n\tObject.keys(prop).forEach(function ( key ) {\n\t\tvar value = prop[key];\n\t\tif ( Array.isArray(value) ) {\n\t\t\tif ( key === 'properties' && expand ) {\n\t\t\t\tvalue = value.map(function ( subProp ) {\n\t\t\t\t\treturn exports.getProperty(subProp, expand);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvalue = value.slice(); // clone\n\t\t\t}\n\t\t}\n\t\tret[key] = value;\n\t});\n\treturn ret;\n};\n","var map = {\n\t\"./$all.js\": \"./src/utils/css/demux/$all.js\",\n\t\"./backgroundColor.js\": \"./src/utils/css/demux/backgroundColor.js\",\n\t\"./filter.js\": \"./src/utils/css/demux/filter.js\",\n\t\"./transform.js\": \"./src/utils/css/demux/transform.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/utils/css/demux sync recursive ^\\\\.\\\\/([^\\\\\\\\\\\\/]+)\\\\.js$\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is from \"is\";\n\nconst\n\tunitsRe         = new RegExp(\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t\t['em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t\t+ \")\"\n\t),\n\tabs             = Math.abs,\n\tfloatCut        = function ( v, l ) {\n\t\tvar p = Math.pow(10, l);\n\t\treturn Math.round(v * p) / p;\n\t},\n\tdefaultUnits    = {\n\t\tleft  : 'px',\n\t\tright : 'px',\n\t\ttop   : 'px',\n\t\tbottom: 'px',\n\t\twidth : 'px',\n\t\theight: 'px',\n\t}, defaultValue = {\n\t\topacity: 1\n\t};\n\nfunction demux( key, tweenable, target, data, box ) {\n\tlet value;\n\t\n\tvalue = data[key + \"_\" + 0] || defaultUnits[key]\n\t        ? floatCut(tweenable[key + \"_\" + 0], 2) + (data[key + \"_\" + 0] || defaultUnits[key])\n\t        : floatCut(tweenable[key + \"_\" + 0], 2);\n\t\n\tif ( data[key] && data[key].length > 1 ) {\n\t\tfor ( let i = 1; i < data[key].length; i++ ) {\n\t\t\tif ( tweenable[key + \"_\" + i] < 0 )\n\t\t\t\tvalue += \" - \" + abs(floatCut(tweenable[key + \"_\" + i], 2)) + (data[key + \"_\" + i] || defaultUnits[key]);\n\t\t\telse\n\t\t\t\tvalue += \" + \" + floatCut(tweenable[key + \"_\" + i], 2) + (data[key + \"_\" + i] || defaultUnits[key]);\n\t\t}\n\t\tvalue = \"calc(\" + value + \")\";\n\t}\n\ttarget[key] = value;\n}\n\nexport default ( key, value, target, data, initials, forceUnits ) => {\n\t\n\tdata[key] = data[key] || [];\n\tif ( is.array(value) ) {\n\t\tfor ( let i = 0; i < value.length; i++ ) {\n\t\t\tdata[key][i] = true;\n\t\t\tmux(key + \"_\" + i, key, value[i] || 0, target, data, initials, forceUnits)\n\t\t}\n\t}\n\telse {\n\t\tdata[key][0] = true;\n\t\tmux(key + \"_\" + 0, key, value || 0, target, data, initials, forceUnits)\n\t}\n\t\n\treturn demux;\n}\n\nfunction mux( key, baseKey, value, target, data, initials, forceUnits ) {\n\t\n\tlet match     = is.string(value) ? value.match(unitsRe) : false;\n\tinitials[key] = is.number(initials[key]) ? initials[key] : defaultValue[baseKey] || 0;\n\tif ( match ) {\n\t\tif ( !forceUnits && data[key] && data[key] !== match[2] ) {\n\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", key, \"present:\" + data[key], \"new:\" + match[2]);\n\t\t\ttarget[key] = 0;\n\t\t}\n\t\telse {\n\t\t\tdata[key]   = match[2];\n\t\t\ttarget[key] = parseFloat(match[1]);\n\t\t}\n\t}\n\telse {\n\t\ttarget[key] = parseFloat(value);\n\t\t//if ( !data[key] && baseKey in defaultUnits )\n\t\t//\tdata[key] = defaultUnits[baseKey];\n\t}\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nexport {default} from \"./typed/color\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is from \"is\";\n\nconst\n\tunitsRe      = new RegExp(\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t\t['em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t\t+ \")\"\n\t),\n\tfloatCut     = function ( v, l ) {\n\t\tvar p = Math.pow(10, l);\n\t\treturn Math.round(v * p) / p;\n\t},\n\tdefaultUnits = {\n\t\tblur      : 'px',\n\t\tbrightness: '%',\n\t\tcontrast  : '%',\n\t\tdropShadow: true,\n\t\tgrayscale : '%',\n\t\thueRotate : 'deg',\n\t\tinvert    : \"%\",\n\t\topacity   : \"%\",\n\t\tsaturate  : \"%\",\n\t\tsepia     : \"%\"\n\t};\nconst filters    = {};\n\nfunction demux( key, tweenable, target, data, box ) {\n\t\n\tif ( data[\"filter_head\"] === key ) {\n\t\tlet filters = \"\";\n\t\tObject.keys(data[key]).forEach(\n\t\t\tfkey => {\n\t\t\t\tlet dkey        = key + '_' + fkey;\n\t\t\t\tdata[key][fkey] = true;\n\t\t\t\tfilters += fkey + \"(\" + floatCut(tweenable[dkey], 2) + data[dkey] + \") \";\n\t\t\t}\n\t\t)\n\t\ttarget.filter = filters;\n\t}\n\t\n}\n\nexport default ( key, value, target, data, initials ) => {\n\t\n\tdata[\"filter_head\"] = data[\"filter_head\"] || key;\n\tdata[key]           = data[key] || {};\n\tinitials[key]       = 0;\n\t\n\tObject.keys(value).forEach(\n\t\tfkey => {\n\t\t\tlet fValue      = value[fkey],\n\t\t\t    dkey        = key + '_' + fkey,\n\t\t\t    match       = is.string(fValue) ? fValue.match(unitsRe) : false;\n\t\t\tdata[key][fkey] = true;\n\t\t\tinitials[dkey]  = 0;\n\t\t\tif ( match ) {\n\t\t\t\tif ( data[dkey] && data[dkey] !== match[2] ) {\n\t\t\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", dkey, \"present:\" + data[dkey], \"new:\" + match[2]);\n\t\t\t\t\ttarget[dkey] = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdata[dkey]   = match[2];\n\t\t\t\t\ttarget[dkey] = parseFloat(match[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttarget[dkey] = fValue;\n\t\t\t\tif ( !data[dkey] && fkey in defaultUnits )\n\t\t\t\t\tdata[dkey] = defaultUnits[fkey];\n\t\t\t}\n\t\t}\n\t)\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is from \"is\";\n\nconst\n\tunits        = ['box', 'bz', 'bh', 'bw', 'deg', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'],\n\tunitsRe      = new RegExp(\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t\t['\\\\w+', 'bz', 'bh', 'bw', 'cap', 'ch', 'deg', 'em', 'ic', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t\t+ \")\"\n\t),\n\tfloatCut     = ( v = 0 ) => v.toFixed(3),\n\tdefaultUnits = {\n\t\t//matrix     : true,\n\t\t//translate  : 'px',\n\t\ttranslateX : 'px',\n\t\ttranslateY : 'px',\n\t\ttranslateZ : 'px',\n\t\tscale      : '',\n\t\t//scaleX     : 'px',\n\t\t//scaleY     : 'px',\n\t\trotate     : 'deg',\n\t\t//skew       : 'deg',\n\t\tskewX      : 'deg',\n\t\tskewY      : 'deg',\n\t\t//matrix3d   : true,\n\t\t//translate3d: true,\n\t\t//scale3d    : true,\n\t\tscaleZ     : 'px',\n\t\t//rotate3d   : true,\n\t\trotateX    : 'deg',\n\t\trotateY    : 'deg',\n\t\trotateZ    : 'deg',\n\t\tperspective: 'px',\n\t},\n\tdefaultBox   = {\n\t\ttranslateX: 'x',\n\t\ttranslateY: 'y',\n\t\ttranslateZ: 'z',\n\t\trotateX   : 'x',\n\t\trotateY   : 'y',\n\t\trotateZ   : 'z',\n\t\tleft      : 'x',\n\t\tright     : 'x',\n\t\ttop       : 'y',\n\t\tbottom    : 'y',\n\t\twidth     : 'x',\n\t\theight    : 'y',\n\t};\n\nfunction demuxOne( key, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = data[dkey][key] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t//if ( Math.abs(value) < .0001 && value !== 0 )\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nfunction demux( key, tweenable, target, data, box ) {\n\t\n\tif ( data[\"transform_head\"] === key ) {\n\t\tlet transforms = \"\",\n\t\t    tmpValue   = {};\n\t\tdata[key].forEach(\n\t\t\t( tmap = {}, i ) => Object.keys(tmap).forEach(\n\t\t\t\tfkey => {\n\t\t\t\t\tlet dkey     = key + '_' + fkey + '_' + i;\n\t\t\t\t\tlet value, y = 0;\n\t\t\t\t\t\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\n\t\t\t\t\tfor ( let rKey in data[dkey] )\n\t\t\t\t\t\tif ( data[dkey].hasOwnProperty(rKey) ) {\n\t\t\t\t\t\t\tif ( tweenable[dkey] < 0 )\n\t\t\t\t\t\t\t\tvalue += (y ? \" - \" : \"-\") + demuxOne(rKey, dkey, -tweenable[rKey], fkey, data, box);\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tvalue += (y ? \" + \" : \"\") + demuxOne(rKey, dkey, tweenable[rKey], fkey, data, box);\n\t\t\t\t\t\t\ty++;\n\t\t\t\t\t\t}\n\t\t\t\t\tif ( y > 1 )\n\t\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\ttransforms += fkey + \"(\" + value + \") \";\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t)\n\t\t)\n\t\ttarget.transform = transforms;\n\t}\n\t\n}\n\nfunction muxOne( key, value, target, data, initials, forceUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[key],\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = 0;\n\tdata[key][realKey] = unit;\n\t\n\tif ( match ) {\n\t\ttarget[realKey] = parseFloat(match[1]);\n\t}\n\telse {\n\t\ttarget[realKey] = parseFloat(value);\n\t}\n\t\n\treturn demux;\n};\nexport default ( key, value, target, data, initials, forceUnits, reset ) => {\n\t\n\tdata[\"transform_head\"] = data[\"transform_head\"] || key;\n\tdata[key]              = data[key] || [{}];\n\tinitials[key]          = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\t\n\tvalue.forEach(\n\t\t( tmap, i ) => {\n\t\t\tlet baseData = {}\n\t\t\t//data[key][i]       = forceUnits ? {} : data[key][i] || {};\n\t\t\ttmap && Object.keys(tmap).forEach(\n\t\t\t\tfkey => {\n\t\t\t\t\tlet fValue = tmap[fkey],\n\t\t\t\t\t    dkey   = key + '_' + fkey + '_' + i;\n\t\t\t\t\t//match  = is.string(fValue) ? fValue.match(unitsRe) : false;\n\t\t\t\t\t//number(dkey, fValue, target, data, initials, forceUnits)\n\t\t\t\t\tbaseData[fkey] = true;\n\t\t\t\t\t\n\t\t\t\t\tdata[dkey] = data[dkey] || {};\n\t\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\t\tfor ( let u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\t\tmuxOne(dkey, fValue[u] || 0, target, data, initials, forceUnits)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmuxOne(dkey, fValue || 0, target, data, initials, forceUnits)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tdata[key][i] =\n\t\t\t\tforceUnits\n\t\t\t\t? { ...baseData, ...(data[key][i] || {}) }\n\t\t\t\t: { ...(data[key][i] || {}), ...baseData };\n\t\t}\n\t)\n\treturn demux;\n}","var map = {\n\t\"./color.js\": \"./src/utils/css/demux/typed/color.js\",\n\t\"./int.js\": \"./src/utils/css/demux/typed/int.js\",\n\t\"./multi.js\": \"./src/utils/css/demux/typed/multi.js\",\n\t\"./number.js\": \"./src/utils/css/demux/typed/number.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/utils/css/demux/typed sync recursive ^\\\\.\\\\/([^\\\\\\\\\\\\/]+)\\\\.js$\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport rgba from \"color-rgba\";\n\nfunction demux( key, tweenable, target, data ) {\n\ttarget[key] = \"rgba(\" + tweenable[key + '_r'] + \", \" + tweenable[key + '_g'] + \", \" + tweenable[key + '_b'] + \", \" + tweenable[key + '_a'] + \")\";\n}\n\nexport default ( key, value, target, data, initials ) => {\n\tlet vect           = rgba(value);\n\ttarget[key + '_r'] = vect[0];\n\ttarget[key + '_g'] = vect[1];\n\ttarget[key + '_b'] = vect[2];\n\ttarget[key + '_a'] = vect[3];\n\t\n\tinitials[key + '_r'] = 0;\n\tinitials[key + '_g'] = 0;\n\tinitials[key + '_b'] = 0;\n\tinitials[key + '_a'] = 1;\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is from \"is\";\n\nconst\n\tunitsRe      = new RegExp(\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t\t['em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t\t+ \")\"\n\t),\n\tfloatCut     = function ( v, l ) {\n\t\tvar p = Math.pow(10, l);\n\t\treturn Math.round(v * p) / p;\n\t},\n\tdefaultUnits = {\n\t\tleft  : 'px',\n\t\tright : 'px',\n\t\ttop   : 'px',\n\t\tbottom: 'px',\n\t\twidth : 'px',\n\t\theight: 'px',\n\t};\n\nfunction demux( key, tweenable, target, data, box ) {\n\ttarget[key] = ~~(data[key] ? tweenable[key] + data[key] : tweenable[key]);\n}\n\nexport default ( key, value, target, data, initials, forceUnits ) => {\n\t\n\t\n\t//if ( cssAnimProps.canAnimate(key) ) {\n\tlet match = is.string(value) ? value.match(unitsRe) : false;\n\t\n\t//let how = cssAnimProps.getProperty(key);\n\t//console.log(how);\n\tinitials[key] = 0;\n\tif ( match ) {\n\t\tif ( !forceUnits && data[key] && data[key] !== match[2] ) {\n\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", key, \"present:\" + data[key], \"new:\" + match[2]);\n\t\t\ttarget[key] = 0;\n\t\t}\n\t\telse {\n\t\t\tdata[key]   = match[2];\n\t\t\ttarget[key] = ~~match[1];\n\t\t}\n\t}\n\telse {\n\t\ttarget[key] = ~~value;\n\t\tif ( !data[key] && key in defaultUnits )\n\t\t\tdata[key] = defaultUnits[key];\n\t}\n\t//}\n\t//else {\n\t//\t// just do nothing\n\t//\t//data[key]=\n\t//}\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is     from \"is\";\nimport number from \"./number\";\n\nconst\n\tfloatCut = ( v = 0 ) => v.toFixed(3),\n\t\n\talias    = {\n\t\ttop   : '0%',\n\t\tbottom: '100%',\n\t\tcenter: '50%',\n\t\tleft  : '0%',\n\t\tright : '100%'\n\t};\n\nfunction demux( key, tweenable, target, data, box, offset ) {\n\t\n\tlet count = data[key], v = '', nowhere = {};\n\t\n\tfor ( let i = 0; i < count; i++ ) {\n\t\tnumber.demux(key + '_' + i, tweenable, nowhere, data, box, offset);\n\t\tv += nowhere[key + '_' + i] + ' ';\n\t}\n\t\n\ttarget[key] = v;\n}\n\nexport default ( count ) => ( key, value, target, data, initials ) => {\n\tlet values = value.split(' '), v;\n\t\n\tdata[key] = count;\n\t\n\tfor ( let i = 0; i < count; i++ ) {\n\t\tv = values[i % values.length];\n\t\tv = is.string(v) && alias[v] || v;\n\t\tnumber(key + '_' + i, v, target, data, initials)\n\t}\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is from \"is\";\n\nconst\n\tunits        = ['box', 'bz', 'bh', 'bw', 'deg', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'],\n\tunitsRe      = new RegExp(\n\t\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t\t['\\\\w+', 'bz', 'bh', 'bw', 'cap', 'ch', 'deg', 'em', 'ic', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t\t+ \")\"\n\t),\n\tfloatCut        = ( v = 0 ) => v.toFixed(3),\n\tdefaultUnits    = {\n\t\tleft       : 'px',\n\t\tright      : 'px',\n\t\ttop        : 'px',\n\t\tbottom     : 'px',\n\t\twidth      : 'px',\n\t\theight     : 'px',\n\t\ttranslateX : 'px',\n\t\ttranslateY : 'px',\n\t\ttranslateZ : 'px',\n\t\tscale      : '',\n\t\t//scaleX     : 'px',\n\t\t//scaleY     : 'px',\n\t\trotate     : 'deg',\n\t\t//skew       : 'deg',\n\t\tskewX      : 'deg',\n\t\tskewY      : 'deg',\n\t\t//matrix3d   : true,\n\t\t//translate3d: true,\n\t\t//scale3d    : true,\n\t\tscaleZ     : 'px',\n\t\t//rotate3d   : true,\n\t\trotateX    : 'deg',\n\t\trotateY    : 'deg',\n\t\trotateZ    : 'deg',\n\t\tperspective: 'px',\n\t},\n\tdefaultBox      = {\n\t\ttranslateX: 'x',\n\t\ttranslateY: 'y',\n\t\ttranslateZ: 'z',\n\t\trotateX   : 'x',\n\t\trotateY   : 'y',\n\t\trotateZ   : 'z',\n\t\tleft      : 'x',\n\t\tright     : 'x',\n\t\ttop       : 'y',\n\t\tbottom    : 'y',\n\t\twidth     : 'x',\n\t\theight    : 'y',\n\t}, defaultValue = {\n\t\topacity: 1\n\t};\n\nfunction demuxOne( key, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = data[baseKey][key] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t\t\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t//if ( Math.abs(value) < .0001 && value !== 0 )\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nfunction demux( key, tweenable, target, data, box, baseKey ) {\n\tlet value, i = 0;\n\t\n\tvalue = \"\";\n\t\n\tfor ( let rKey in data[key] )\n\t\tif ( data[key].hasOwnProperty(rKey) ) {\n\t\t\tif ( tweenable[rKey] < 0 )\n\t\t\t\tvalue += (i ? \" - \" : \"-\") + demuxOne(rKey, -tweenable[rKey], baseKey || key, data, box);\n\t\t\telse\n\t\t\t\tvalue += (i ? \" + \" : \"\") + demuxOne(rKey, tweenable[rKey], baseKey || key, data, box);\n\t\t\ti++;\n\t\t}\n\tif ( i > 1 )\n\t\tvalue = \"calc(\" + value + \")\";\n\t\n\ttarget[key] = value;\n}\n\nfunction muxer( key, value, target, data, initials, forceUnits ) {\n\t\n\tdata[key] = data[key] || {};\n\tif ( is.array(value) ) {\n\t\tfor ( let i = 0; i < value.length; i++ ) {\n\t\t\t\n\t\t\tmuxOne(key, value[i] || 0, target, data, initials, forceUnits)\n\t\t}\n\t}\n\telse {\n\t\tmuxOne(key, value || 0, target, data, initials, forceUnits)\n\t}\n\t\n\treturn demux;\n}\n\nfunction muxOne( key, value, target, data, initials, forceUnits ) {\n\t\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[key],\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[key] || 0;\n\tdata[key][realKey] = unit;\n\t\n\tif ( match ) {\n\t\ttarget[realKey] = parseFloat(match[1]);\n\t}\n\telse {\n\t\ttarget[realKey] = parseFloat(value);\n\t}\n\t\n\treturn demux;\n};\nmuxer.demux    = demux;\nmuxer.demuxOne = demuxOne;\nexport default muxer;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nimport {expandShorthandProperty, isShorthandProperty, isValidDeclaration} from \"./cssUtils\";\nimport * as cssDemuxers                                                   from \"./demux/(*).js\";\n\nimport {number, int, multi} from \"./demux/typed/(*).js\";\n\n\nconst cssDemux = {\n\t...cssDemuxers,\n\theight         : number,\n\twidth          : number,\n\ttop            : number,\n\tleft           : number,\n\tright          : number,\n\tbottom         : number,\n\tmarginTop      : number,\n\tmarginLeft     : number,\n\tmarginRight    : number,\n\tmarginBottom   : number,\n\tpaddingTop     : number,\n\tpaddingLeft    : number,\n\tpaddingRight   : number,\n\tpaddingBottom  : number,\n\ttransformOrigin: multi(2),\n\tzIndex         : int,\n\t//rotate       : transforms,\n\t//rotateX      : transforms,\n\t//rotateY      : transforms,\n\t//x            : transforms,\n\t//y            : transforms,\n\t//z            : transforms,\n\t//_x           : transforms,\n\t//_y           : transforms,\n\t//_z           : transforms,\n\t//blur         : transforms,\n\t//perspective  : transforms\n};\n\nexport function muxToCss( tweenable, css, demuxers, data, box ) {\n\tObject.keys(demuxers)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      //if ( key === 'zIndex' ) debugger\n\t\t\t      demuxers[key](key, tweenable, css, data, box)\n\t\t      }\n\t      )\n}\n\nexport function deMuxTween( tween, deMuxedTween, initials, data, demuxers, forceUnits, reOrder ) {\n\tlet fTween = {}, excluded = {};\n\tObject.keys(tween)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      if ( cssDemux[key] )\n\t\t\t\t      fTween[key] = tween[key];\n\t\t\t      else if ( isValidDeclaration(key, tween[key]) ) {\n\t\t\t\t      if ( isShorthandProperty(key) ) {\n\t\t\t\t\t      expandShorthandProperty(key, tween[key], fTween);\n\t\t\t\t      }\n\t\t\t\t      else fTween[key] = tween[key];\n\t\t\t      }\n\t\t\t      else excluded[key] = tween[key];\n\t\t      });\n\t\n\tObject.keys(fTween)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      if ( cssDemux[key] ) {//key, value, target, data, initials\n\t\t\t\t      demuxers[key] = cssDemux[key](key, fTween[key], deMuxedTween, data, initials, forceUnits, reOrder)\n\t\t\t      }\n\t\t\t      else\n\t\t\t\t      demuxers[key] = number(key, fTween[key], deMuxedTween, data, initials, forceUnits, reOrder)\n\t\t      }\n\t      )\n\treturn excluded;\n}\n\nexport function deMuxLine( tweenLine, initials, data, demuxers ) {\n\treturn tweenLine.reduce(\n\t\t( line, tween ) => {\n\t\t\tlet demuxedTween       = {};\n\t\t\tdemuxers[tween.target] = demuxers[tween.target] || {};\n\t\t\tinitials[tween.target] = initials[tween.target] || {};\n\t\t\tdata[tween.target]     = data[tween.target] || {};\n\t\t\t\n\t\t\tdeMuxTween(tween.apply, demuxedTween, initials[tween.target], data[tween.target], demuxers[tween.target]);\n\t\t\tline.push(\n\t\t\t\t{\n\t\t\t\t\t...tween,\n\t\t\t\t\tapply: demuxedTween\n\t\t\t\t});\n\t\t\treturn line\n\t\t},\n\t\t[]\n\t)\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar\n\tis        = require('is'),\n\tfloatCut  = function ( v, l ) {\n\t\tvar p = Math.pow(10, l);\n\t\treturn Math.round(v * p) / p;\n\t},\n\tmin       = Math.min,\n\tmax       = Math.max,\n\tisBrowser = typeof window !== 'undefined',\n\t_dom      = isBrowser ? {\n\t\tprefix      : (/webkit/i).test(navigator.appVersion) ? 'webkit' :\n\t\t              (/firefox/i).test(navigator.userAgent) ? 'Moz' :\n\t\t              (/trident/i).test(navigator.userAgent) ? 'ms' :\n\t\t              'opera' in window ? 'O' : '',\n\t\tdashedPrefix: (/webkit/i).test(navigator.appVersion) ? '-webkit-' :\n\t\t              (/firefox/i).test(navigator.userAgent) ? '-moz-' :\n\t\t              (/trident/i).test(navigator.userAgent) ? '-ms-' :\n\t\t              'opera' in window ? '-o-' : ''\n\t} : {\n\t\tprefix      : '',\n\t\tdashedPrefix: ''\n\t},\n\t__        = {\n\t\tonPageHided      : [],\n\t\tonPageShown      : [],\n\t\tdragging         : [],\n\t\tdragEnabled      : [],\n\t\tdragEnabledDesc  : [],\n\t\tfingers          : {},\n\t\tnbFingers        : 0,\n\t\tdragstartAnywhere: function ( e ) {\n\t\t\tvar o,\n\t\t\t    me            = __,\n\t\t\t    i             = me.dragEnabled.indexOf(this),\n\t\t\t    finger,\n\t\t\t    desc, fingers = [];\n\t\t\t\n\t\t\tif ( i === -1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//e.preventDefault();\n\t\t\t//e.stopPropagation();\n\t\t\t\n\t\t\tif ( !me.nbFingers ) {\n\t\t\t\tDom.addEvent(document,\n\t\t\t\t             {\n\t\t\t\t\t             'touchmove': me.dragAnywhere,\n\t\t\t\t\t             'mousemove': me.dragAnywhere,\n\t\t\t\t\t             'touchend' : me.dropAnywhere,\n\t\t\t\t\t             'mouseup'  : me.dropAnywhere,\n\t\t\t\t             });\n\t\t\t\tDom.addEvent(this,\n\t\t\t\t             {\n\t\t\t\t\t             'click': me.dropWithoutClick\n\t\t\t\t             }, null, null, true);\n\t\t\t}\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( var t = 0, ln = fingers.length; t < ln; t++ ) {\n\t\t\t\tfinger = fingers[t];\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc = me.dragEnabledDesc[i];\n\t\t\t\t\n\t\t\t\tif ( desc.nbFingers ) continue;\n\t\t\t\t\n\t\t\t\tme.nbFingers++;\n\t\t\t\t\n\t\t\t\tme.fingers[finger.identifier] = me.fingers[finger.identifier] || [];\n\t\t\t\tme.fingers[finger.identifier].push(desc);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc.nbFingers++;\n\t\t\t\t\n\t\t\t\tdesc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\tdesc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\tdesc._startTs    = e.timeStamp;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\n\t\t\t\tfor ( o = 0; o < desc.dragstart.length; o++ )\n\t\t\t\t\tdesc.dragstart[o][0].call(desc.dragstart[o][1] ||\n\t\t\t\t\t\t                          this, e, finger, desc);\n\t\t\t}\n\t\t},\n\t\tdragAnywhere     : function ( e ) {\n\t\t\tvar o,\n\t\t\t    me              = __,\n\t\t\t    finger, fingers = [], stopped,\n\t\t\t    desc            = __.dragging[0];\n\t\t\t\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( var i = 0, ln = fingers.length; i < ln; i++ ) {\n\t\t\t\tfinger = fingers[i];\n\t\t\t\tdesc   = me.fingers[finger.identifier];\n\t\t\t\tme.fingers[finger.identifier] &&\n\t\t\t\tme.fingers[finger.identifier].forEach(\n\t\t\t\t\tdesc => {\n\t\t\t\t\t\tif ( stopped ) {\n\t\t\t\t\t\t\tdesc._lastPos.x = desc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\t\tdesc._lastPos.y = desc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor ( o = 0; o < desc.drag.length; o++ )\n\t\t\t\t\t\t\tstopped = desc.drag[o][0].call(desc.drag[o][1] || this, e,\n\t\t\t\t\t\t\t                               finger,\n\t\t\t\t\t\t\t                               desc) === false;\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tdropWithoutClick : function ( e ) {\n\t\t\tif ( __.preventNextClick ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t__.preventNextClick = false;\n\t\t\t}\n\t\t\tDom.removeEvent(this,\n\t\t\t                {\n\t\t\t\t                'click': this.dropWithoutClick\n\t\t\t                });\n\t\t},\n\t\tdropAnywhere     : function ( e ) {\n\t\t\tvar o,\n\t\t\t    me = __, finger, fingers = [],\n\t\t\t    prevent;\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( var i = 0, ln = fingers.length; i < ln; i++ ) {\n\t\t\t\tfinger = fingers[i];\n\t\t\t\tme.nbFingers--;\n\t\t\t\tme.fingers[finger.identifier] &&\n\t\t\t\tme.fingers[finger.identifier].forEach(\n\t\t\t\t\tdesc => {\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tdesc.nbFingers--;\n\t\t\t\t\t\tprevent         = prevent || desc.mouseDrag && (e.timeStamp - desc._startTs > 250);\n\t\t\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor ( o = 0; o < desc.dropped.length; o++ )\n\t\t\t\t\t\t\tdesc.dropped[o][0].call(desc.dropped[o][1] ||\n\t\t\t\t\t\t\t\t                        this, e,\n\t\t\t\t\t\t\t                        finger, desc);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tme.fingers[finger.identifier] = null;\n\t\t\t}\n\t\t\tif ( prevent ) {\n\t\t\t\tme.preventNextClick = true;\n\t\t\t}\n\t\t\tif ( !me.nbFingers ) {\n\t\t\t\tDom.removeEvent(document,\n\t\t\t\t                {\n\t\t\t\t\t                'touchmove': me.dragAnywhere,\n\t\t\t\t\t                'mousemove': me.dragAnywhere,\n\t\t\t\t\t                'touchend' : me.dropAnywhere,\n\t\t\t\t\t                'mouseup'  : me.dropAnywhere\n\t\t\t\t                });\n\t\t\t}\n\t\t},\n\t\tgetDraggable     : function ( node, mouseDrag ) {\n\t\t\tvar i = this.dragEnabled.indexOf(node), desc;\n\t\t\tif ( i === -1 ) {\n\t\t\t\tthis.dragEnabled.push(node);\n\t\t\t\tthis.dragEnabledDesc.push(\n\t\t\t\t\tdesc = {\n\t\t\t\t\t\tmouseDrag,\n\t\t\t\t\t\tnbFingers: 0,\n\t\t\t\t\t\tlocks    : 0,\n\t\t\t\t\t\t_startPos: {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\t_lastPos : {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdragstart: [],\n\t\t\t\t\t\tdrag     : [],\n\t\t\t\t\t\tdragEnd  : [],\n\t\t\t\t\t\tdropped  : []\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\t//debugger;\n\t\t\t\tDom.addEvent(node,\n\t\t\t\t             {\n\t\t\t\t\t             'mousedown' : mouseDrag && this.dragstartAnywhere,\n\t\t\t\t\t             'touchstart': this.dragstartAnywhere\n\t\t\t\t             }, null, null, true);\n\t\t\t}\n\t\t\telse desc = this.dragEnabledDesc[i];\n\t\t\treturn desc;\n\t\t},\n\t\tfreeDraggable    : function ( node ) {\n\t\t\tvar i = this.dragEnabled.indexOf(node), desc;\n\t\t\tif ( i !== -1 ) {\n\t\t\t\tthis.dragEnabled.splice(i, 1);\n\t\t\t\tthis.dragEnabledDesc.splice(i, 1);\n\t\t\t\t\n\t\t\t\tDom.removeEvent(node,\n\t\t\t\t                {\n\t\t\t\t\t                'mousedown' : this.dragstartAnywhere,\n\t\t\t\t\t                'touchstart': this.dragstartAnywhere\n\t\t\t\t                });\n\t\t\t}\n\t\t},\n\t\taddOverflowEvent : function addFlowListener( element, fn ) {\n\t\t\t\n\t\t\tvar type = 'over', flow = type == 'over';\n\t\t\t\n\t\t\telement.addEventListener('OverflowEvent' in window ? 'overflowchanged' : type + 'flow',\n\t\t\t                         function ( e ) {\n\t\t\t\t                         if ( e.type == (type + 'flow') ||\n\t\t\t\t\t                         ((e.orient == 0 && e.horizontalOverflow == flow) ||\n\t\t\t\t\t\t                         (e.orient == 1 && e.verticalOverflow == flow) ||\n\t\t\t\t\t\t                         (e.orient == 2 && e.horizontalOverflow == flow &&\n\t\t\t\t\t\t\t                         e.verticalOverflow == flow)) ) {\n\t\t\t\t\t                         return fn.call(this, e);\n\t\t\t\t                         }\n\t\t\t                         }, false);\n\t\t\t\n\t\t},\n\t\taddEvent         : function ( node, type, fn, bubble ) {\n\t\t\tif ( node.addEventListener ) {\n\t\t\t\tnode.addEventListener(type, fn, bubble);\n\t\t\t}\n\t\t\telse if ( node.attachEvent ) {\n\t\t\t\tnode.attachEvent('on' + type,\n\t\t\t\t                 fn.related = function ( e ) {\n\t\t\t\t\t                 return fn.call(node, e);\n\t\t\t\t                 });\n\t\t\t}\n\t\t},\n\t\tremoveEvent      : function ( node, type, fn, bubble ) {\n\t\t\tif ( node.removeEventListener ) {\n\t\t\t\tnode.removeEventListener(type, fn, bubble);\n\t\t\t}\n\t\t\telse if ( node.attachEvent ) {\n\t\t\t\tnode.detachEvent('on' + type, fn.related);\n\t\t\t}\n\t\t},\n\t\trmDragFn         : function ( arr, fn, scope ) {\n\t\t\tfor ( var i = 0, ln = arr.length; i < ln; i++ ) {\n\t\t\t\tif ( arr[i][0] === fn )\n\t\t\t\t\treturn arr.splice(i, 1);\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Rm event : Listener not found !!\");\n\t\t},\n\t\t_createElement   : function ( tag, opt, refs, parent ) {\n\t\t\tvar a, o, i, ln,\n\t\t\t    node = parent || document.createElement(tag);\n\t\t\t\n\t\t\t//if (parent) opt = {content:opt};\n\t\t\t\n\t\t\tif ( opt )\n\t\t\t\tfor ( o in opt )\n\t\t\t\t\tif ( opt.hasOwnProperty(o) && opt[o] !== undefined\n\t\t\t\t\t\t&& !_createElementAttr.hasOwnProperty(o) ) {\n\t\t\t\t\t\ta       = document.createAttribute(o);\n\t\t\t\t\t\ta.value = opt[o];\n\t\t\t\t\t\tnode.setAttributeNode(a);\n\t\t\t\t\t}\n\t\t\t\n\t\t\trefs && opt.$id && (refs[opt.$id] = node);\n\t\t\t\n\t\t\topt.style && Dom.applyCss(node, opt.style);\n\t\t\t\n\t\t\topt.cls && Dom.addCls(node, opt.cls);\n\t\t\t\n\t\t\tif ( opt.events ) {\n\t\t\t\tfor ( o in opt.events )\n\t\t\t\t\tif ( opt.events.hasOwnProperty(o) && o !== \"$scope\" )\n\t\t\t\t\t\tDom.addEvent(node, o, opt.events[o], opt.events.$scope);\n\t\t\t}\n\t\t\tif ( opt.content ) {\n\t\t\t\tif ( typeof opt.content === 'string' || typeof opt.content[o] == 'number' ) {\n\t\t\t\t\tnode.innerHTML = opt.content;\n\t\t\t\t}\n\t\t\t\telse if ( opt.content instanceof Array ) {\n\t\t\t\t\tfor ( i = 0, ln = opt.content.length; i < ln; i++ )\n\t\t\t\t\t\tnode.appendChild(\n\t\t\t\t\t\t\ttypeof opt.content[i] == 'string' || typeof opt.content[i] == 'number' || !opt.content[i] ?\n\t\t\t\t\t\t\tdocument.createTextNode(opt.content[i] || '') :\n\t\t\t\t\t\t\tisElement(opt.content[i]) ?\n\t\t\t\t\t\t\topt.content[i] :\n\t\t\t\t\t\t\t__createElement(opt.content[i].tagName || 'div', opt.content[i], refs)\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tnode.appendChild(\n\t\t\t\t\t\topt.content instanceof HTMLElement ?\n\t\t\t\t\t\topt.content : __createElement(\n\t\t\t\t\t\t\topt.content.tagName || 'div', opt.content, refs)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn node;\n\t\t}\n\t},\n\tDom       = {\n\t\taddEvent     : function ( node, type, fn, mouseDrag, bubble ) {\n\t\t\tif ( is.object(type) ) {\n\t\t\t\tfor ( var o in type )\n\t\t\t\t\tif ( type.hasOwnProperty(o) )\n\t\t\t\t\t\tthis.addEvent(node, o, type[o], mouseDrag, bubble);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if ( type == 'dragstart' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).dragstart.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse if ( type == 'drag' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).drag.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse if ( type == 'dropped' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).dropped.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( node.addEventListener ) {\n\t\t\t\t\tnode.addEventListener(type, fn, { passive: false });\n\t\t\t\t}\n\t\t\t\telse if ( node.attachEvent ) {\n\t\t\t\t\tnode.attachEvent('on' + type,\n\t\t\t\t\t                 fn.related = function ( e ) {\n\t\t\t\t\t\t                 return fn.call(node, e);\n\t\t\t\t\t                 });\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tremoveEvent  : function ( node, type, fn, scope, bubble ) {\n\t\t\tvar i, desc;\n\t\t\t\n\t\t\tif ( is.object(type) ) {\n\t\t\t\tfor ( var o in type )\n\t\t\t\t\tif ( type.hasOwnProperty(o) )\n\t\t\t\t\t\tthis.removeEvent(node, o, type[o], scope);\n\t\t\t\t\n\t\t\t}\n\t\t\telse if ( /^(drag|drop)/.test(type) ) {\n\t\t\t\tdesc = __.getDraggable(node);\n\t\t\t\t__.rmDragFn(desc[type], fn, scope);\n\t\t\t\tif ( !desc.dragstart.length\n\t\t\t\t\t&& !desc.drag.length\n\t\t\t\t\t&& !desc.dragEnd.length\n\t\t\t\t\t&& !desc.dropped.length )\n\t\t\t\t\t__.freeDraggable(node);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( node.removeEventListener ) {\n\t\t\t\t\tnode.removeEventListener(type, fn, bubble);\n\t\t\t\t}\n\t\t\t\telse if ( node.attachEvent ) {\n\t\t\t\t\tnode.detachEvent('on' + type, fn.related);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t},\n\t\toffset       : function ( elem ) {// @todo\n\t\t\tvar dims = { top: 0, left: 0, width: elem.offsetWidth, height: elem.offsetHeight };\n\t\t\twhile ( elem ) {\n\t\t\t\tdims.top  = dims.top + parseInt(elem.offsetTop);\n\t\t\t\tdims.left = dims.left + parseInt(elem.offsetLeft);\n\t\t\t\telem      = elem.offsetParent;\n\t\t\t}\n\t\t\treturn dims;\n\t\t},\n\t\taddWheelEvent: isBrowser && (function ( window, document ) {\n\t\t\t\n\t\t\tvar prefix = \"\", _addEventListener, _rmEventListener, onwheel, support;\n\t\t\t\n\t\t\t// detect event model\n\t\t\tif ( window.addEventListener ) {\n\t\t\t\t_addEventListener = \"addEventListener\";\n\t\t\t\t_rmEventListener  = \"removeEventListener\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_addEventListener = \"attachEvent\";\n\t\t\t\t_rmEventListener  = \"detachEvent\";\n\t\t\t\tprefix            = \"on\";\n\t\t\t}\n\t\t\t\n\t\t\t// detect available wheel event\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\n\t\t\t\n\t\t\tconst addWheelListener = function ( elem, callback, scope, useCapture ) {\n\t\t\t\t_addWheelListener(elem, support, callback, scope, useCapture);\n\t\t\t\t\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\n\t\t\t\t\t_addWheelListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\n\t\t\t\t}\n\t\t\t};\n\t\t\t// Reasonable defaults\n\t\t\tvar PIXEL_STEP         = 10;\n\t\t\tvar LINE_HEIGHT        = 40;\n\t\t\tvar PAGE_HEIGHT        = 800;\n\t\t\t\n\t\t\tfunction normalizeWheel( /*object*/ event ) /*object*/ {\n\t\t\t\tvar sX = 0, sY = 0,       // spinX, spinY\n\t\t\t\t    pX         = 0, pY = 0;       // pixelX, pixelY\n\t\t\t\t\n\t\t\t\t// Legacy\n\t\t\t\tif ( 'detail' in event ) {\n\t\t\t\t\tsY = event.detail;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDelta' in event ) {\n\t\t\t\t\tsY = -event.wheelDelta / 120;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDeltaY' in event ) {\n\t\t\t\t\tsY = -event.wheelDeltaY / 120;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDeltaX' in event ) {\n\t\t\t\t\tsX = -event.wheelDeltaX / 120;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// side scrolling on FF with DOMMouseScroll\n\t\t\t\tif ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\n\t\t\t\t\tsX = sY;\n\t\t\t\t\tsY = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tpX = sX * PIXEL_STEP;\n\t\t\t\tpY = sY * PIXEL_STEP;\n\t\t\t\t\n\t\t\t\tif ( 'deltaY' in event ) {\n\t\t\t\t\tpY = event.deltaY;\n\t\t\t\t}\n\t\t\t\tif ( 'deltaX' in event ) {\n\t\t\t\t\tpX = event.deltaX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( (pX || pY) && event.deltaMode ) {\n\t\t\t\t\tif ( event.deltaMode == 1 ) {          // delta in LINE units\n\t\t\t\t\t\tpX *= LINE_HEIGHT;\n\t\t\t\t\t\tpY *= LINE_HEIGHT;\n\t\t\t\t\t}\n\t\t\t\t\telse {                             // delta in PAGE units\n\t\t\t\t\t\tpX *= PAGE_HEIGHT;\n\t\t\t\t\t\tpY *= PAGE_HEIGHT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Fall-back if spin cannot be determined\n\t\t\t\tif ( pX && !sX ) {\n\t\t\t\t\tsX = (pX < 1) ? -1 : 1;\n\t\t\t\t}\n\t\t\t\tif ( pY && !sY ) {\n\t\t\t\t\tsY = (pY < 1) ? -1 : 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn {\n\t\t\t\t\tspinX : sX,\n\t\t\t\t\tspinY : sY,\n\t\t\t\t\tpixelX: pX,\n\t\t\t\t\tpixelY: pY\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tfunction _addWheelListener( elem, eventName, callback, scope, useCapture ) {\n\t\t\t\telem[_addEventListener](prefix + eventName, callback._wheelList = function ( originalEvent ) {\n\t\t\t\t\t!originalEvent && (originalEvent = window.event);\n\t\t\t\t\t\n\t\t\t\t\t// create a normalized event object\n\t\t\t\t\tvar event = {\n\t\t\t\t\t\t// keep a ref to the original event object\n\t\t\t\t\t\toriginalEvent : originalEvent,\n\t\t\t\t\t\ttarget        : originalEvent.target || originalEvent.srcElement,\n\t\t\t\t\t\ttype          : \"wheel\",\n\t\t\t\t\t\tdeltaMode     : originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\n\t\t\t\t\t\tdeltaX        : 0,\n\t\t\t\t\t\tdelatZ        : 0,\n\t\t\t\t\t\tpreventDefault: function () {\n\t\t\t\t\t\t\toriginalEvent.preventDefault ?\n\t\t\t\t\t\t\toriginalEvent.preventDefault() :\n\t\t\t\t\t\t\toriginalEvent.returnValue = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormalized    : normalizeWheel(originalEvent)\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// calculate deltaY (and deltaX) according to the event\n\t\t\t\t\tif ( support == \"mousewheel\" ) {\n\t\t\t\t\t\tevent.deltaY = -1 / 40 * originalEvent.wheelDelta;\n\t\t\t\t\t\t// Webkit also support wheelDeltaX\n\t\t\t\t\t\t//                            originalEvent.wheelDeltaX && ( event.deltaX = - 1/40 *\n\t\t\t\t\t\t// originalEvent.wheelDeltaX );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( support == \"wheel\" && _dom.prefix == \"Moz\" ) {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 3;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( support == \"wheel\" ) {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 100;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY;\n\t\t\t\t\t}\n\t\t\t\t\t//                        if (typeof originalEvent.wheelDeltaY !== 'number')\n\t\t\t\t\t//                            event.wheelDeltaY = originalEvent.deltaY/100;\n\t\t\t\t\t\n\t\t\t\t\t//                        event.wheelDelta = deltaY*120;\n\t\t\t\t\t\n\t\t\t\t\t// it's time to fire the callback\n\t\t\t\t\treturn callback.call(scope || this, event);\n\t\t\t\t\t\n\t\t\t\t}, useCapture || false);\n\t\t\t}\n\t\t\t\n\t\t\treturn addWheelListener;\n\t\t})(window, document),\n\t\trmWheelEvent : isBrowser && (function ( window, document ) {\n\t\t\t\n\t\t\tvar prefix = \"\", _rmEventListener, onwheel, support;\n\t\t\t\n\t\t\t// detect event model\n\t\t\tif ( addEventListener ) {\n\t\t\t\t_rmEventListener = \"removeEventListener\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_rmEventListener = \"detachEvent\";\n\t\t\t\tprefix           = \"on\";\n\t\t\t}\n\t\t\t\n\t\t\t// detect available wheel event\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\n\t\t\t\n\t\t\tlet rmWheelListener = function ( elem, callback, scope, useCapture ) {\n\t\t\t\t_EventListener(elem, support, callback, scope, useCapture);\n\t\t\t\t\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\n\t\t\t\t\t_EventListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tfunction _EventListener( elem, eventName, callback, scope, useCapture ) {\n\t\t\t\telem[_rmEventListener](prefix + eventName, callback._wheelList);\n\t\t\t}\n\t\t\t\n\t\t\treturn rmWheelListener;\n\t\t})(window, document),\n\t\t\n\t\t\n\t\t/**\n\t\t * Find the react component that generate element dom node\n\t\t * @param element\n\t\t * @returns {[React.Component]}\n\t\t */\n\t\tfindReactParents( element ) {\n\t\t\tlet fiberNode, comps = [element];\n\t\t\tfor ( const key in element ) {\n\t\t\t\t\n\t\t\t\tif ( key.startsWith('__reactInternalInstance$') ) {\n\t\t\t\t\tfiberNode = element[key];\n\t\t\t\t\twhile ( fiberNode.return ) {\n\t\t\t\t\t\tif ( fiberNode.stateNode && !comps.includes(fiberNode.stateNode) )\n\t\t\t\t\t\t\tcomps.push(fiberNode.stateNode)\n\t\t\t\t\t\tfiberNode = fiberNode.return;\n\t\t\t\t\t}\n\t\t\t\t\treturn comps;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn element.parentNode && this.findReactParents(element.parentNode);\n\t\t}\n\t\t\n\t};\nexport default Dom;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst\n\tis       = require('is'),\n\teasingFn = require('d3-ease'),\n\tsignOf   = function sign( x ) {\n\t\treturn typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? x : NaN : NaN;\n\t},\n\tabs      = Math.abs,\n\tfloor    = Math.floor,\n\tround    = Math.round,\n\tmin      = Math.min,\n\tmax      = Math.max,\n\tconsts   = {\n\t\tvelocityResetTm: 150,\n\t\tclickTm        : 250\n\t};\n\nexport function applyInertia( _ ) {\n\tlet velSign = signOf(_.lastVelocity);\n\t// calc momentum distance...\n\t// get nb loop needed to get vel < .05\n\t_.loopsTarget = floor(Math.log(.05 / abs(_.lastVelocity)) / Math.log(.9));\n\t\n\t// get velocity sum basing on nb loops needed\n\t_.loopsVelSum    = (Math.pow(.9, _.loopsTarget) - abs(_.lastVelocity)) / (.9 - 1);\n\t// deduce real dist of momentum\n\t_.targetDist     = (_.loopsVelSum * _.refFPS * velSign) / 1000 || 0;\n\t_.targetDuration = abs(_.loopsTarget * _.refFPS * velSign) || 0;\n}\n\nconst inertiaByNode = {\n\tnodes  : [],\n\tinertia: []\n};\n/**\n * Main inertia class\n * @class Caipi slideshow\n * @type {module.exports}\n */\nexport default class Inertia {\n\tstatic config = {\n\t\tbounds: true\n\t};\n\t\n\tconstructor( opt ) {\n\t\tlet _  = this._ = {};\n\t\t_.conf = {\n\t\t\t...this.constructor.config,\n\t\t\t...opt\n\t\t};\n\t\t\n\t\tthis.active           = false;\n\t\t_.pos                 = opt.value || 0;\n\t\t_.refFPS              = 16;\n\t\t_.min                 = opt.min || 0;\n\t\t_.max                 = opt.max || 0;\n\t\t_.currentStop         = 0;\n\t\t_.lastInertiaPos      = 0;\n\t\t_.stops               = _.conf.stops;\n\t\t_.wayPoints           = _.conf.wayPoints;\n\t\t_.inertiaFn           = easingFn.easePolyOut;\n\t\t_.targetWayPointIndex = 0;\n\t}\n\t\n\tupdate( at = Date.now() ) {\n\t\tlet _ = this._, nextValue, loop;\n\t\tif ( !_.inertia ) {\n\t\t\tif ( _.conf.shouldLoop ) {\n\t\t\t\twhile ( (loop = _.conf.shouldLoop(_.pos)) ) {\n\t\t\t\t\tthis.teleport(loop);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn _.pos;\n\t\t}\n\t\tlet\n\t\t\tpos          = _.inertiaFn((at - _.inertiaStartTm) / _.targetDuration) * _.targetDist,\n\t\t\tdelta        = pos - _.lastInertiaPos;\n\t\t_.lastInertiaPos = pos;\n\t\tif ( (at - _.inertiaStartTm) >= _.targetDuration ) {\n\t\t\t_.inertia        = this.active = false;\n\t\t\t_.lastInertiaPos = delta = 0;\n\t\t\t\n\t\t\tif ( _.conf.onInertiaEnd ) {\n\t\t\t\t_.conf.onInertiaEnd(_.pos, _.targetWayPoint)\n\t\t\t}\n\t\t}\n\t\tdelta     = delta || 0;\n\t\t//console.log(_.pos + delta);\n\t\tnextValue = _.pos + delta;\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\t\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tnextValue += loop;\n\t\t\t\tthis.teleport(loop);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = nextValue;\n\t\t\n\t\treturn nextValue;\n\t}\n\t\n\tsetPos( pos ) {\n\t\tlet _            = this._, nextValue;\n\t\t_.inertia        = false;\n\t\tthis.active      = false;\n\t\t_.lastInertiaPos = 0;\n\t\t_.targetDist     = 0;\n\t\t_.pos            = pos;\n\t\tif ( _.conf.bounds ) {\n\t\t\t_.pos = max(_.pos, _.max);\n\t\t\t_.pos = min(_.pos, _.min);\n\t\t}\n\t}\n\t\n\tteleport( loopDist ) {\n\t\tlet _ = this._, nextValue;\n\t\tif ( !_.inertia )\n\t\t\treturn _.pos += loopDist;\n\t\t\n\t\t_.lastInertiaPos += loopDist;\n\t\t_.pos += loopDist\n\t}\n\t\n\tdispatch( delta, tm = 500 ) {\n\t\tlet _       = this._, now = Date.now(), pos;\n\t\tthis.active = true;\n\t\t//console.log(\"dispatch\", delta);\n\t\tif ( !_.inertia || signOf(delta) !== signOf(_.targetDist) ) {\n\t\t\t_.inertia        = true;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = now;\n\t\t\t\n\t\t\t_.targetDist     = delta;\n\t\t\t_.targetDuration = tm;\n\t\t}\n\t\telse {\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = now;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.targetDist += delta;\n\t\t\t_.targetDuration += tm;\n\t\t}\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( (_.pos + _.targetDist) > _.max ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t\telse if ( (_.pos + _.targetDist) < _.min ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.min - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t}\n\t\tthis._doSnap(signOf(delta), 750)\n\t}\n\t\n\tisOutbound( delta ) {\n\t\tlet _   = this._, loop,\n\t\t    pos = _.targetDist + (_.pos - (_.lastInertiaPos || 0)) + delta;\n\t\t//if ( _.conf.infinite ) return false;\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tpos += loop;\n\t\t\t}\n\t\t}\n\t\treturn pos > _.min && pos < _.max;\n\t}\n\t\n\t_doSnap( forceSnap, maxDuration = 2000 ) {\n\t\tlet _   = this._,\n\t\t    pos = _.targetDist + (_.pos - (_.lastInertiaPos || 0)), target, mid, i, i2\n\t\t;\n\t\t\n\t\tif ( _.wayPoints && _.wayPoints.length ) {\n\t\t\tfor ( i = 0; i < _.wayPoints.length; i++ )\n\t\t\t\tif ( _.wayPoints[i].at > pos )\n\t\t\t\t\tbreak;\n\t\t\t\n\t\t\tif ( i == _.wayPoints.length ) {\n\t\t\t\ti--\n\t\t\t}\n\t\t\telse if ( i === 0 ) {\n\t\t\t\ti = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmid = _.wayPoints[i - 1].at + (_.wayPoints[i].at - _.wayPoints[i - 1].at) / 2;\n\t\t\t\tif ( forceSnap ) forceSnap < 0 && i--;\n\t\t\t\telse if ( pos < mid ) i--;\n\t\t\t}\n\t\t\t\n\t\t\tif ( _.conf.maxJump && is.number(_.targetWayPointIndex) ) {\n\t\t\t\tlet d = (i - _.targetWayPointIndex);\n\t\t\t\t//console.log('Inertia::_doSnap:154: ', i);\n\t\t\t\tif ( d ) {\n\t\t\t\t\ti -= d;\n\t\t\t\t\ti += _.conf.maxJump * (d / abs(d))\n\t\t\t\t}//console.log('Inertia::_doSnap:154: ', i);\n\t\t\t}\n\t\t\ttarget = _.wayPoints[i].at;\n\t\t\t\n\t\t\tif ( _.conf.willSnap ) {\n\t\t\t\t_.conf.willSnap(i, _.wayPoints[i]);\n\t\t\t}\n\t\t\t\n\t\t\t_.lastInertiaPos      = _.lastInertiaPos || 0;\n\t\t\ttarget                = target - (_.pos - _.lastInertiaPos);\n\t\t\t_.targetDuration      = max(50, min(maxDuration, abs((_.targetDuration / _.targetDist) * target))) || 0;\n\t\t\t//console.log(\"do snap\", i, target, _.targetDist, _.targetDuration);\n\t\t\t_.targetDist          = target;\n\t\t\t_.targetWayPoint      = _.wayPoints[i];\n\t\t\t_.targetWayPointIndex = i;\n\t\t}\n\t\telse {\n\t\t\ttarget = ~~(_.pos - _.lastInertiaPos);\n\t\t\t\n\t\t\tif ( !_.conf.infinite ) {\n\t\t\t\tif ( target > _.max ) {\n\t\t\t\t\ttarget           = _.max - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t\telse if ( target < _.min ) {\n\t\t\t\t\ttarget           = _.min - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tsetBounds( min, max ) {\n\t\tlet _ = this._;\n\t\t//console.log('Inertia::setBounds:245: ', min, max);\n\t\t_.min = min;\n\t\t_.max = max;\n\t}\n\t\n\tstartMove() {\n\t\tlet _          = this._;\n\t\t_.baseTS       = _.startTS = Date.now() / 1000;\n\t\t_.lastVelocity = _.lastIVelocity = 0;\n\t\t_.lastAccel    = 0;\n\t\t_.posDiff      = 0;\n\t\tthis.active    = true;\n\t\tthis.holding   = true;\n\t\t_.inertia      = false;\n\t}\n\t\n\thold( pos ) {\n\t\tlet _ = this._,\n\t\t    loop;\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\twhile ( (loop = _.conf.shouldLoop(pos)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\tpos += loop;\n\t\t\t}\n\t\t\twhile ( (loop = _.conf.shouldLoop(_.pos)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\t_.pos += loop;\n\t\t\t}\n\t\t}\n\t\tlet now          = Date.now() / 1000,//e.timeStamp,\n\t\t    sinceLastPos = (now - _.baseTS),\n\t\t    delta        = pos - _.pos,\n\t\t    iVel         = delta / sinceLastPos;\n\t\t//if (is.nan(pos))\n\t\t//\tdebugger\n\t\t//console.log(\"hold\", pos, _.pos);\n\t\t_.lastIVelocity = iVel;\n\t\t_.lastVelocity  = iVel;\n\t\t_.baseTS        = now;\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( pos > _.max ) {\n\t\t\t\tpos = _.max + min((pos - _.max) / 10, 10);\n\t\t\t}\n\t\t\telse if ( pos < _.min ) {\n\t\t\t\tpos = _.min - min((_.min - pos) / 10, 10);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = pos;\n\t\t\n\t}\n\t\n\trelease() {\n\t\tlet _        = this._,\n\t\t    velSign  = signOf(_.lastVelocity);\n\t\tthis.holding = false;\n\t\t// calc momentum distance...\n\t\tapplyInertia(_);\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( (_.pos + _.targetDist) > _.max ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t\telse if ( (_.pos + _.targetDist) < _.min ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.min - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t}\n\t\t//else {\n\t\tif ( !_.targetDuration )\n\t\t\t_.targetDuration = 50;\n\t\t\n\t\t//console.log(_);\n\t\tthis.active      = true;\n\t\t_.inertia        = true;\n\t\t_.lastInertiaPos = 0;\n\t\t_.inertiaStartTm =\n\t\t\t_.inertiaLastTm = Date.now();\n\t\t//}\n\t\tthis._doSnap(null, 500)\n\t}\n}\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is from \"is\";\n\nexport const re_cssValueWithUnit = new RegExp(\n\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t['box', 'bz', 'bh', 'bw', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t+ \")\"\n);\n\n/**\n * add any css val with it unit ( todo: optims&use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssAdd( val1, val2, ...argz ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\tif ( !is.array(val2) )\n\t\tval2 = [val2];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    units2             = val2.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 0;\n\t\tremap[units1[i][2]] += parseFloat(units1[i][1]);\n\t\ti++;\n\t}\n\ti = 0;\n\twhile ( i < units2.length ) {\n\t\tremap[units2[i][2]] = remap[units2[i][2]] || 0;\n\t\tremap[units2[i][2]] += parseFloat(units2[i][1]);\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn argz.length ? cssAdd(result, ...argz) : result;\n}\n\n/**\n * Multiply any css val with it unit ( todo: optims & use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssMult( val1, val ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 1;\n\t\tremap[units1[i][2]] = parseFloat(units1[i][1]) * val;\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn result;\n}\n\nexport function offset( items, start = 0 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom: item.from + start\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function scale( items, duration = 0, withOffset ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\t\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\titems = items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom    : (item.from / iDuration) * duration,\n\t\t\t\tduration: (item.duration / iDuration) * duration\n\t\t\t}\n\t\t)\n\t)\n\treturn withOffset ? offset(items, withOffset) : items\n}\n\nfunction inverseValues( v ) {\n\tif ( is.number(v) )\n\t\treturn -v;\n\tif ( is.object(v) )\n\t\treturn Object.keys(v).reduce(( h, key ) => (h[key] = inverseValues(v[key]), h), {});\n\tif ( is.array(v) )\n\t\treturn v.map(( item ) => (inverseValues(item)));\n\t\n\tlet values = v.split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig);\n\t\n\treturn values.map(\n\t\t( val, i ) => (i % 2 ? -parseFloat(val) : val)\n\t).join(\"\");\n}\n\nexport function reverse( items ) {\n\titems         = is.array(items) ? items : items && [items] || items;\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\treturn items.map(\n\t\titem => {\n\t\t\titem =\n\t\t\t\t{\n\t\t\t\t\t...item,\n\t\t\t\t\tfrom : iDuration - (item.from + item.duration),\n\t\t\t\t\tapply: inverseValues(item.apply)\n\t\t\t\t};\n\t\t\treturn item;\n\t\t}\n\t)\n}\n\nexport function addCss( target, ...sources ) {\n\tlet source = sources.shift();\n\tfor ( const key in source ) {\n\t\tif ( !source.hasOwnProperty(key) )\n\t\t\tcontinue;\n\t\tif ( is.object(source[key]) ) {\n\t\t\tif ( !target[key] ) {\n\t\t\t\ttarget[key] = {};\n\t\t\t}\n\t\t\t\n\t\t\taddCss(target[key], source[key]);\n\t\t}\n\t\telse if ( is.array(source[key]) ) {\n\t\t\tif ( !target[key] ) {\n\t\t\t\ttarget[key] = [];\n\t\t\t}\n\t\t\taddCss(target[key], source[key]);\n\t\t}\n\t\telse {\n\t\t\ttarget[key] = addAllType(target[key], source[key])\n\t\t}\n\t}\n\t\n\treturn sources.length && addCss(target, ...sources) || target;\n}\n\nfunction addAllType( v1, v2 ) {\n\tif ( !v1 )\n\t\treturn v2;\n\tif ( !v2 )\n\t\treturn v1;\n\tlet values1 = ('' + v1).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    values2 = ('' + v2).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    r       = values1.map(\n\t\t    ( val, i ) => (i % 2 ? parseFloat(val) + parseFloat(values2[i] || 0) : val)\n\t    ).filter(i => (i !== ''));\n\t\n\treturn r.length === 1 ? parseInt(r[0]) : r.join(\"\")\n}\n\nexport function extractCss( items, inverse ) {\n\tlet css = {};\n\titems   = is.array(items) ? items : items && [items] || items;\n\titems.forEach(\n\t\titem => {\n\t\t\taddCss(css, item.apply)\n\t\t}\n\t);\n\tif ( inverse )\n\t\tcss = inverseValues(css);\n\t\n\t\n\t//if ( inverse && css.hasOwnProperty('opacity') )\n\t//\tcss.opacity -= 1;\n\treturn css;\n}\n\nexport function target( items, target ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\ttarget\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function shiftTransforms( items, shift = 1 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => {\n\t\t\tlet t = item.apply && item.apply.transform;\n\t\t\tif ( t ) {\n\t\t\t\tt = is.array(t) ? t : [t];\n\t\t\t\tfor ( let i = 0; i < shift; i++ )\n\t\t\t\t\tt.unshift({});\n\t\t\t\t\n\t\t\t\titem = { ...item, apply: { ...item.apply, transform: t } };\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t)\n}","module.exports = require(\"d3-ease\");","module.exports = require(\"prop-types\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"is\");","module.exports = require(\"color-rgba\");","module.exports = require(\"tween-axis\");","module.exports = require(\"shortid\");","module.exports = require(\"@babel/runtime/helpers/inheritsLoose\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");"],"sourceRoot":""}