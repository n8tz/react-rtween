{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"is\"","webpack:///./src/utils/css/cssUtils.js","webpack:///./src/MapOf.react_voodoo_utils_css_demux_typed_____js.gen.js","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"@babel/runtime/helpers/inheritsLoose\"","webpack:///external \"fast-deep-equal\"","webpack:///external \"@babel/runtime/helpers/objectWithoutPropertiesLoose\"","webpack:///./src/utils/css/demux/typed/shadow.js","webpack:///external \"react-dom\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///./src/utils/css/demux/typed/number.js","webpack:///./src/utils/css/demux/typed/color.js","webpack:///external \"d3-ease\"","webpack:///external \"prop-types\"","webpack:///./src/.___layerPackIndexUtils.js","webpack:///./src/utils/css/demux/typed/any.js","webpack:///external \"shortid\"","webpack:///external \"color-rgba\"","webpack:///external \"tween-axis\"","webpack:///./src/utils/css/demux/filter.js","webpack:///./src/utils/css/demux/boxShadow.js","webpack:///./src/utils/css/demux/typed/int.js","webpack:///./src/utils/css/demux/typed/bool.js","webpack:///./src/utils/css/demux/typed/multi.js","webpack:///./src/utils/css/demux/typed/ratio.js","webpack:///./src/utils/css/demux/transform.js","webpack:///./src/utils/css/demux/textShadow.js","webpack:///./src/utils/css/demux/backgroundColor.js","webpack:///./src/comps/TweenerContext.js","webpack:///./src/comps/Axis.js","webpack:///./src/utils/react.js","webpack:///./src/comps/Node.js","webpack:///./src/utils/tweenTools.js","webpack:///./src/MapOf.react_voodoo_utils_css_demux_____js.gen.js","webpack:///./src/utils/css/index.js","webpack:///./src/utils/dom.js","webpack:///./src/utils/CssTweenAxis.js","webpack:///./src/utils/inertia.js","webpack:///./src/comps/Tweener.js","webpack:///./src/hooks/useVoodoo.js","webpack:///./src/comps/Draggable.js","webpack:///./src/hooks/useTweener.js","webpack:///./src/spells/asTweener.js","webpack:///./src/spells/withTweener.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","props","units","unitsRe","RegExp","join","floatCut","v","Number","toFixed","expandShorthandProperty","target","type","childProps","properties","values","split","multiple","forEach","k","length","isShorthandProperty","isValidDeclaration","_exports","walknSetExport","any","bool","color","int","multi","number","ratio","VALUES_REG","PARTS_REG","LENGTH_REG","parseValue","stringifyValue","isLength","toNum","toPx","cssShadowParser","str","parts","inset","includes","last","slice","undefined","nums","filter","map","offsetX","offsetY","blurRadius","spreadRadius","obj","trim","test","parseFloat","isNaN","parse","stringify","arr","defaultUnits","perspective","defaultBox","translateX","defaultMuxers","release","twKey","tweenableMap","cssMap","dataMap","muxerMap","keepValues","tmpKey","path","pop","keys","console","log","demuxOne","unitIndex","dkey","twVal","baseKey","data","box","unit","x","y","z","demux","tweenable","shadowMap","fkey","iValue","shadows","tmpValue","ti","substr","push","muxOne","initials","noPropLock","seenUnits","match","is","string","unitKey","indexOf","realKey","mux","reOrder","array","tFnKey","baseData","fValue","u","left","right","top","bottom","width","height","defaultValue","opacity","rKey","muxer","vect","rgba","_target","fPath","default","assign","isString","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","tmap","filters","alias","center","offset","count","nowhere","Math","min","max","translateY","translateZ","scale","scaleZ","scaleX","scaleY","rotate","skewX","skewY","rotateX","rotateY","rotateZ","transforms","transform","TweenerContext","React","createContext","children","id","axe","scrollFirst","bounds","scrollableWindow","inertia","size","defaultPosition","items","Âµ","useRef","current","useEffect","tweenLines","previousTweener","rmScrollableAnim","previousScrollable","Consumer","tweener","previousAxis","previousInertia","initAxis","scrollableBounds","previousTweens","deepEqual","lastTL","addScrollableAnim","Fragment","isFunctionalComponent","Component","isReactComponent","component","isClassComponent","setTarget","anims","tween","Node","state","__tweenableId","shortid","generate","componentWillUnmount","this","_tweenAxisObj","_currentTweener","rmTweenRef","setRootRef","_previousScrollable","render","style","initial","pos","noRef","reset","axes","isRoot","refProp","tweenAxis","parentTweener","error","axisItemsChange","twRef","tweenRef","_tweenAxis","scrollY","reduce","h","_updateTweenRef","RefChild","Children","only","isValidElement","_lastRef","ref","propTypes","div","className","re_cssValueWithUnit","cssAdd","val1","val2","units1","units2","remap","result","argz","cssMult","val","start","item","from","duration","withOffset","iDuration","inverseValues","reverse","apply","MultiCssProps","addCss","sources","source","shift","addAllType","v1","v2","values1","values2","parseInt","extractCss","inverse","css","shiftTransforms","unshift","cssDemux","cssDemuxers","marginTop","marginLeft","marginRight","marginBottom","paddingTop","paddingLeft","paddingRight","paddingBottom","borderRadius","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","transformOrigin","zIndex","clearTweenableValue","cssKey","muxToCss","demuxers","deMuxTween","deMuxedTween","fTween","excluded","deMuxLine","tweenLine","allPropsById","twAxis","line","demuxedTween","query","prefixes","recyclableTweenAxis","CssTweenAxis","cfg","scope","recyled","localLength","mount","Axis","arguments","destroy","__marks","__marksLength","__marksKeys","__processors","__config","__activeForks","__activeProcess","__outgoing","__incoming","__cPos","__cIndex","__cMaxKey","isBrowser","window","_dom","DocumentTouch","document","matchMedia","matches","prefix","navigator","appVersion","userAgent","dashedPrefix","__","onPageHided","onPageShown","dragging","dragEnabled","dragEnabledDesc","fingers","nbFingers","dragstartAnywhere","e","finger","desc","me","Dom","addEvent","dragAnywhere","dropAnywhere","dropWithoutClick","changedTouches","ln","identifier","_startPos","pageX","pageY","_startTs","timeStamp","_lastPos","dragstart","stopped","drag","preventNextClick","preventDefault","stopPropagation","stopImmediatePropagation","removeEvent","prevent","mouseDrag","dropped","getDraggable","node","touchDrag","locks","dragEnd","freeDraggable","splice","fn","bubble","addEventListener","attachEvent","related","removeEventListener","detachEvent","rmDragFn","warn","passive","elem","dims","offsetWidth","offsetHeight","offsetTop","offsetLeft","offsetParent","findReactParents","element","fiberNode","comps","startsWith","return","stateNode","parentNode","easingFn","signOf","NaN","abs","floor","round","consts","Inertia","opt","_","conf","constructor","config","active","refFPS","currentStop","lastInertiaPos","stops","disabled","wayPoints","inertiaFn","easePolyOut","targetWayPointIndex","_detectCurrentSnap","updateConf","willStop","willSnap","shouldLoop","startMove","baseTS","startTS","Date","now","lastVelocity","lastIVelocity","lastAccel","posDiff","loopsDiff","holding","hold","nextPos","loop","delta","lastHoldPos","sinceLastPos","iVel","lastBaseTs","lastBasePos","targetDist","targetWayPoint","velSign","loopsTarget","loopsVelSum","targetDuration","pow","applyInertia","snapToBounds","inertiaStartTm","inertiaLastTm","_doSnap","willEnd","update","at","nextValue","currentWayPoint","currentWayPointIndex","onInertiaEnd","setPos","setWayPoints","teleport","loopDist","dispatch","tm","forceSnap","maxDuration","mid","lPos","loopDec","gravity","maxJump","infinite","setBounds","isInbound","_live","lastTm","isBrowserSide","Function","isArray","_running","Runner","_tick","cpos","cb","setTimeout","Tweener","_scrollWatcherByAxis","_updateNodeInertia","activeInertia","_inertiaRaf","cancelAnimationFrame","scrollLeft","scrollTop","requestAnimationFrame","_swap","refs","muxByTarget","__isTweener","_rafLoop","rootRef","forwardedRef","createRef","options","maxClickTm","maxClickOffset","tweenerOptions","tweenRefCSS","tweenRefs","tweenRefMaps","iMapOrigin","tweenRefInitialData","tweenEnabled","tweenRefOrigin","tweenRefOriginCss","muxDataByTarget","tweenRefDemuxed","tweenRefTargets","runningAnims","scrollHook","onResize","_updateBox","_updateTweenRefs","windowDidResize","iStyle","iMap","noref","mapReset","resetTweenable","targets","updateRefStyle","postPone","pureCss","getTweenableRef","ReactDom","findDOMNode","getRootNode","isMountedFromHook","pushAnim","anim","then","keepResults","sl","fail","displayName","Promise","resolve","run","rkey","live","applyTweenState","_inertia","scrollableArea","_scrollableArea","_scrollableBounds","_scrollableWindow","dim","scrollPos","targetPos","nextDescr","scrollTo","ease","noEvents","_getAxis","initialScrollPos","getAxisState","getScrollPos","axis","newPos","ms","reject","oldPos","axisDidScroll","componentDidScroll","_runScrollGoTo","goTo","found","tl","to","easing","tick","getScrollableNodes","scrollable","domUtils","hookScrollableTargets","getElementById","componentShouldScroll","watchAxis","axisId","listener","byId","index","watchers","inertiaFrame","isInertiaActive","dispatchScroll","isAxisOut","_doDispatch","dx","dy","Comps","headTarget","getComputedStyle","getPropertyValue","scrollHeight","clientHeight","_activateNodeInertia","findIndex","scrollWidth","inited","force","swap","clearTimeout","componentDidMount","_static","rendered","scrollableAnim","componentDidUpdate","prevProps","prevState","BaseComponent","oProps","_parentTweener","Provider","RootNodeComp","useContext","nodeRef","lastTweener","doUseParentTweener","useMemo","pTweener","tw","ViewBox","forwardRef","Draggable","Comp","xAxis","yAxis","yBoxRef","xBoxRef","yRef","yHook","xHook","givenTweener","button","useVoodoo","root","lastStartTm","cLock","dX","parents","dY","parentsState","refWidth","refHeight","rootNode","dragList","touch","descr","MouseEvent","parent","deltaX","xDispatched","xBox","deltaY","yDispatched","yBox","dragDirectionLock","cancelable","enableMouseDrag","doRegister","scrollEnabled","SimpleObjectProto","asTweener","wheelRatio","withRef","String","fromCharCode","withTweener","opts","TweenerToProps","child","useTweener","hook","tools","Context","dom"],"mappings":"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","file":"react-voodoo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","module.exports = require(\"react\");","module.exports = require(\"is\");","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst props = {\n    \"margin\"                     : { \"properties\": [\"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\"] },\n    \"marginBottom\"               : { \"types\": [\"length\"] },\n    \"marginLeft\"                 : { \"types\": [\"length\"] },\n    \"marginRight\"                : { \"types\": [\"length\"] },\n    \"marginTop\"                  : { \"types\": [\"length\"] },\n    \"padding\"                    : { \"properties\": [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\"] },\n    \"paddingBottom\"              : { \"types\": [\"length\"] },\n    \"paddingLeft\"                : { \"types\": [\"length\"] },\n    \"paddingRight\"               : { \"types\": [\"length\"] },\n    \"paddingTop\"                 : { \"types\": [\"length\"] },\n    \"bottom\"                     : { \"types\": [\"length-percentage-calc\"] },\n    \"left\"                       : { \"types\": [\"length-percentage-calc\"] },\n    \"right\"                      : { \"types\": [\"length-percentage-calc\"] },\n    \"top\"                        : { \"types\": [\"length-percentage-calc\"] },\n    \"zIndex\"                     : { \"types\": [\"integer\"] },\n    \"width\"                      : { \"types\": [\"length-percentage-calc\"] },\n    \"maxWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n    \"minWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n    \"height\"                     : { \"types\": [\"length-percentage-calc\"] },\n    \"maxHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n    \"minHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n    \"lineHeight\"                 : { \"types\": [\"number\", \"length\"] },\n    \"verticalAlign\"              : { \"types\": [\"length\"] },\n    \"visibility\"                 : { \"types\": [\"visibility\"] },\n    \"borderSpacing\"              : { \"types\": [\"length\"], \"multiple\": true },\n    \"color\"                      : { \"types\": [\"color\"] },\n    \"opacity\"                    : { \"types\": [\"number\"] },\n    //\"background\"                 : { \"properties\": [\"backgroundColor\", \"backgroundPosition\", \"backgroundSize\"] },\n    \"backgroundColor\"            : { \"types\": [\"color\"] },\n    \"backgroundPosition\"         : {\n        \"types\"     : [\"length-percentage-calc\"],\n        \"multiple\"  : true,\n        \"repeatable\": true\n    },\n    \"backgroundSize\"             : {\n        \"types\"     : [\"length-percentage-calc\"],\n        \"multiple\"  : true,\n        \"repeatable\": true\n    },\n    \"border\"                     : { \"properties\": [\"borderStyle\", \"borderWidth\", \"borderColor\"] },\n    \"borderBottom\"               : { \"properties\": [\"borderBottomStyle\", \"borderBottomWidth\", \"borderBottomColor\"] },\n    \"borderLeft\"                 : { \"properties\": [\"borderLeftStyle\", \"borderLeftWidth\", \"borderLeftColor\"] },\n    \"borderRight\"                : { \"properties\": [\"borderRightStyle\", \"borderRightWidth\", \"borderRightColor\"] },\n    \"borderTop\"                  : { \"properties\": [\"borderTopStyle\", \"borderTopWidth\", \"borderTopColor\"] },\n    \"borderColor\"                : { \"properties\": [\"borderTopColor\", \"borderRightColor\", \"borderBottomColor\", \"borderLeftColor\"] },\n    \"borderWidth\"                : { \"properties\": [\"borderTopWidth\", \"borderRightWidth\", \"borderBottomWidth\", \"borderLeftWidth\"] },\n    \"borderBottomColor\"          : { \"types\": [\"color\"] },\n    \"borderLeftColor\"            : { \"types\": [\"color\"] },\n    \"borderRightColor\"           : { \"types\": [\"color\"] },\n    \"borderTopColor\"             : { \"types\": [\"color\"] },\n    \"borderBottomWidth\"          : { \"types\": [\"length\"] },\n    \"borderLeftWidth\"            : { \"types\": [\"length\"] },\n    \"borderRightWidth\"           : { \"types\": [\"length\"] },\n    \"borderTopWidth\"             : { \"types\": [\"length\"] },\n    \"borderRadius\"               : { \"properties\": [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomRightRadius\", \"borderBottomLeftRadius\"] },\n    \"borderTopLeftRadius\"        : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"borderTopRightRadius\"       : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"borderBottomRightRadius\"    : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"borderBottomLeftRadius\"     : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"boxShadow\"                  : { \"types\": [\"shadow-list\"] },\n    \"caretColor\"                 : { \"types\": [\"color\"] },\n    \"outline\"                    : { \"properties\": [\"outlineColor\", \"outlineWidth\"] },\n    \"outlineColor\"               : { \"types\": [\"color\"] },\n    \"outlineWidth\"               : { \"types\": [\"length\"] },\n    \"outlineOffset\"              : { \"types\": [\"length\"] },\n    \"flex\"                       : { \"properties\": [\"flexGrow\", \"flexShrink\", \"flexBasis\"] },\n    \"flexGrow\"                   : { \"types\": [\"number\"] },\n    \"flexShrink\"                 : { \"types\": [\"number\"] },\n    \"flexBasis\"                  : { \"types\": [\"length-percentage-calc\"] },\n    \"order\"                      : { \"types\": [\"integer\"] },\n    \"font\"                       : { \"properties\": [\"fontWeight\", \"fontStretch\", \"fontSize\", \"lineHeight\"] },\n    \"fontWeight\"                 : { \"types\": [\"font-weight\"] },\n    \"fontStretch\"                : { \"types\": [\"font-stretch\"] },\n    \"fontSize\"                   : { \"types\": [\"length\"] },\n    \"fontSizeAdjust\"             : { \"types\": [\"number\"] },\n    \"gridTemplateColumns\"        : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"gridTemplateRows\"           : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"gridTemplate\"               : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n    \"grid\"                       : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n    \"gridRowGap\"                 : { \"types\": [\"length-percentage-calc\"] },\n    \"gridColumnGap\"              : { \"types\": [\"length-percentage-calc\"] },\n    \"gridGap\"                    : { \"properties\": [\"gridRowGap\", \"gridColumnGap\"] },\n    \"clip\"                       : { \"types\": [\"rectangle\"] },\n    \"clipPath\"                   : { \"types\": [\"basic-shape\"] },\n    \"mask\"                       : { \"properties\": [\"maskPosition\", \"maskSize\"] },\n    \"maskPosition\"               : {\n        \"types\"     : [\"length-percentage-calc\"],\n        \"multiple\"  : true,\n        \"repeatable\": true\n    },\n    \"maskSize\"                   : {\n        \"types\"     : [\"length-percentage-calc\"],\n        \"multiple\"  : true,\n        \"repeatable\": true\n    },\n    \"shapeOutside\"               : { \"types\": [\"basic-shape\"] },\n    \"shapeMargin\"                : { \"types\": [\"length-percentage-calc\"] },\n    \"shapeImageThreshold\"        : { \"types\": [\"number\"] },\n    \"scrollPadding\"              : { \"properties\": [\"scrollPaddingTop\", \"scrollPaddingRight\", \"scrollPaddingBottom\", \"scrollPaddingLeft\"] },\n    \"scrollPaddingTop\"           : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingRight\"         : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingBottom\"        : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingLeft\"          : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingBlock\"         : { \"properties\": [\"scrollPaddingBlockStart\", \"scrollPaddingBlockEnd\"] },\n    \"scrollPaddingBlockStart\"    : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingBlockEnd\"      : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingInline\"        : { \"properties\": [\"scrollPaddingInlineStart\", \"scrollPaddingInlineEnd\"] },\n    \"scrollPaddingInlineStart\"   : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingInlineEnd\"     : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollSnapMargin\"           : { \"properties\": [\"scrollSnapMarginTop\", \"scrollSnapMarginRight\", \"scrollSnapMarginBottom\", \"scrollSnapMarginLeft\"] },\n    \"scrollSnapMarginTop\"        : { \"types\": [\"length\"] },\n    \"scrollSnapMarginRight\"      : { \"types\": [\"length\"] },\n    \"scrollSnapMarginBottom\"     : { \"types\": [\"length\"] },\n    \"scrollSnapMarginLeft\"       : { \"types\": [\"length\"] },\n    \"scrollSnapMarginBlock\"      : { \"properties\": [\"scrollSnapMarginBlockStart\", \"scrollSnapMarginBlockEnd\"] },\n    \"scrollSnapMarginBlockStart\" : { \"types\": [\"length\"] },\n    \"scrollSnapMarginBlockEnd\"   : { \"types\": [\"length\"] },\n    \"scrollSnapMarginInline\"     : { \"properties\": [\"scrollSnapMarginInlineStart\", \"scrollSnapMarginInlineEnd\"] },\n    \"scrollSnapMarginInlineStart\": { \"types\": [\"length\"] },\n    \"scrollSnapMarginInlineEnd\"  : { \"types\": [\"length\"] },\n    \"textDecoration\"             : { \"properties\": [\"textDecorationColor\"] },\n    \"textDecorationColor\"        : { \"types\": [\"color\"] },\n    \"textEmphasis\"               : { \"properties\": [\"textEmphasisColor\"] },\n    \"textEmphasisColor\"          : { \"types\": [\"color\"] },\n    \"textShadow\"                 : { \"types\": [\"shadow-list\"] },\n    \"columns\"                    : { \"properties\": [\"columnWidth\", \"columnCount\"] },\n    \"columnWidth\"                : { \"types\": [\"length\"] },\n    \"columnCount\"                : { \"types\": [\"integer\"] },\n    \"columnGap\"                  : { \"types\": [\"length-percentage-calc\"] },\n    \"columnRule\"                 : { \"properties\": [\"columnRuleColor\", \"columnRuleWidth\"] },\n    \"columnRuleColor\"            : { \"types\": [\"color\"] },\n    \"columnRuleWidth\"            : { \"types\": [\"length\"] },\n    \"letterSpacing\"              : { \"types\": [\"length\"] },\n    \"tabSize\"                    : { \"types\": [\"length\"] },\n    \"textIndent\"                 : { \"types\": [\"length-percentage-calc\"] },\n    \"wordSpacing\"                : { \"types\": [\"length-percentage-calc\"] },\n    \"transform\"                  : { \"types\": [\"transform\"] },\n    \"transformOrigin\"            : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"perspective\"                : { \"types\": [\"length\"] },\n    \"perspectiveOrigin\"          : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    }\n}\n\n//\n///**\n// * List of animatable types used by properties, with descriptions of how to interpolate\n// each type. * Data taken from https://www.w3.org/TR/css3-transitions/#animatable-types\n// and some other W3C specs. * * @type {Object} */ exports.types = { 'color'\n//    : { name: 'color', href: 'https://www.w3.org/TR/css3-transitions/#animtype-color'\n// }, 'length'                : { name: 'length', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-length' }, 'percentage'            :\n// { name: 'percentage', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-percentage' },\n// 'length-percentage-calc': { name: 'length, percentage, or calc', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-lpcalc' }, 'integer'               :\n// { name: 'integer', href: 'https://www.w3.org/TR/css3-transitions/#animtype-integer' },\n// 'font-weight'           : { name: 'font weight', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-font-weight' }, 'number'\n//    : { name: 'number', href: 'https://www.w3.org/TR/css3-transitions/#animtype-number'\n// }, 'rectangle'             : { name: 'rectangle', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-rect' }, 'visibility'            : {\n// name: 'visibility', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-visibility' }, 'shadow-list'\n//   : { name: 'shadow list', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-shadow-list' }, // Other specs\n// 'transform'             : { name: 'transform', href: 'https://www.w3.org/TR/css3-transforms/#interpolation-of-transforms' }, 'font-stretch'          : { name: 'font stretch', href: 'https://www.w3.org/TR/css3-fonts/#font-stretch-animation' }, 'basic-shape'           : { name: 'basic shape', href: 'https://www.w3.org/TR/css-shapes-1/#basic-shape-interpolation' }, };\n\nexport const units    = ['', 'deg', 'box', 'bz', 'bh', 'bw', 'deg', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'];\nexport const unitsRe  = new RegExp(\n    \"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n    ['\\\\w+', 'deg', 'bz', 'bh', 'bw', 'cap', 'ch', 'deg', 'em', 'ic', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n    + \")\"\n);\nexport const floatCut = ( v = 0 ) => Number(v.toFixed(3));\n\nexport function expandShorthandProperty( property, value, target = {} ) {\n    let type       = props[ property ],\n        childProps = type && type.properties,\n        values     = value.split(' ');\n    \n    if ( type.multiple )\n        childProps && childProps.forEach(\n            ( k, i ) => {\n                target[ k ] = values[ i % values.length ];\n            }\n        )\n    else\n        childProps && childProps.forEach(\n            ( k, i ) => {\n                if ( values[ i ] )\n                    target[ k ] = values[ i ];\n            }\n        )\n    return target;\n};\n\nexport function isShorthandProperty( property ) {\n    let type       = props[ property ],\n        childProps = type && type.properties;\n    return childProps && !!childProps.length;\n};\n\n\nexport function isValidDeclaration( property, value ) {\n    return !!props[ property ];\n};\n\n/**\n * Check if a CSS property can be animated\n * @param  {string} property CSS property name\n * @return {boolean}         True if the property can be animated\n */\nexport function canAnimate( property ) {\n    return props.hasOwnProperty(property);\n};\n\n/**\n * Get a definition of how a CSS property can be animated\n * @param  {string} property CSS property name\n * @param  {boolean} expand  Expand definitions for sub-properties, when available\n * @return {object}          Property definition, or null if it can't be animated\n */\nexport function getProperty( property, expand ) {\n    if ( !exports.canAnimate(property) ) {\n        return null;\n    }\n    var prop = props[ property ];\n    var ret  = { name: property };\n    Object.keys(prop).forEach(function ( key ) {\n        var value = prop[ key ];\n        if ( Array.isArray(value) ) {\n            if ( key === 'properties' && expand ) {\n                value = value.map(function ( subProp ) {\n                    return exports.getProperty(subProp, expand);\n                });\n            }\n            else {\n                value = value.slice(); // clone\n            }\n        }\n        ret[ key ] = value;\n    });\n    return ret;\n};\n","/* This is a virtual file generated by layer-pack */\nlet req, _exports = {}, walknSetExport=require('react-voodoo/.___layerPackIndexUtils').walknSetExport;\nconst _react_voodoo_utils_css_demux_typed_any_js = require(\"react-voodoo/utils/css/demux/typed/any.js\");\nwalknSetExport(_exports, \"any\", _react_voodoo_utils_css_demux_typed_any_js);\nconst _react_voodoo_utils_css_demux_typed_int_js = require(\"react-voodoo/utils/css/demux/typed/int.js\");\nwalknSetExport(_exports, \"int\", _react_voodoo_utils_css_demux_typed_int_js);\nconst _react_voodoo_utils_css_demux_typed_bool_js = require(\"react-voodoo/utils/css/demux/typed/bool.js\");\nwalknSetExport(_exports, \"bool\", _react_voodoo_utils_css_demux_typed_bool_js);\nconst _react_voodoo_utils_css_demux_typed_color_js = require(\"react-voodoo/utils/css/demux/typed/color.js\");\nwalknSetExport(_exports, \"color\", _react_voodoo_utils_css_demux_typed_color_js);\nconst _react_voodoo_utils_css_demux_typed_multi_js = require(\"react-voodoo/utils/css/demux/typed/multi.js\");\nwalknSetExport(_exports, \"multi\", _react_voodoo_utils_css_demux_typed_multi_js);\nconst _react_voodoo_utils_css_demux_typed_ratio_js = require(\"react-voodoo/utils/css/demux/typed/ratio.js\");\nwalknSetExport(_exports, \"ratio\", _react_voodoo_utils_css_demux_typed_ratio_js);\nconst _react_voodoo_utils_css_demux_typed_number_js = require(\"react-voodoo/utils/css/demux/typed/number.js\");\nwalknSetExport(_exports, \"number\", _react_voodoo_utils_css_demux_typed_number_js);\nconst _react_voodoo_utils_css_demux_typed_shadow_js = require(\"react-voodoo/utils/css/demux/typed/shadow.js\");\nwalknSetExport(_exports, \"shadow\", _react_voodoo_utils_css_demux_typed_shadow_js);\n\nexport const any = _exports.any;\n\nexport const bool = _exports.bool;\n\nexport const color = _exports.color;\n\nexport const int = _exports.int;\n\nexport const multi = _exports.multi;\n\nexport const number = _exports.number;\n\nexport const ratio = _exports.ratio;\n\nexport const shadow = _exports.shadow;\nexport default _exports;","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"@babel/runtime/helpers/inheritsLoose\");","module.exports = require(\"fast-deep-equal\");","module.exports = require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\");","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../../cssUtils\";\nimport {bool, color}              from \"./(*).js\";\n\n\nconst cssShadowParser = (() => {\n\tconst VALUES_REG = /,(?![^\\(]*\\))/\n\tconst PARTS_REG  = /\\s(?![^(]*\\))/\n\tconst LENGTH_REG = /^[0-9]+[a-zA-Z%]+?$/\n\t\n\tconst parseValue = str => {\n\t\tconst parts = str.split(PARTS_REG)\n\t\tconst inset = parts.includes('inset')\n\t\tconst last  = parts.slice(-1)[0]\n\t\tconst color = !isLength(last) ? last : undefined\n\t\t\n\t\tconst nums                                         = parts\n\t\t\t.filter(n => n !== 'inset')\n\t\t\t.filter(n => n !== color)\n\t\t\t.map(toNum)\n\t\tconst [offsetX, offsetY, blurRadius, spreadRadius] = nums\n\t\t\n\t\treturn {\n\t\t\tinset,\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\tblurRadius,\n\t\t\tspreadRadius,\n\t\t\tcolor\n\t\t}\n\t}\n\t\n\tconst stringifyValue = obj => {\n\t\tconst {\n\t\t\t      inset,\n\t\t\t      offsetX    = 0,\n\t\t\t      offsetY    = 0,\n\t\t\t      blurRadius = 0,\n\t\t\t      spreadRadius,\n\t\t\t      color\n\t\t      } = obj || {}\n\t\t\n\t\treturn [\n\t\t\t(inset ? 'inset' : null),\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\tblurRadius,\n\t\t\tspreadRadius,\n\t\t\tcolor\n\t\t].filter(v => v !== null && v !== undefined)\n\t\t .map(toPx)\n\t\t .map(s => ('' + s).trim())\n\t\t .join(' ')\n\t}\n\t\n\tconst isLength = v => v === '0' || LENGTH_REG.test(v)\n\tconst toNum    = v => {\n\t\tif ( !/px$/.test(v) && v !== '0' ) return v\n\t\tconst n = parseFloat(v)\n\t\treturn !isNaN(n) ? n : v\n\t}\n\tconst toPx     = n => typeof n === 'number' && n !== 0 ? (n + 'px') : n\n\t\n\tconst parse     = str => str.split(VALUES_REG).map(s => s.trim()).map(parseValue)\n\tconst stringify = arr => arr.map(stringifyValue).join(', ')\n\t\n\treturn {\n\t\tparse,\n\t\tstringify\n\t}\n})()\n\n\nconst defaultUnits  = {\n\t      perspective: 'px',\n      },\n      defaultBox    = {\n\t      translateX: 'x',\n      },\n      defaultMuxers = {\n\t      //blurRadius  : number,\n\t      inset: bool,\n\t      //offsetX     : number,\n\t      //offsetY     : number,\n\t      //spreadRadius: number,\n\t      color: color\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tif ( path.length > 2 ) {\n\t\t// dec count on transform\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\tif ( defaultMuxers[path[2]] ) {\n\t\t\tdefaultMuxers[path[2]].release(twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues)\n\t\t\tif ( !dataMap[tmpKey] ) {\n\t\t\t\t//console.log(\"dec\", tmpKey, dataMap[path[0]][path[1]][path[2]])\n\t\t\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\t\tdelete dataMap[path[0]];\n\t\t\t\tdelete muxerMap[path[0]];\n\t\t\t\tdelete cssMap[path[0]];\n\t\t\t\t//console.log(\"delete color\", twKey)\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//console.log(\"dec\", twKey, dataMap[path[0]])\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t//if ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t//\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\t// free transform layers\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\t//tmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t// units\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\t//dataMap[path[0]][path[3]] = undefined;\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//console.log(\"delete\", tmpKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[tmpKey].length === 0 && !keepValues )\n\t\t\tdelete dataMap[tmpKey];\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !Object.keys(dataMap[path[0]][dataMap[path[0]].length - 1]).length )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t\t//console.log(\"delete\", path[0])\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitIndex, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitIndex] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t//console.log(key)\n\tlet shadows                                                         = [],\n\t    tmpValue                                                        = {};\n\tlet ti = 0, shadowMap, fkey, unitKey, unitIndex, dkey, u, iValue, y = 0, value;\n\tfor ( ; ti < data[key].length; ti++ ) {\n\t\tshadowMap = data[key][ti];\n\t\ttmpValue  = {};\n\t\tfor ( fkey in shadowMap )\n\t\t\tif ( shadowMap.hasOwnProperty(fkey) ) {\n\t\t\t\tdkey = key + '_' + ti + '_' + fkey;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif ( defaultMuxers[fkey] ) {\n\t\t\t\t\tvalue = defaultMuxers[fkey].demux(dkey, tweenable, undefined, data, box);\n\t\t\t\t\t//continue;\n\t\t\t\t\t//console.log(dkey, tweenable[dkey])\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t\ty     = 0;\n\t\t\t\t\tfor ( unitIndex = 0; unitIndex < data[dkey].length; unitIndex++ )\n\t\t\t\t\t\tif ( data[dkey][unitIndex] ) {\n\t\t\t\t\t\t\tunitKey = dkey + \"_\" + unitIndex;\n\t\t\t\t\t\t\tiValue  = demuxOne(unitIndex, dkey, tweenable[unitKey], fkey, data, box);\n\t\t\t\t\t\t\tif ( y && iValue[0] === '-' )\n\t\t\t\t\t\t\t\tiValue = \" - \" + iValue.substr(1);\n\t\t\t\t\t\t\telse if ( y )\n\t\t\t\t\t\t\t\tiValue = \" + \" + iValue;\n\t\t\t\t\t\t\tvalue += iValue;\n\t\t\t\t\t\t\ty++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ( y > 1 )\n\t\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\ttmpValue[fkey] = (value || 0);\n\t\t\t}\n\t\tshadows.push(tmpValue);\n\t}\n\t\n\ttarget[key] = cssShadowParser.stringify(shadows);\n\t//console.log(key, shadows, target[key]);\n\t\n}\n\nexport function muxOne( key, baseKey, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[baseKey] || \"px\",\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', data[key][unitKey], value, noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\t//console.warn(key, ':', data[key][unitKey], value, noPropLock)\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\nexport const mux = ( key, value, target, data, initials, noPropLock, reOrder ) => {\n\t\n\tdata[key] = data[key] || [];\n\t//initials[key] = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\tlet ti = 0, shadowMap, tFnKey, baseData, fValue, dkey, u, seenUnits;\n\tfor ( ; ti < value.length; ti++ ) {\n\t\tshadowMap = value[ti];\n\t\tif ( is.string(shadowMap) )\n\t\t\tshadowMap = cssShadowParser.parse(shadowMap)[0];\n\t\tbaseData = reOrder ? {} : { ...(data[key][ti] || {}) };\n\t\tfor ( tFnKey in shadowMap ) {\n\t\t\tif ( shadowMap.hasOwnProperty(tFnKey) ) {\n\t\t\t\tfValue = shadowMap[tFnKey];\n\t\t\t\tdkey   = key + '_' + ti + '_' + tFnKey;\n\t\t\t\t\n\t\t\t\tbaseData[tFnKey] = baseData[tFnKey] || data[key][ti] && data[key][ti][tFnKey] || 0;\n\t\t\t\t!noPropLock && baseData[tFnKey]++;\n\t\t\t\tif ( defaultMuxers[tFnKey] ) {\n\t\t\t\t\tdefaultMuxers[tFnKey].mux(dkey, fValue, target, data, initials, noPropLock, reOrder);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t\n\t\t\t\t\tseenUnits = {};\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tdata[dkey] = data[dkey] || [];\n\t\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\t\tfor ( u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue[u] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue || 0, target, data, initials, noPropLock)\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdata[key][ti] =\n\t\t\treOrder\n\t\t\t? { ...baseData, ...(data[key][ti] || {}), ...baseData }\n\t\t\t:\n\t\t\tbaseData;\n\t\t//console.log(key, reOrder, data[key][ti], baseData)\n\t}\n\treturn demux;\n}","module.exports = require(\"react-dom\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../../cssUtils\";\n\nconst defaultUnits    = {\n\t      left       : 'px',\n\t      right      : 'px',\n\t      top        : 'px',\n\t      bottom     : 'px',\n\t      width      : 'px',\n\t      height     : 'px',\n\t      perspective: 'px',\n      },\n      defaultBox      = {\n\t      left  : 'x',\n\t      right : 'x',\n\t      top   : 'y',\n\t      bottom: 'y',\n\t      width : 'x',\n\t      height: 'y',\n      }, defaultValue = {\n\t      opacity: 0\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\t\n\tif ( path.length === 2 ) {\n\t\t//console.log(\"dec\", twKey, dataMap[path[0]][path[1]], keepValues)\n\t\tif ( !--dataMap[path[0]][path[1]] && !keepValues ) {\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//dataMap[path[0]][path[1]] = undefined;\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tif ( cssMap ) delete cssMap[path[0]];\n\t\t\t//console.log(\"delete\", path[0])\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitKey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitKey] || defaultUnits[baseKey] || \"px\";\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t\t\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box, baseKey ) {\n\tlet value, i = 0, y, rKey;\n\t\n\tvalue = \"\";\n\t\n\t//if ( key==\"height\" )\n\t//\tdebugger;\n\t\n\tfor ( y = 0; y < data[key].length; y++ )\n\t\tif ( data[key][y] ) {\n\t\t\trKey = key + \"_\" + y;\n\t\t\tif ( tweenable[rKey] < 0 )\n\t\t\t\tvalue += (i ? \" - \" : \"-\") + demuxOne(y, -tweenable[rKey], baseKey || key, data, box);\n\t\t\telse\n\t\t\t\tvalue += (i ? \" + \" : \"\") + demuxOne(y, tweenable[rKey], baseKey || key, data, box);\n\t\t\ti++;\n\t\t}\n\tif ( i > 1 )\n\t\tvalue = \"calc(\" + value + \")\";\n\t\n\t//console.log(key, ':', value)\n\treturn target ? target[key] = value : value;\n}\n\nexport function muxer( key, value, target, data, initials, noPropLock ) {\n\t\n\tdata[key]     = data[key] || [];\n\tlet seenUnits = [];\n\tif ( is.array(value) ) {\n\t\tfor ( let i = 0; i < value.length; i++ ) {\n\t\t\tmuxOne(key, value[i] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t}\n\t}\n\telse {\n\t\tmuxOne(key, value || 0, target, data, initials, noPropLock)\n\t}\n\t\n\treturn demux;\n}\n\nexport function muxOne( key, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[key] || \"px\",\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[key] || 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', data[key][unitKey], value, noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\t//console.warn(key, ':', data[key][unitKey], value, noPropLock)\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\n\nexport const mux = muxer;","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport rgba from \"color-rgba\";\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path   = twKey.split('_'),\n\t    tmpKey = path.slice(0, path.length - 1).join('_');\n\t\n\t//console.log(\"dec\", tmpKey, path, dataMap[twKey])\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\t//delete muxerMap[twKey];\n\t\t//delete cssMap[twKey];\n\t\t//console.log(\"delete\", twKey, path)\n\t}\n\tif ( !--dataMap[tmpKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\t//delete muxerMap[twKey];\n\t\t//delete cssMap[twKey];\n\t\t//console.log(\"delete\", tmpKey)\n\t}\n\t//}\n}\n\nexport function demux( key, tweenable, target, data ) {\n\tlet value = \"rgba(\" + tweenable[key + '_r'] + \", \" + tweenable[key + '_g'] + \", \" + tweenable[key + '_b'] + \", \" + tweenable[key + '_a'] + \")\";\n\treturn target ?\n\t       target[key] = value : value;\n}\n\nexport function mux( key, value, target, data, initials, noPropLock ) {\n\tlet vect = rgba(value);\n\t\n\tdata[key]        = data[key] || 0;\n\tdata[key + '_r'] = data[key + '_r'] || 0;\n\tdata[key + '_g'] = data[key + '_g'] || 0;\n\tdata[key + '_b'] = data[key + '_b'] || 0;\n\tdata[key + '_a'] = data[key + '_a'] || 0;\n\tif ( !noPropLock ) {\n\t\tdata[key] += 4;\n\t\tdata[key + '_r']++;\n\t\tdata[key + '_g']++;\n\t\tdata[key + '_b']++;\n\t\tdata[key + '_a']++;\n\t}\n\t\n\ttarget[key + '_r'] = vect[0];\n\ttarget[key + '_g'] = vect[1];\n\ttarget[key + '_b'] = vect[2];\n\ttarget[key + '_a'] = vect[3];\n\t\n\tinitials[key] = 0;\n\t\n\tinitials[key + '_r'] = 0;\n\tinitials[key + '_g'] = 0;\n\tinitials[key + '_b'] = 0;\n\tinitials[key + '_a'] = 1;\n\t\n\treturn demux;\n}\n","module.exports = require(\"d3-ease\");","module.exports = require(\"prop-types\");","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2020. Nathanael Braun\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\nmodule.exports = {\r\n\t/**\r\n\t * Walk & set executables from globs requires\r\n\t * @param _target\r\n\t * @param path\r\n\t * @param value\r\n\t */\r\n\twalknSetExport( _target, path, value ) {\r\n\t\tlet fPath  = path.split('/'),\r\n\t\t    target = _target, i, module;\r\n\t\t\r\n\t\ti = 0;\r\n\t\twhile ( i < fPath.length - 1 ) target = target[fPath[i]] = target[fPath[i]] || {}, i++;\r\n\t\t\r\n\t\tmodule = Object.keys(value).length === 1 && value.default || value;\r\n\t\t\r\n\t\tif ( !target[fPath[i]] ) {\r\n\t\t\ttarget[fPath[i]] = module;\r\n\t\t}\r\n\t\telse if ( !target[fPath[i]].__esModule ) {// if this is simple path obj write over\r\n\t\t\tObject.assign(module, target[fPath[i]]);\r\n\t\t\ttarget[fPath[i]] = module;\r\n\t\t}\r\n\t}\r\n};","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                           from \"is\";\nimport { floatCut, units, unitsRe } from \"../../cssUtils\";\n\nconst any = require('./any');\n\nconst defaultUnits    = {\n          left       : 'px',\n          right      : 'px',\n          top        : 'px',\n          bottom     : 'px',\n          width      : 'px',\n          height     : 'px',\n          perspective: 'px',\n      },\n      defaultBox      = {\n          left  : 'x',\n          right : 'x',\n          top   : 'y',\n          bottom: 'y',\n          width : 'x',\n          height: 'y',\n      }, defaultValue = {\n          opacity: 0\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n    let path = twKey.split('_'), tmpKey;// not optimal at all\n    \n    if ( path.length === 2 ) {\n        //console.log(\"dec\", twKey, dataMap[path[0]][path[1]], keepValues)\n        if ( !--dataMap[ path[ 0 ] ][ path[ 1 ] ] && !keepValues ) {\n            delete tweenableMap[ twKey ];\n            //dataMap[path[0]][path[1]] = undefined;\n        }\n        \n        if ( !keepValues )\n            while ( dataMap[ path[ 0 ] ].length && !dataMap[ path[ 0 ] ][ dataMap[ path[ 0 ] ].length - 1 ] )\n                dataMap[ path[ 0 ] ].pop();\n        \n        if ( dataMap[ path[ 0 ] ].length === 0 && !keepValues ) {\n            delete dataMap[ path[ 0 ] ];\n            delete muxerMap[ path[ 0 ] ];\n            if ( cssMap ) delete cssMap[ path[ 0 ] ];\n            //console.log(\"delete\", path[0])\n        }\n    }\n    else {\n        console.log(\"wtf\", path)\n    }\n}\n\nexport function demuxOne( unitKey, twVal, baseKey, data, box ) {\n    let value = twVal,\n        unit  = units[ unitKey ] || defaultUnits[ baseKey ] || \"px\";\n    \n    if ( unit === 'box' ) {\n        value = value * ( box[ defaultBox[ baseKey ] ] || box.x );\n        unit  = 'px';\n        \n    }\n    if ( unit === 'bw' ) {\n        value = value * box.x;\n        unit  = 'px';\n    }\n    if ( unit === 'bh' ) {\n        value = value * box.y;\n        unit  = 'px';\n    }\n    if ( unit === 'bz' ) {\n        value = value * box.z;\n        unit  = 'px';\n    }\n    return unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box, baseKey ) {\n    let value, i = 0, y, rKey;\n    \n    value = \"\";\n    \n    //if ( key==\"height\" )\n    //\tdebugger;\n    \n    if ( data[ key ].isString ) {\n        target[ key ] = data[ key ].value;// + defaultUnits[key];\n        return data[ key ].value;\n    }\n    \n    for ( y = 0; y < data[ key ].length; y++ )\n        if ( data[ key ][ y ] ) {\n            rKey = key + \"_\" + y;\n            if ( tweenable[ rKey ] < 0 )\n                value += ( i\n                           ? \" - \"\n                           : \"-\" ) + demuxOne(y, -tweenable[ rKey ], baseKey || key, data, box);\n            else\n                value += ( i\n                           ? \" + \"\n                           : \"\" ) + demuxOne(y, tweenable[ rKey ], baseKey || key, data, box);\n            i++;\n        }\n    if ( i > 1 )\n        value = \"calc(\" + value + \")\";\n    \n    //console.log(key, ':', value)\n    return target ? target[ key ] = value : value;\n}\n\nexport function muxer( key, value, target, data, initials, noPropLock ) {\n    \n    data[ key ]   = data[ key ] || [];\n    let seenUnits = [];\n    if ( is.array(value) ) {\n        for ( let i = 0; i < value.length; i++ ) {\n            muxOne(key, value[ i ] || 0, target, data, initials, noPropLock, seenUnits)\n        }\n    }\n    else {\n        muxOne(key, value || 0, target, data, initials, noPropLock)\n    }\n    \n    return demux;\n}\n\nexport function muxOne( key, value, target, data, initials, noPropLock, seenUnits ) {\n    \n    let match   = is.string(value) ? value.match(unitsRe) : false,\n        unit    = match && match[ 2 ] || defaultUnits[ key ] || \"px\",\n        unitKey = units.indexOf(unit),\n        realKey = unitKey !== -1 && ( key + '_' + unitKey ) || key;\n    \n    initials[ realKey ]    = defaultValue[ key ] || 0;\n    data[ key ][ unitKey ] = data[ key ][ unitKey ] || 0;\n    //\n    if ( !match && is.string(value) ) {\n        data[ key ].isString = true;\n        data[ key ].value    = value;\n        return demux;\n    }\n    \n    if ( seenUnits && seenUnits[ unitKey ] ) {\n        //console.warn(key, ':', data[key][unitKey], value, noPropLock)\n        if ( match ) {\n            target[ realKey ] += parseFloat(match[ 1 ]);\n        }\n        else {\n            target[ realKey ] += parseFloat(value);\n        }\n    }\n    else {\n        \n        !noPropLock && data[ key ][ unitKey ]++;\n        if ( match ) {\n            target[ realKey ] = parseFloat(match[ 1 ]);\n        }\n        else {\n            target[ realKey ] = parseFloat(value);\n        }\n        if ( seenUnits ) seenUnits[ unitKey ] = true;\n    }\n    \n    return demux;\n};\n\nexport const mux = muxer;","module.exports = require(\"shortid\");","module.exports = require(\"color-rgba\");","module.exports = require(\"tween-axis\");","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../cssUtils\";\n\nconst\n\tdefaultUnits    = {\n\t\tblur      : 'px',\n\t\tbrightness: '%',\n\t\tcontrast  : '%',\n\t\tdropShadow: true,\n\t\tgrayscale : '%',\n\t\thueRotate : 'deg',\n\t\tinvert    : \"%\",\n\t\topacity   : \"%\",\n\t\tsaturate  : \"%\",\n\t\tsepia     : \"%\"\n\t}, defaultValue = {};\n\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tif ( path.length === 4 ) {\n\t\t//console.warn(\"dec\", twKey, dataMap[path[0]][path[1]][path[2]])\n\t\t// dec count on filter\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t//if ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t//\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\t// free filter layers\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\t//dataMap[path[0]][path[3]] = undefined;\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//console.log(\"delete\", twKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[tmpKey].length === 0 && !keepValues )\n\t\t\tdelete dataMap[tmpKey];\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitIndex, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitIndex] || defaultUnits[baseKey];\n\t\n\t//if ( unit === 'box' ) {\n\t//\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t//\tunit  = 'px';\n\t//}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t//console.log(key)\n\tlet filters                                                    = \"\",\n\t    tmpValue                                                   = {};\n\tlet ti = 0, tmap, fkey, unitKey, unitIndex, dkey, u, iValue, y = 0, value;\n\tfor ( ; ti < data[key].length; ti++ ) {\n\t\ttmap = data[key][ti];\n\t\tfor ( fkey in tmap )\n\t\t\tif ( tmap.hasOwnProperty(fkey) ) {\n\t\t\t\tdkey  = key + '_' + ti + '_' + fkey;\n\t\t\t\tvalue = \"\";\n\t\t\t\ty     = 0;\n\t\t\t\tfor ( unitIndex = 0; unitIndex < data[dkey].length; unitIndex++ )\n\t\t\t\t\tif ( data[dkey][unitIndex] ) {\n\t\t\t\t\t\tunitKey = dkey + \"_\" + unitIndex;\n\t\t\t\t\t\t//console.log(\"mux \", key, dkey, unitKey)\n\t\t\t\t\t\t\n\t\t\t\t\t\t//if ( !tweenable[unitKey] )\n\t\t\t\t\t\t//\tcontinue;\n\t\t\t\t\t\tiValue = demuxOne(unitIndex, dkey, tweenable[unitKey], fkey, data, box);\n\t\t\t\t\t\t//console.log(unitKey, tweenable[unitKey], iValue)\n\t\t\t\t\t\tif ( y && iValue[0] === '-' )\n\t\t\t\t\t\t\tiValue = \" - \" + iValue.substr(1);\n\t\t\t\t\t\telse if ( y )\n\t\t\t\t\t\t\tiValue = \" + \" + iValue;\n\t\t\t\t\t\tvalue += iValue;\n\t\t\t\t\t\ty++;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( y > 1 )\n\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\n\t\t\t\tif ( y > 0 )\n\t\t\t\t\tfilters += fkey + \"(\" + (value || \"0\") + \") \";\n\t\t\t}\n\t}\n\ttarget.filter = filters;\n\t\n}\n\nexport function muxOne( key, baseKey, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[baseKey],\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[baseKey] || 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', realKey, data[key][unitKey], initials[realKey], noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\nexport const mux = ( key, value, target, data, initials, noPropLock, reOrder ) => {\n\t\n\tdata[key] = data[key] || [];\n\t//initials[key] = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\tlet ti = 0, tmap, tFnKey, baseData, fValue, dkey, u, seenUnits;\n\tfor ( ; ti < value.length; ti++ ) {\n\t\ttmap     = value[ti];\n\t\tbaseData = reOrder ? {} : { ...(data[key][ti] || {}) };\n\t\tfor ( tFnKey in tmap )\n\t\t\tif ( tmap.hasOwnProperty(tFnKey) ) {\n\t\t\t\tfValue    = tmap[tFnKey];\n\t\t\t\tseenUnits = {};\n\t\t\t\tdkey      = key + '_' + ti + '_' + tFnKey;\n\t\t\t\t\n\t\t\t\tbaseData[tFnKey] = baseData[tFnKey] || data[key][ti] && data[key][ti][tFnKey] || 0;\n\t\t\t\t!noPropLock && baseData[tFnKey]++;\n\t\t\t\t\n\t\t\t\t//console.warn(\"set \", key, dkey, noPropLock, baseData[tFnKey])\n\t\t\t\t\n\t\t\t\tdata[dkey] = data[dkey] || [];\n\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\tfor ( u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue[u] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmuxOne(dkey, tFnKey, fValue || 0, target, data, initials, noPropLock)\n\t\t\t\t}\n\t\t\t}\n\t\tdata[key][ti] =\n\t\t\treOrder\n\t\t\t? { ...baseData, ...(data[key][ti] || {}), ...baseData }\n\t\t\t:\n\t\t\tbaseData;\n\t\t//console.log(key, reOrder, data[key][ti], baseData)\n\t}\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nexport * from \"./typed/shadow\";","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst defaultUnits = { opacity: 1 };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\ttarget[key] = ~~(tweenable[key]);// + defaultUnits[key];\n\t\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\t\n\tinitials[key] = 0;\n\ttarget[key]   = ~~value;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst defaultUnits = { opacity: 1 };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\tlet value = !!(tweenable[key]);\n\treturn target ? target[key] = value : value;\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\tinitials[key] = defaultUnits[key] || 0;\n\ttarget[key]   = value === false ? 0 : 1;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is          from \"is\";\nimport * as number from \"./number\";\n\nconst\n    alias = {\n        top   : '0%',\n        bottom: '100%',\n        center: '50%',\n        left  : '0%',\n        right : '100%'\n    };\n\nfunction demux( key, tweenable, target, data, box, offset ) {\n    \n    let count = data[ \"_\" + key ], v = '', nowhere = {};\n    \n    for ( let i = 0; i < count; i++ ) {\n        number.demux(key + '_' + i, tweenable, nowhere, data, box, offset);\n        v += nowhere[ key + '_' + i ] + ' ';\n    }\n    \n    target[ key ] = v;\n}\n\n\nfunction release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n    let path = twKey.split('_'), tmpKey;// not optimal at all\n    \n    //if ( path.length === 2 ) {\n    //\tconsole.log(\"dec\", twKey, dataMap[path[0]][path[1]])\n    //\tif ( !--dataMap[path[0]][path[1]] && !keepValues ) {\n    //\t\tdelete tweenableMap[twKey];\n    //\t\tdelete dataMap[path[0]][path[1]];\n    //\t}\n    //\n    //\tif ( !keepValues )\n    //\t\twhile ( dataMap[path[0]].length &&\n    // !dataMap[path[0]][dataMap[path[0]].length - 1] ) dataMap[path[0]].pop();  if (\n    // dataMap[path[0]].length === 0 && !keepValues ) { delete dataMap[path[0]]; delete\n    // muxerMap[path[0]]; delete cssMap[path[0]]; console.log(\"delete\", path[0]) } } else\n    // { console.log(\"wtf\", path) }\n}\n\nexport default ( count ) => ( {\n    mux: ( key, value, target, data, initials, noPropLock ) => {\n        let values = value.split(' '), v;\n        \n        data[ key ] = data[ key ] || 0;\n        noPropLock && data[ key ]++;\n        data[ \"_\" + key ] = count;\n        \n        for ( let i = 0; i < count; i++ ) {\n            v = values[ i % values.length ];\n            v = is.string(v) && alias[ v ] || v;\n            number.mux(key + '_' + i, v, target, data, initials, noPropLock)\n        }\n        \n        return demux;\n    }, demux, release\n} )","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst defaultUnits = { opacity: 1 };\nimport {floatCut} from \"../../cssUtils\";\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\ttarget[key] = Math.min(1, Math.max(0, floatCut(tweenable[key])));\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\t\n\tinitials[key] = defaultUnits[key] || 0;\n\ttarget[key]   = value;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../cssUtils\";\n\nconst defaultUnits    = {\n\t      //matrix     : true,\n\t      //translate  : 'px',\n\t      translateX : 'px',\n\t      translateY : 'px',\n\t      translateZ : 'px',\n\t      scale      : '',\n\t      scaleZ     : '',\n\t      scaleX     : '',\n\t      scaleY     : '',\n\t      rotate     : 'deg',\n\t      //skew       : 'deg',\n\t      skewX      : 'deg',\n\t      skewY      : 'deg',\n\t      //matrix3d   : true,\n\t      //translate3d: true,\n\t      //scale3d    : true,\n\t      //rotate3d   : true,\n\t      rotateX    : 'deg',\n\t      rotateY    : 'deg',\n\t      rotateZ    : 'deg',\n\t      perspective: 'px',\n      },\n      defaultBox      = {\n\t      translateX: 'x',\n\t      translateY: 'y',\n\t      translateZ: 'z',\n\t      rotateX   : 'x',\n\t      rotateY   : 'y',\n\t      rotateZ   : 'z',\n\t      left      : 'x',\n\t      right     : 'x',\n\t      top       : 'y',\n\t      bottom    : 'y',\n\t      width     : 'x',\n\t      height    : 'y',\n      }, defaultValue = {\n\t      //skew  : 1,\n\t      //skewX : 1,\n\t      //skewY : 1,\n\t      scale : 1,\n\t      scaleX: 1,\n\t      scaleY: 1,\n\t      scaleZ: 1\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tif ( path.length === 4 ) {\n\t\t//console.warn(\"dec\", twKey, dataMap[path[0]][path[1]][path[2]])\n\t\t// dec count on transform\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t//if ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t//\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\t// free transform layers\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\t//dataMap[path[0]][path[3]] = undefined;\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//console.log(\"delete\", twKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[tmpKey].length === 0 && !keepValues )\n\t\t\tdelete dataMap[tmpKey];\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitIndex, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitIndex] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t//console.log(key)\n\tlet transforms                                                 = \"\",\n\t    tmpValue                                                   = {};\n\tlet ti = 0, tmap, fkey, unitKey, unitIndex, dkey, u, iValue, y = 0, value;\n\tfor ( ; ti < data[key].length; ti++ ) {\n\t\ttmap = data[key][ti];\n\t\tfor ( fkey in tmap )\n\t\t\tif ( tmap.hasOwnProperty(fkey) ) {\n\t\t\t\tdkey  = key + '_' + ti + '_' + fkey;\n\t\t\t\tvalue = \"\";\n\t\t\t\ty     = 0;\n\t\t\t\tfor ( unitIndex = 0; unitIndex < data[dkey].length; unitIndex++ )\n\t\t\t\t\tif ( data[dkey][unitIndex] ) {\n\t\t\t\t\t\tunitKey = dkey + \"_\" + unitIndex;\n\t\t\t\t\t\t//console.log(\"mux \", key, dkey, unitKey)\n\t\t\t\t\t\t\n\t\t\t\t\t\t//if ( !tweenable[unitKey] )\n\t\t\t\t\t\t//\tcontinue;\n\t\t\t\t\t\tiValue = demuxOne(unitIndex, dkey, tweenable[unitKey], fkey, data, box);\n\t\t\t\t\t\t//console.log(unitKey, tweenable[unitKey], iValue)\n\t\t\t\t\t\tif ( y && iValue[0] === '-' )\n\t\t\t\t\t\t\tiValue = \" - \" + iValue.substr(1);\n\t\t\t\t\t\telse if ( y )\n\t\t\t\t\t\t\tiValue = \" + \" + iValue;\n\t\t\t\t\t\tvalue += iValue;\n\t\t\t\t\t\ty++;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( y > 1 )\n\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\n\t\t\t\tif ( y > 0 )\n\t\t\t\t\ttransforms += fkey + \"(\" + (value || \"0\") + \") \";\n\t\t\t}\n\t}\n\ttarget.transform = transforms;\n\t\n}\n\nexport function muxOne( key, baseKey, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[baseKey],\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[baseKey] || 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', realKey, data[key][unitKey], initials[realKey], noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\nexport const mux = ( key, value, target, data, initials, noPropLock, reOrder ) => {\n\t\n\tdata[key] = data[key] || [];\n\t//initials[key] = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\tlet ti = 0, tmap, tFnKey, baseData, fValue, dkey, u, seenUnits;\n\tfor ( ; ti < value.length; ti++ ) {\n\t\ttmap     = value[ti];\n\t\tbaseData = reOrder ? {} : { ...(data[key][ti] || {}) };\n\t\tfor ( tFnKey in tmap )\n\t\t\tif ( tmap.hasOwnProperty(tFnKey) ) {\n\t\t\t\tfValue    = tmap[tFnKey];\n\t\t\t\tseenUnits = {};\n\t\t\t\tdkey      = key + '_' + ti + '_' + tFnKey;\n\t\t\t\t\n\t\t\t\tbaseData[tFnKey] = baseData[tFnKey] || data[key][ti] && data[key][ti][tFnKey] || 0;\n\t\t\t\t!noPropLock && baseData[tFnKey]++;\n\t\t\t\t\n\t\t\t\t//console.warn(\"set \", key, dkey, noPropLock, baseData[tFnKey])\n\t\t\t\t\n\t\t\t\tdata[dkey] = data[dkey] || [];\n\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\tfor ( u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue[u] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmuxOne(dkey, tFnKey, fValue || 0, target, data, initials, noPropLock)\n\t\t\t\t}\n\t\t\t}\n\t\tdata[key][ti] =\n\t\t\treOrder\n\t\t\t? { ...baseData, ...(data[key][ti] || {}), ...baseData }\n\t\t\t:\n\t\t\tbaseData;\n\t\t//console.log(key, reOrder, data[key][ti], baseData)\n\t}\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nexport * from \"./typed/shadow\";","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nexport * from \"./typed/color\";","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport React from 'react';\n\nconst TweenerContext = React.createContext(null);\nexport default TweenerContext","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of context software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and context permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport PropTypes from \"prop-types\";\nimport React     from 'react';\n\nimport TweenerContext from \"./TweenerContext\";\n\nexport default ( {\n\t                 children,\n\t                 id,\n\t                 axe = id,\n\t                 scrollFirst, bounds,\n\t                 scrollableWindow, inertia, size, defaultPosition,\n\t                 items = [],\n                 } ) => {\n\tconst Âµ = React.useRef({}).current;\n\tReact.useEffect(\n\t\t() => {\n\t\t\treturn () => {\n\t\t\t\tif ( Âµ.tweenLines ) {\n\t\t\t\t\tObject.keys(Âµ.tweenLines)\n\t\t\t\t\t      .forEach(axe => Âµ.previousTweener.rmScrollableAnim(Âµ.tweenLines[axe], axe));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelete Âµ.previousTweener;\n\t\t\t\tdelete Âµ.previousScrollable;\n\t\t\t}\n\t\t}\n\t)\n\treturn <TweenerContext.Consumer>\n\t\t{\n\t\t\ttweener => {\n\t\t\t\tif ( !Âµ.previousAxis || Âµ.previousAxis !== axe ) {//....\n\t\t\t\t\tÂµ.previousAxis    = axe;\n\t\t\t\t\tÂµ.previousInertia = inertia;\n\t\t\t\t\ttweener.initAxis(axe, {\n\t\t\t\t\t\tinertia,\n\t\t\t\t\t\tsize,\n\t\t\t\t\t\tscrollableWindow,\n\t\t\t\t\t\tdefaultPosition,\n\t\t\t\t\t\tscrollFirst,\n\t\t\t\t\t\tscrollableBounds: bounds\n\t\t\t\t\t}, true);\n\t\t\t\t}\n\t\t\t\telse if ( !Âµ.previousInertia || Âµ.previousInertia !== inertia ) {//....\n\t\t\t\t\tÂµ.previousInertia = inertia;\n\t\t\t\t\tÂµ.previousAxis    = axe;\n\t\t\t\t\ttweener.initAxis(axe, {\n\t\t\t\t\t\tinertia,\n\t\t\t\t\t\tsize,\n\t\t\t\t\t\tscrollableWindow,\n\t\t\t\t\t\tdefaultPosition,\n\t\t\t\t\t\tscrollFirst,\n\t\t\t\t\t\tscrollableBounds: bounds\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif ( !Âµ.previousTweener || Âµ.previousTweener !== tweener ) {// mk axe not modifiable\n\t\t\t\t\tÂµ.previousTweener && Âµ.lastTL && Âµ.previousTweener.rmScrollableAnim(Âµ.lastTL, Âµ.previousAxis);\n\t\t\t\t\tif ( items.length )\n\t\t\t\t\t\tÂµ.lastTL = tweener.addScrollableAnim(items, axe, size);\n\t\t\t\t\tÂµ.previousTweener = tweener;\n\t\t\t\t\tÂµ.previousTweens  = items;\n\t\t\t\t}\n\t\t\t\telse if ( Âµ.previousTweens !== items && !(Âµ.previousTweens && deepEqual(items, Âµ.previousTweens)) ) {\n\t\t\t\t\tÂµ.lastTL && Âµ.previousTweener && Âµ.previousTweener.rmScrollableAnim(Âµ.lastTL, Âµ.previousAxis);\n\t\t\t\t\tÂµ.lastTL = null;\n\t\t\t\t\tif ( items.length )\n\t\t\t\t\t\tÂµ.lastTL = tweener.addScrollableAnim(items, axe, size);\n\t\t\t\t\tÂµ.previousTweens = items;\n\t\t\t\t}\n\t\t\t\treturn <React.Fragment/>;\n\t\t\t}\n\t\t}\n\t</TweenerContext.Consumer>;\n}\n//@todo : rewrite with hooks\n//export default class Axis extends React.Component {\n//\tstatic propTypes = {\n//\t\tid             : PropTypes.string,\n//\t\taxe            : PropTypes.string,\n//\t\titems          : PropTypes.array,\n//\t\tbounds         : PropTypes.object,\n//\t\tinertia        : PropTypes.any,\n//\t\tdefaultPosition: PropTypes.number,\n//\t\tsize           : PropTypes.any\n//\t};\n//\tstate            = {};\n//\t\n//\tcomponentWillUnmount() {\n//\t\t\n//\t}\n//\t\n//\trender() {\n//\t\tlet {} = context.props;\n//\t}\n//}","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2020. Nathanael Braun\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\n\r\n\r\nexport function isClassComponent(component) {\r\n    return (\r\n        typeof component === 'function' &&\r\n        !!component.prototype.isReactComponent\r\n    )\r\n}\r\nexport function isFunctionalComponent(Component) {\r\n    return (\r\n        typeof Component === 'function' // can be various things\r\n        && !(\r\n        Component.prototype // native arrows don't have prototypes\r\n        && Component.prototype.isReactComponent // special property\r\n        )\r\n    );\r\n}\r\n\r\nexport function isReactComponent(component) {\r\n    return (\r\n        isClassComponent(component) ||\r\n        isFunctionalComponent(component)\r\n    )\r\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport is        from \"is\";\nimport React     from 'react';\nimport shortid   from 'shortid';\n\nimport TweenerContext from \"./TweenerContext\";\n\nimport {isFunctionalComponent} from '../utils/react';\n\nfunction setTarget( anims, target ) {\n\treturn anims.map(\n\t\ttween => ({\n\t\t\t...tween,\n\t\t\ttarget\n\t\t})\n\t)\n}\n\n//@todo : rewrite with hooks & fix bug ( why does it work like that ? :D )\nexport default class Node extends React.Component {\n\t\n\tstatic propTypes = {};\n\tstate            = {};\n\t__tweenableId    = shortid.generate();\n\t\n\tcomponentWillUnmount() {\n\t\tif ( this._tweenAxisObj ) {\n\t\t\tObject.keys(this._tweenAxisObj)\n\t\t\t      .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxisObj[axe], axe));\n\t\t\t\n\t\t}\n\t\tif ( this._currentTweener ) {\n\t\t\tthis._currentTweener.rmTweenRef(this.__tweenableId)\n\t\t\tthis._currentTweener.setRootRef(undefined);\n\t\t}\n\t\tdelete this._currentTweener;\n\t\tdelete this._tweenAxisObj;\n\t\tdelete this._previousScrollable;\n\t}\n\t\n\trender() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    id         = this.__tweenableId,\n\t\t\t    style, initial, pos, noRef, reset, tweener,\n\t\t\t    isRoot,\n\t\t\t    axes,\n\t\t\t    refProp    = \"nodeRef\",\n\t\t\t    tweenLines = axes,\n\t\t\t    tweenAxis  = tweenLines,\n\t\t\t    ...props\n\t\t    } = this.props;\n\t\treturn <TweenerContext.Consumer>\n\t\t\t{\n\t\t\t\tparentTweener => {\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tparentTweener = tweener || parentTweener;\n\t\t\t\t\t\n\t\t\t\t\tif ( !parentTweener ) {\n\t\t\t\t\t\tconsole.error(\"No voodoo tweener found in the context, is there any parent with asTweener ?\")\n\t\t\t\t\t\treturn <React.Fragment/>;\n\t\t\t\t\t}\n\t\t\t\t\t//console.warn(\"render : \", this.__tweenableId, this._currentTweener,\n\t\t\t\t\t// parentTweener, this._currentTweener !== parentTweener)\n\t\t\t\t\tlet twRef = parentTweener.tweenRef(id, children.props && children.props.style, style || initial,\n\t\t\t\t\t                                   pos, noRef),\n\t\t\t\t\t    axisItemsChange;\n\t\t\t\t\t\n\t\t\t\t\t//console.warn(\"render2 : \", this.__tweenableId,\n\t\t\t\t\t// this._currentTweener, parentTweener, this._currentTweener !==\n\t\t\t\t\t// parentTweener)\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif ( this._currentTweener !== parentTweener || this._previousScrollable !== tweenAxis ) {\n\t\t\t\t\t\taxisItemsChange = this._tweenAxis !== tweenAxis && !(this._tweenAxis && deepEqual(tweenAxis, this._tweenAxis));\n\t\t\t\t\t\tif ( this._currentTweener && axisItemsChange ) {\n\t\t\t\t\t\t\tthis._tweenAxisObj && Object.keys(this._tweenAxisObj)\n\t\t\t\t\t\t\t                            .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxisObj[axe], axe));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//console.log(twRef, axisItemsChange, this._tweenAxis, tweenAxis)\n\t\t\t\t\t\tif ( this._currentTweener && this._currentTweener !== parentTweener ) {\n\t\t\t\t\t\t\tthis._currentTweener.rmTweenRef(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( axisItemsChange ) {\n\t\t\t\t\t\t\tthis._tweenAxis = tweenAxis;\n\t\t\t\t\t\t\tif ( tweenAxis && is.array(tweenAxis) )\n\t\t\t\t\t\t\t\tthis._tweenAxisObj = { scrollY: parentTweener.addScrollableAnim(setTarget(tweenAxis, id)) };\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tthis._tweenAxisObj = tweenAxis && Object.keys(tweenAxis)\n\t\t\t\t\t\t\t\t                                        .reduce(( h, axe ) => (h[axe] = parentTweener.addScrollableAnim(setTarget(tweenAxis[axe], id), axe), h), {});\n\t\t\t\t\t\t\ttwRef = parentTweener.tweenRef(id, children.props && children.props.style, style || initial,\n\t\t\t\t\t\t\t                               pos, noRef)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\ttwRef.style = { ...parentTweener._updateTweenRef(id, true) };\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( this.props.hasOwnProperty(\"isRoot\") ) {\n\t\t\t\t\t\t\tthis._currentTweener && this._currentTweener.setRootRef(undefined);\n\t\t\t\t\t\t\ttweener.setRootRef(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis._currentTweener     = parentTweener;\n\t\t\t\t\t\tthis._previousScrollable = tweenAxis;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse if ( twRef ) {\n\t\t\t\t\t\ttwRef.style = { ...parentTweener._updateTweenRef(id, true) };\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet RefChild = React.Children.only(children);\n\t\t\t\t\t\n\t\t\t\t\tif ( RefChild && React.isValidElement(RefChild) ) {//todo\n\t\t\t\t\t\tthis._lastRef = twRef;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( isFunctionalComponent(RefChild.type) )\n\t\t\t\t\t\t\treturn <RefChild.type\n\t\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t\t{...RefChild.props}\n\t\t\t\t\t\t\t\t{...twRef}\n\t\t\t\t\t\t\t\tref={undefined}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\t\t[refProp]: twRef.ref\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>;\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn <RefChild.type\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t{...RefChild.props}\n\t\t\t\t\t\t\t{...twRef}/>;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconsole.error(\"Invalid voodoo Node child : \", id)\n\t\t\t\t\t}\n\t\t\t\t\treturn <div>Invalid</div>;\n\t\t\t\t}\n\t\t\t}\n\t\t</TweenerContext.Consumer>;\n\t}\n}\n\nNode.div = ( { children, className, ...props } ) => {\n\treturn <Node {...props}>\n\t\t<div className={className}>{children}</div>\n\t</Node>;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is from \"is\";\n\nexport const re_cssValueWithUnit = new RegExp(\n\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t['box', 'bz', 'bh', 'bw', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t+ \")\"\n);\n\n/**\n * add any css val with it unit ( todo: optims&use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssAdd( val1, val2, ...argz ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\tif ( !is.array(val2) )\n\t\tval2 = [val2];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    units2             = val2.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 0;\n\t\tremap[units1[i][2]] += parseFloat(units1[i][1]);\n\t\ti++;\n\t}\n\ti = 0;\n\twhile ( i < units2.length ) {\n\t\tremap[units2[i][2]] = remap[units2[i][2]] || 0;\n\t\tremap[units2[i][2]] += parseFloat(units2[i][1]);\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn argz.length ? cssAdd(result, ...argz) : result;\n}\n\n/**\n * Multiply any css val with it unit ( todo: optims & use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssMult( val1, val ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 1;\n\t\tremap[units1[i][2]] = parseFloat(units1[i][1]) * val;\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn result;\n}\n\nexport function offset( items, start = 0 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom: item.from + start\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function scale( items, duration = 0, withOffset ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\t\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\titems = items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom    : (item.from / iDuration) * duration,\n\t\t\t\tduration: (item.duration / iDuration) * duration\n\t\t\t}\n\t\t)\n\t)\n\treturn withOffset ? offset(items, withOffset) : items\n}\n\nfunction inverseValues( v ) {\n\tif ( is.number(v) )\n\t\treturn -v;\n\tif ( is.object(v) )\n\t\treturn Object.keys(v).reduce(( h, key ) => (h[key] = inverseValues(v[key]), h), {});\n\tif ( is.array(v) )\n\t\treturn v.map(( item ) => (inverseValues(item)));\n\t\n\tlet values = v.split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig);\n\t\n\treturn values.map(\n\t\t( val, i ) => (i % 2 ? -parseFloat(val) : val)\n\t).join(\"\");\n}\n\nexport function reverse( items ) {\n\titems         = is.array(items) ? items : items && [items] || items;\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\treturn items.map(\n\t\titem => {\n\t\t\titem =\n\t\t\t\t{\n\t\t\t\t\t...item,\n\t\t\t\t\tfrom: iDuration - (item.from + item.duration),\n\t\t\t\t\t...(item.apply ? { apply: inverseValues(item.apply) } : undefined)\n\t\t\t\t};\n\t\t\treturn item;\n\t\t}\n\t)\n}\n\nconst MultiCssProps = { \"transform\": true, \"filter\": true, \"textShadow\": true, \"boxShadow\": true }\n\nexport function addCss( target, ...sources ) {\n\tlet source = sources.shift();\n\t\n\tfor ( const key in source ) {\n\t\tif ( !source.hasOwnProperty(key) )\n\t\t\tcontinue;\n\t\t\n\t\tif ( MultiCssProps[key] ) {\n\t\t\tif ( !target[key] ) {\n\t\t\t\ttarget[key] = [];\n\t\t\t}\n\t\t\tif ( !is.array(source[key]) ) {\n\t\t\t\taddCss(target[key], [source[key]]);\n\t\t\t}\n\t\t\telse addCss(target[key], source[key]);\n\t\t}\n\t\telse {\n\t\t\t// adding units\n\t\t\tif ( is.array(source[key]) ) {\n\t\t\t\tif ( !target[key] ) {\n\t\t\t\t\ttarget[key] = [];\n\t\t\t\t}\n\t\t\t\tif ( !is.array(target[key]) ) {\n\t\t\t\t\ttarget[key] = [...source[key], target[key]];\n\t\t\t\t}\n\t\t\t\telse target[key].push(...source[key]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( !target[key] ) {\n\t\t\t\t\tif ( !is.object(source[key]) ) {\n\t\t\t\t\t\ttarget[key] = source[key];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttarget[key] = { ...source[key] };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( is.object(target[key]) && is.object(source[key]) ) {\n\t\t\t\t\taddCss(target[key], source[key]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//else target[key].push(...source[key]);\n\t\t\t\t\ttarget[key] = addAllType(target[key], source[key])\n\t\t\t\t\t//console.log(key, target[key])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\treturn sources.length && addCss(target, ...sources) || target;\n}\n\nfunction addAllType( v1, v2 ) {\n\tif ( !v1 )\n\t\treturn v2;\n\tif ( !v2 )\n\t\treturn v1;\n\tlet values1 = ('' + v1).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    values2 = ('' + v2).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    r       = values1.map(\n\t\t    ( val, i ) => (i % 2 ? parseFloat(val) + parseFloat(values2[i] || 0) : val)\n\t    ).filter(i => (i !== ''));\n\t\n\treturn r.length === 1 ? parseInt(r[0]) : r.join(\"\")\n}\n\nexport function extractCss( items, inverse ) {\n\tlet css = {};\n\titems   = is.array(items) ? items : items && [items] || items;\n\titems.forEach(\n\t\titem => {\n\t\t\taddCss(css, item.apply)\n\t\t}\n\t);\n\tif ( inverse )\n\t\tcss = inverseValues(css);\n\t\n\t\n\t//if ( inverse && css.hasOwnProperty('opacity') )\n\t//\tcss.opacity -= 1;\n\treturn css;\n}\n\nexport function target( items, target ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\ttarget\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function shiftTransforms( items, shift = 1 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => {\n\t\t\tlet t = item.apply && item.apply.transform;\n\t\t\tif ( t ) {\n\t\t\t\tt = is.array(t) ? t : [t];\n\t\t\t\tfor ( let i = 0; i < shift; i++ )\n\t\t\t\t\tt.unshift({});\n\t\t\t\t\n\t\t\t\titem = { ...item, apply: { ...item.apply, transform: t } };\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t)\n}","/* This is a virtual file generated by layer-pack */\nlet req, _exports = {}, walknSetExport=require('react-voodoo/.___layerPackIndexUtils').walknSetExport;\nconst _react_voodoo_utils_css_demux_filter_js = require(\"react-voodoo/utils/css/demux/filter.js\");\nwalknSetExport(_exports, \"filter\", _react_voodoo_utils_css_demux_filter_js);\nconst _react_voodoo_utils_css_demux_boxShadow_js = require(\"react-voodoo/utils/css/demux/boxShadow.js\");\nwalknSetExport(_exports, \"boxShadow\", _react_voodoo_utils_css_demux_boxShadow_js);\nconst _react_voodoo_utils_css_demux_transform_js = require(\"react-voodoo/utils/css/demux/transform.js\");\nwalknSetExport(_exports, \"transform\", _react_voodoo_utils_css_demux_transform_js);\nconst _react_voodoo_utils_css_demux_textShadow_js = require(\"react-voodoo/utils/css/demux/textShadow.js\");\nwalknSetExport(_exports, \"textShadow\", _react_voodoo_utils_css_demux_textShadow_js);\nconst _react_voodoo_utils_css_demux_backgroundColor_js = require(\"react-voodoo/utils/css/demux/backgroundColor.js\");\nwalknSetExport(_exports, \"backgroundColor\", _react_voodoo_utils_css_demux_backgroundColor_js);\n\nexport const backgroundColor = _exports.backgroundColor;\n\nexport const boxShadow = _exports.boxShadow;\n\nexport const filter = _exports.filter;\n\nexport const textShadow = _exports.textShadow;\n\nexport const transform = _exports.transform;\nexport default _exports;","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\n\nimport {addCss}    from \"../tweenTools\";\nimport {\n\texpandShorthandProperty, isShorthandProperty, isValidDeclaration\n}                  from \"./cssUtils\";\nimport cssDemuxers from \"./demux/(*).js\";\n\nimport {int, multi, number, ratio, color, any} from \"./demux/typed/(*).js\";\n\nconst cssDemux = {\n\t...cssDemuxers,\n\theight           : number,\n\twidth            : number,\n\ttop              : number,\n\tleft             : number,\n\tright            : number,\n\tbottom           : number,\n\tmarginTop        : number,\n\tmarginLeft       : number,\n\tmarginRight      : number,\n\tmarginBottom     : number,\n\tpaddingTop       : number,\n\tpaddingLeft      : number,\n\tpaddingRight     : number,\n\tpaddingBottom    : number,\n\tborderRadius     : number,\n\tborderTopColor   : color,\n\tborderLeftColor  : color,\n\tborderRightColor : color,\n\tborderBottomColor: color,\n\tborderTopWidth   : number,\n\tborderLeftWidth  : number,\n\tborderRightWidth : number,\n\tborderBottomWidth: number,\n\ttransformOrigin  : multi(2),\n\tzIndex           : int,\n\topacity          : ratio,\n};\n\n\nexport function clearTweenableValue( cssKey, twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tcssDemux[path[0]]?.release(twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues)\n}\n\n/**\n * Interpolate float/int values to css basing the css prop type\n * @param tweenable {Object} map of tweenable values\n * @param css {Object} map of css value to be push in DOM\n * @param demuxers {Object} map of numeric to css converter\n * @param data {Object} map of converters contexts\n * @param box {Object} xyz of the parent viewbox\n */\nexport function muxToCss( tweenable, css, demuxers, data, box ) {\n\tObject.keys(demuxers)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      demuxers[key].demux(key, tweenable, css, data, box)\n\t\t      }\n\t      )\n}\n\n/**\n * Instanciate interpolators & init css/tweenable values basing the tween\n * @param tween\n * @param deMuxedTween\n * @param initials\n * @param data\n * @param demuxers\n * @param noPropLock\n * @param reOrder\n * @returns {{}}\n */\nexport function deMuxTween( tween, deMuxedTween, initials, data, demuxers, noPropLock, reOrder ) {\n\tlet fTween = {}, excluded = {};\n\ttween && Object.keys(tween)\n\t               .forEach(\n\t\t               ( key ) => {\n\t\t\t               if ( cssDemux[key] )\n\t\t\t\t               fTween[key] = tween[key];\n\t\t\t               else if ( isValidDeclaration(key, tween[key]) ) {\n\t\t\t\t\n\t\t\t\t               if ( isShorthandProperty(key) ) {\n\t\t\t\t\t               expandShorthandProperty(key, tween[key], fTween);\n\t\t\t\t               }\n\t\t\t\t               else fTween[key] = tween[key];\n\t\t\t               }\n\t\t\t               else excluded[key] = tween[key];\n\t\t               });\n\t\n\tfTween && Object.keys(fTween)\n\t                .forEach(\n\t\t                ( key ) => {\n\t\t\t                if ( cssDemux[key] ) {//key, value, target, data, initials\n\t\t\t\t                (demuxers[key] = cssDemux[key]).mux(key, fTween[key], deMuxedTween, data, initials, noPropLock, reOrder)\n\t\t\t                }\n\t\t\t                else\n\t\t\t\t                (demuxers[key] = any).mux(key, fTween[key], deMuxedTween, data, initials, noPropLock, reOrder)\n\t\t                }\n\t                );\n\treturn excluded;\n}\n\n/**\n * Init/update muxers & initial css values of targets in a tween line / axis\n * @param tweenLine\n * @param initials\n * @param data\n * @param demuxers\n * @param noPropLock\n * @returns {*}\n */\nexport function deMuxLine( tweenLine, initials, data, demuxers, noPropLock ) {\n\tnoPropLock       = noPropLock && {};\n\tlet allPropsById = {},\n\t    twAxis       = tweenLine.reduce(\n\t\t    ( line, tween ) => {\n\t\t\t    let demuxedTween       = {};\n\t\t\t    demuxers[tween.target] = demuxers[tween.target] || {};\n\t\t\t    initials[tween.target] = initials[tween.target] || {};\n\t\t\t    data[tween.target]     = data[tween.target] || {};\n\t\t\t\n\t\t\t    if ( !tween.type || tween.type === \"Tween\" ) {\n\t\t\t\t    !noPropLock && addCss(allPropsById[tween.target] = allPropsById[tween.target] || {}, tween.apply);\n\t\t\t\t    //console.log(\"merged\", tween.apply)\n\t\t\t\t    deMuxTween(tween.apply, demuxedTween, initials[tween.target], data[tween.target], demuxers[tween.target], true);\n\t\t\t\t    line.push(\n\t\t\t\t\t    {\n\t\t\t\t\t\t    ...tween,\n\t\t\t\t\t\t    apply: demuxedTween\n\t\t\t\t\t    });\n\t\t\t    }\n\t\t\t    else line.push({ ...tween });\n\t\t\t    return line\n\t\t    },\n\t\t    []\n\t    );\n\t//console.log(allPropsById)\n\t!noPropLock && Object.keys(allPropsById)\n\t                     .forEach(\n\t\t                     id => deMuxTween(allPropsById[id], {}, {}, data[id], demuxers[id])\n\t                     )\n\t;\n\treturn twAxis;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\n\n/**\n * Old school dom utils & events managers\n */\n\nlet\n    is        = require('is'),\n    isBrowser = typeof window !== 'undefined',\n    isTouch   = isBrowser && ( function is_touch_device() {\n        var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n        var mq       = function ( query ) {\n            return window.matchMedia && window.matchMedia(query).matches;\n        }\n        \n        if ( ( 'ontouchstart' in window ) || window.DocumentTouch && document instanceof DocumentTouch ) {\n            return true;\n        }\n        \n        // include the 'heartz' as a way to have a non matching MQ to help terminate the\n        // join https://git.io/vznFH\n        var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n        return mq(query);\n    }() ),\n    _dom      = isBrowser ? {\n        prefix      : ( /webkit/i ).test(navigator.appVersion) ? 'webkit' :\n                      ( /firefox/i ).test(navigator.userAgent) ? 'Moz' :\n                      ( /trident/i ).test(navigator.userAgent) ? 'ms' :\n                      'opera' in window ? 'O' : '',\n        dashedPrefix: ( /webkit/i ).test(navigator.appVersion) ? '-webkit-' :\n                      ( /firefox/i ).test(navigator.userAgent) ? '-moz-' :\n                      ( /trident/i ).test(navigator.userAgent) ? '-ms-' :\n                      'opera' in window ? '-o-' : ''\n    } : {\n        prefix      : '',\n        dashedPrefix: ''\n    },\n    __        = {\n        onPageHided      : [],\n        onPageShown      : [],\n        dragging         : [],\n        dragEnabled      : [],\n        dragEnabledDesc  : [],\n        fingers          : {},\n        nbFingers        : 0,\n        dragstartAnywhere: function ( e ) {\n            let o,\n                me            = __,\n                i             = me.dragEnabled.indexOf(this),\n                finger,\n                desc, fingers = [];\n            \n            if ( i === -1 ) {\n                return;\n            }\n            //e.preventDefault();\n            //e.stopPropagation();\n            \n            if ( !me.nbFingers ) {\n                Dom.addEvent(document,\n                             {\n                                 'touchmove': me.dragAnywhere,\n                                 'mousemove': me.dragAnywhere,\n                                 'touchend' : me.dropAnywhere,\n                                 'mouseup'  : me.dropAnywhere,\n                             });\n                Dom.addEvent(this,\n                             {\n                                 'click': me.dropWithoutClick\n                             }, null, null, null, true);\n            }\n            \n            if ( e.changedTouches && e.changedTouches.length ) {\n                fingers = e.changedTouches\n            }\n            else fingers.push(e);\n            \n            for ( let t = 0, ln = fingers.length; t < ln; t++ ) {\n                finger = fingers[ t ];\n                \n                \n                desc = me.dragEnabledDesc[ i ];\n                \n                if ( desc.nbFingers ) continue;\n                \n                me.nbFingers++;\n                \n                me.fingers[ finger.identifier ] = me.fingers[ finger.identifier ] || [];\n                me.fingers[ finger.identifier ].push(desc);\n                \n                \n                desc.nbFingers++;\n                \n                desc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n                desc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n                desc._startTs    = e.timeStamp;\n                \n                \n                desc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n                desc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n                \n                for ( o = 0; o < desc.dragstart.length; o++ )\n                    desc.dragstart[ o ][ 0 ].call(desc.dragstart[ o ][ 1 ] ||\n                                                  this, e, finger, desc);\n            }\n        },\n        dragAnywhere     : function ( e ) {\n            let o,\n                me              = __,\n                finger, fingers = [], stopped,\n                desc            = __.dragging[ 0 ];\n            \n            \n            if ( e.changedTouches && e.changedTouches.length ) {\n                fingers = e.changedTouches\n            }\n            else fingers.push(e);\n            \n            for ( let i = 0, ln = fingers.length; i < ln; i++ ) {\n                finger = fingers[ i ];\n                desc   = me.fingers[ finger.identifier ];\n                me.fingers[ finger.identifier ] &&\n                me.fingers[ finger.identifier ].forEach(\n                    desc => {\n                        if ( stopped ) {\n                            desc._lastPos.x = desc._startPos.x = _dom.prefix == 'MS'\n                                                                 ? finger.x\n                                                                 : finger.pageX;\n                            desc._lastPos.y = desc._startPos.y = _dom.prefix == 'MS'\n                                                                 ? finger.y\n                                                                 : finger.pageY;\n                            return;\n                        }\n                        desc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n                        desc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n                        \n                        for ( o = 0; o < desc.drag.length; o++ )\n                            stopped = desc.drag[ o ][ 0 ].call(desc.drag[ o ][ 1 ] || this, e,\n                                                               finger,\n                                                               desc) === false;\n                    }\n                )\n                \n            }\n        },\n        dropWithoutClick : function ( e ) {\n            if ( __.preventNextClick ) {\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                __.preventNextClick = false;\n            }\n            Dom.removeEvent(this,\n                            {\n                                'click': this.dropWithoutClick\n                            });\n        },\n        dropAnywhere     : function ( e ) {\n            let o,\n                me = __, finger, fingers = [],\n                prevent;\n            \n            if ( e.changedTouches && e.changedTouches.length ) {\n                fingers = e.changedTouches\n            }\n            else fingers.push(e);\n            \n            for ( let i = 0, ln = fingers.length; i < ln; i++ ) {\n                finger = fingers[ i ];\n                me.nbFingers--;\n                me.fingers[ finger.identifier ] &&\n                me.fingers[ finger.identifier ].forEach(\n                    desc => {\n                        \n                        \n                        desc.nbFingers--;\n                        prevent         = prevent || desc.mouseDrag && ( e.timeStamp - desc._startTs > 250 );\n                        desc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n                        desc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n                        \n                        for ( o = 0; o < desc.dropped.length; o++ )\n                            desc.dropped[ o ][ 0 ].call(desc.dropped[ o ][ 1 ] ||\n                                                        this, e,\n                                                        finger, desc);\n                        \n                        \n                    }\n                )\n                me.fingers[ finger.identifier ] = null;\n            }\n            if ( prevent ) {\n                me.preventNextClick = true;\n            }\n            if ( !me.nbFingers ) {\n                Dom.removeEvent(document,\n                                {\n                                    'touchmove': me.dragAnywhere,\n                                    'mousemove': me.dragAnywhere,\n                                    'touchend' : me.dropAnywhere,\n                                    'mouseup'  : me.dropAnywhere\n                                });\n            }\n        },\n        getDraggable     : function ( node, mouseDrag, touchDrag ) {\n            let i = this.dragEnabled.indexOf(node), desc;\n            if ( i === -1 ) {\n                this.dragEnabled.push(node);\n                this.dragEnabledDesc.push(\n                    desc = {\n                        mouseDrag,\n                        touchDrag,\n                        nbFingers: 0,\n                        locks    : 0,\n                        _startPos: {\n                            x: 0,\n                            y: 0\n                        },\n                        _lastPos : {\n                            x: 0,\n                            y: 0\n                        },\n                        dragstart: [],\n                        drag     : [],\n                        dragEnd  : [],\n                        dropped  : []\n                    }\n                );\n                //debugger;\n                Dom.addEvent(node,\n                             {\n                                 'mousedown' : mouseDrag && this.dragstartAnywhere,\n                                 'touchstart': touchDrag && this.dragstartAnywhere\n                             }, null, null, null, true);\n            }\n            else desc = this.dragEnabledDesc[ i ];\n            return desc;\n        },\n        freeDraggable    : function ( node ) {\n            let i = this.dragEnabled.indexOf(node), desc;\n            if ( i !== -1 ) {\n                this.dragEnabled.splice(i, 1);\n                this.dragEnabledDesc.splice(i, 1);\n                \n                Dom.removeEvent(node,\n                                {\n                                    'mousedown' : this.dragstartAnywhere,\n                                    'touchstart': this.dragstartAnywhere\n                                });\n            }\n        },\n        \n        addEvent   : function ( node, type, fn, bubble ) {\n            if ( node.addEventListener ) {\n                node.addEventListener(type, fn, bubble);\n            }\n            else if ( node.attachEvent ) {\n                node.attachEvent('on' + type,\n                                 fn.related = function ( e ) {\n                                     return fn.call(node, e);\n                                 });\n            }\n        },\n        removeEvent: function ( node, type, fn, bubble ) {\n            if ( node.removeEventListener ) {\n                node.removeEventListener(type, fn, bubble);\n            }\n            else if ( node.attachEvent ) {\n                node.detachEvent('on' + type, fn.related);\n            }\n        },\n        rmDragFn   : function ( arr, fn, scope ) {\n            for ( let i = 0, ln = arr.length; i < ln; i++ ) {\n                if ( arr[ i ][ 0 ] === fn )\n                    return arr.splice(i, 1);\n            }\n            \n            console.warn(\"Rm event : Listener not found !!\");\n        },\n    },\n    Dom       = {\n        addEvent   : function ( node, type, fn, mouseDrag, touchDrag = true, bubble ) {\n            if ( is.object(type) ) {\n                for ( let o in type )\n                    if ( type.hasOwnProperty(o) && type[ o ] )\n                        this.addEvent(node, o, type[ o ], mouseDrag, touchDrag, bubble);\n                return;\n            }\n            else if ( type === 'dragstart' ) {\n                __.getDraggable(node, mouseDrag, touchDrag).dragstart.push([fn]);\n            }\n            else if ( type === 'drag' ) {\n                __.getDraggable(node, mouseDrag, touchDrag).drag.push([fn]);\n            }\n            else if ( type === 'dropped' ) {\n                __.getDraggable(node, mouseDrag, touchDrag).dropped.push([fn]);\n            }\n            else {\n                if ( node.addEventListener ) {\n                    node.addEventListener(type, fn, { passive: false });\n                }\n                else if ( node.attachEvent ) {\n                    node.attachEvent('on' + type,\n                                     fn.related = function ( e ) {\n                                         return fn.call(node, e);\n                                     });\n                }\n            }\n            \n        },\n        removeEvent: function ( node, type, fn, scope, bubble ) {\n            let i, desc;\n            \n            if ( is.object(type) ) {\n                for ( let o in type )\n                    if ( type.hasOwnProperty(o) )\n                        this.removeEvent(node, o, type[ o ], scope);\n                \n            }\n            else if ( /^(drag|drop)/.test(type) ) {\n                desc = __.getDraggable(node);\n                __.rmDragFn(desc[ type ], fn, scope);\n                if ( !desc.dragstart.length\n                     && !desc.drag.length\n                     && !desc.dragEnd.length\n                     && !desc.dropped.length )\n                    __.freeDraggable(node);\n            }\n            else {\n                if ( node.removeEventListener ) {\n                    node.removeEventListener(type, fn, bubble);\n                }\n                else if ( node.attachEvent ) {\n                    node.detachEvent('on' + type, fn.related);\n                }\n            }\n            \n        },\n        offset     : function ( elem ) {// @todo\n            let dims = {\n                top   : 0,\n                left  : 0,\n                width : elem.offsetWidth,\n                height: elem.offsetHeight\n            };\n            while ( elem ) {\n                dims.top  = dims.top + parseInt(elem.offsetTop);\n                dims.left = dims.left + parseInt(elem.offsetLeft);\n                elem      = elem.offsetParent;\n            }\n            return dims;\n        },\n        \n        \n        /**\n         * Find the react component that generate element dom node\n         * @param element\n         * @returns {[React.Component]}\n         */\n        findReactParents( element ) {\n            let fiberNode, comps = [element];\n            for ( const key in element ) {\n    \n                if ( key.startsWith('__reactInternalInstance$') || key.startsWith('__reactFiber$') ) {\n                    fiberNode = element[ key ];\n                    while ( fiberNode.return ) {\n                        if ( fiberNode.stateNode && !comps.includes(fiberNode.stateNode) )\n                            comps.push(fiberNode.stateNode)\n                        fiberNode = fiberNode.return;\n                    }\n                    return comps;\n                }\n            }\n            return element.parentNode && this.findReactParents(element.parentNode);\n        }\n        \n    };\nexport default Dom;","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is        from \"is\";\nimport tweenAxis from \"tween-axis\";\n\n\nconst recyclableTweenAxis = [];\n\n/**\n * Override the TweenAxis Objects to automatically deal with recycling\n */\nexport default class CssTweenAxis extends tweenAxis {\n\t\n\tconstructor( cfg, scope ) {\n\t\tif ( recyclableTweenAxis.length ) {\n\t\t\tlet recyled   = recyclableTweenAxis.pop();\n\t\t\trecyled.scope = scope;\n\t\t\tif ( is.array(cfg) ) {\n\t\t\t\trecyled.localLength = 1;\n\t\t\t\trecyled.mount(cfg, scope);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( cfg.Axis )\n\t\t\t\t\trecyled.mount(cfg.Axis, scope);\n\t\t\t}\n\t\t\treturn recyled;\n\t\t}\n\t\tsuper(...arguments)\n\t}\n\t\n\tdestroy() {\n\t\t\n\t\tthis.scope                  = undefined;\n\t\tthis.__marks.length         = 0;\n\t\tthis.__marksLength.length   = 0;\n\t\tthis.__marksKeys.length     = 0;\n\t\tthis.__processors.length    = 0;\n\t\tthis.__config.length        = 0;\n\t\tthis.__activeForks.length   = 0;\n\t\tthis.__activeProcess.length = 0;\n\t\t\n\t\tthis.__activeProcess.length = 0;\n\t\tthis.__outgoing.length      = 0;\n\t\tthis.__incoming.length      = 0;\n\t\tthis.__cPos                 = 0;\n\t\tthis.duration               = 0;\n\t\tthis.__cIndex               = 0;\n\t\tthis.__cMaxKey              = 1;\n\t\trecyclableTweenAxis.push(this);\n\t}\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst\n\tis       = require('is'),\n\teasingFn = require('d3-ease'),\n\tsignOf   = function sign( x ) {\n\t\treturn typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? x : NaN : NaN;\n\t},\n\tabs      = Math.abs,\n\tfloor    = Math.floor,\n\tround    = Math.round,\n\tmin      = Math.min,\n\tmax      = Math.max,\n\tfloatCut = ( v = 0 ) => v.toFixed(3),\n\tconsts   = {\n\t\tvelocityResetTm: .150,\n\t\tclickTm        : 250\n\t};\n\n\n/**\n * Predict inertia dist & target basing velocity\n * @param _\n */\nexport function applyInertia( _ ) {\n\tlet velSign = signOf(_.lastVelocity);\n\t\n\tif ( _.disabled ) {\n\t\t_.loopsTarget    = 0;\n\t\t_.loopsVelSum    = 0;\n\t\t_.targetDist     = 0;\n\t\t_.targetDuration = 0;\n\t}\n\telse {\n\t\t// calc momentum distance...\n\t\t// get nb loop needed to get vel < .05\n\t\t_.loopsTarget = floor(Math.log(.05 / abs(_.lastVelocity)) / Math.log(.9));\n\t\t\n\t\t// get velocity sum basing on nb loops needed\n\t\t_.loopsVelSum = (Math.pow(.9, _.loopsTarget) - abs(_.lastVelocity)) / (.9 - 1);\n\t\t\n\t\t// deduce real dist of momentum\n\t\t_.targetDist     = (_.loopsVelSum * _.refFPS * velSign) / 1000 || 0;\n\t\t_.targetDuration = abs(_.loopsTarget * _.refFPS * velSign) || 0;\n\t\t//console.warn(\" _.targetDist\", _.targetDist, _.lastVelocity);\n\t}\n}\n\n/**\n * Main inertia class\n * @type {module.exports}\n */\nexport default class Inertia {\n\tstatic config = {\n\t\tbounds      : true,\n\t\tsnapToBounds: true\n\t};\n\t\n\tconstructor( opt ) {\n\t\tlet _  = this._ = {};\n\t\t_.conf = {\n\t\t\t...this.constructor.config,\n\t\t\t...opt\n\t\t};\n\t\t\n\t\tthis.active           = false;\n\t\t_.pos                 = opt.value || 0;\n\t\t_.refFPS              = 16;\n\t\t_.min                 = opt.min || 0;\n\t\t_.max                 = opt.max || 0;\n\t\t_.currentStop         = 0;\n\t\t_.lastInertiaPos      = 0;\n\t\t_.stops               = _.conf.stops;\n\t\t_.disabled            = _.conf.disabled;\n\t\t_.wayPoints           = _.conf.wayPoints;\n\t\t_.inertiaFn           = easingFn.easePolyOut;\n\t\t_.targetWayPointIndex = 0;\n\t\t\n\t\tthis._detectCurrentSnap();\n\t}\n\t\n\tupdateConf( opt ) {\n\t\tlet _             = this._;\n\t\t_.min             = opt.min || 0;\n\t\t_.max             = opt.max || 0;\n\t\t_.stops           = opt.stops;\n\t\t_.disabled        = opt.disabled;\n\t\t_.wayPoints       = opt.wayPoints;\n\t\t_.conf.willStop   = opt.willStop;\n\t\t_.conf.willSnap   = opt.willSnap;\n\t\t_.conf.shouldLoop = opt.shouldLoop;\n\t}\n\t\n\tstartMove() {\n\t\tlet _          = this._;\n\t\t_.baseTS       = _.startTS = Date.now() / 1000;\n\t\t_.lastVelocity = _.lastIVelocity = 0;\n\t\t_.lastAccel    = 0;\n\t\t_.posDiff      = 0;\n\t\t_.loopsDiff    = 0;\n\t\tthis.active    = true;\n\t\tthis.holding   = true;\n\t\t_.inertia      = false;\n\t}\n\t\n\thold( nextPos ) {\n\t\tlet _            = this._,\n\t\t    delta        = _.lastHoldPos !== undefined ? nextPos - _.lastHoldPos : 0,\n\t\t    loop,\n\t\t    now          = Date.now() / 1000,//e.timeStamp,\n\t\t    sinceLastPos = (now - _.baseTS),\n\t\t    pos          = nextPos,//_.lastHoldPos + delta,\n\t\t    iVel         = delta / sinceLastPos;\n\t\t\n\t\t_.lastHoldPos = nextPos;\n\t\t//if (is.nan(pos))\n\t\t//\tdebugger\n\t\t\n\t\tif ( !_.lastBaseTs ) {// create base pts\n\t\t\t_.lastBasePos = nextPos;\n\t\t\t_.lastBaseTs  = _.baseTS;\n\t\t}\n\t\t\n\t\tif ( sinceLastPos < .003 ) {\n\t\t\t//console.log(\"hold fast\", delta, _.baseTS, sinceLastPos);\n\t\t\t// skip/ignore\n\t\t}\n\t\telse if (// direction changed for velocityResetTm\n\t\t\t(\n\t\t\t\t(iVel <= 0 && _.lastVelocity > 0)\n\t\t\t\t||\n\t\t\t\t(iVel >= 0 && _.lastVelocity < 0)\n\t\t\t\t||\n\t\t\t\tabs(iVel) < abs(_.lastVelocity * 0.2)\n\t\t\t) &&\n\t\t\t(now - _.lastBaseTs) > consts.velocityResetTm\n\t\t) {\n\t\t\t//console.log(\"reset\", _.lastBaseTs, _.lastVelocity);\n\t\t\t_.lastBasePos    = nextPos;\n\t\t\t_.lastBaseTs     = now;\n\t\t\t_.lastVelocity   = 0;\n\t\t\t_.lastIVelocity  = 0;\n\t\t\t_.baseTS         = now;\n\t\t\t_.targetDist     = 0;\n\t\t\t_.lastInertiaPos = 0;\n\t\t}\n\t\telse if (// dir changed fast\n\t\t\t(iVel <= 0 && _.lastVelocity > 0)\n\t\t\t||\n\t\t\t(iVel >= 0 && _.lastVelocity < 0)\n\t\t\t||\n\t\t\tabs(iVel) < abs(_.lastVelocity * 0.2)\n\t\t) {\n\t\t\t//ignore\n\t\t}\n\t\telse {\n\t\t\t_.lastIVelocity = iVel;\n\t\t\t_.lastVelocity  = ((pos) - (_.lastBasePos)) / (now - _.lastBaseTs);\n\t\t\t//if ( _.lastVelocity < -50 )\n\t\t\t//\tdebugger\n\t\t\t_.baseTS              = now;\n\t\t\t_.targetDist          = 0;\n\t\t\t_.lastInertiaPos      = 0;\n\t\t\t// clear snap\n\t\t\t_.targetWayPoint      = undefined;\n\t\t\t_.targetWayPointIndex = undefined;\n\t\t}\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( pos > _.max ) {\n\t\t\t\tpos = _.max// + min((pos - _.max) / 10, 10);\n\t\t\t}\n\t\t\telse if ( pos < _.min ) {\n\t\t\t\tpos = _.min// - min((_.min - pos) / 10, 10);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\twhile ( (loop = _.conf.shouldLoop(pos, delta)) ) {\n\t\t\t\tpos += loop;\n\t\t\t}\n\t\t}\n\t\t_.pos = pos;\n\t\t\n\t}\n\t\n\trelease() {\n\t\tlet _       = this._,\n\t\t    velSign = signOf(_.lastVelocity);\n\t\t\n\t\tthis.holding = false;\n\t\t\n\t\t// calc momentum distance...\n\t\tapplyInertia(_);\n\t\t\n\t\t_.lastHoldPos = undefined;\n\t\t\n\t\t_.lastBasePos = undefined;\n\t\t_.lastBaseTs  = undefined;\n\t\t_.holding     = false;\n\t\t\n\t\t//if ( _.conf.shouldLoop ) {\n\t\t//\tlet loop, nPos=_.pos + _.targetDist;\n\t\t//\twhile ( (loop = _.conf.shouldLoop(nPos, 0)) ) {\n\t\t//\t\tnPos += loop;\n\t\t//\t\tif ( _.inertia ) {\n\t\t//\t\t\t//_.targetDist+=loop;\n\t\t//\t\t\t//_.lastInertiaPos+=loop;\n\t\t//\t\t}\n\t\t//\t\t//this.teleport(loop);\n\t\t//\t}\n\t\t//\tif (nPos!==_.pos + _.targetDist)\n\t\t//}\n\t\tif ( _.conf.bounds && _.conf.snapToBounds ) {\n\t\t\tif ( (_.pos + _.targetDist) > _.max ) {\n\t\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t\telse if ( (_.pos + _.targetDist) < _.min ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.min - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t}\n\t\t//else {\n\t\tif ( !_.targetDuration )\n\t\t\t_.targetDuration = 50;\n\t\t\n\t\t//console.log(_);\n\t\tthis.active      = true;\n\t\t_.inertia        = true;\n\t\t_.lastInertiaPos = 0;\n\t\t_.inertiaStartTm =\n\t\t\t_.inertiaLastTm = Date.now();\n\t\t\n\t\t\n\t\t//}\n\t\tthis._doSnap(null, 500)\n\t\t_.conf.willEnd?.(_.targetDist + _.pos, _.targetDist, _.targetDuration);\n\t}\n\t\n\tupdate( at = Date.now() ) {\n\t\tlet _   = this._, nextValue, loop;\n\t\tlet\n\t\t\tpos = _.inertiaFn((at - _.inertiaStartTm) / _.targetDuration) * _.targetDist;\n\t\t\n\t\tif ( !_.inertia ) {\n\t\t\t//if ( _.conf.shouldLoop ) {\n\t\t\t//\twhile ( (loop = _.conf.shouldLoop(_.pos, 0)) ) {\n\t\t\t//\t\tthis.teleport(loop);\n\t\t\t//\t}\n\t\t\t//}\n\t\t\treturn _.pos;\n\t\t}\n\t\tlet\n\t\t\tdelta        = pos - _.lastInertiaPos;\n\t\t_.lastInertiaPos = pos;\n\t\t\n\t\tif ( (at - _.inertiaStartTm) >= _.targetDuration ) {\n\t\t\t_.inertia        = this.active = false;\n\t\t\t_.lastInertiaPos = delta = 0;\n\t\t\t_.targetDist     = 0;\n\t\t\tif ( _.targetWayPoint ) {\n\t\t\t\tdelta                  = _.targetWayPoint.at - _.pos;\n\t\t\t\t//console.log(\"snap done \", _.targetWayPoint, _.pos + delta);\n\t\t\t\t_.currentWayPoint      = _.targetWayPoint;\n\t\t\t\t_.currentWayPointIndex = _.targetWayPointIndex;\n\t\t\t\t_.targetWayPoint       = null;\n\t\t\t\t_.targetWayPointIndex  = null;\n\t\t\t\t//_.lastSnapTm           = Date.now();\n\t\t\t}\n\t\t\t\n\t\t\tif ( _.conf.onInertiaEnd ) {\n\t\t\t\t_.conf.onInertiaEnd(_.pos, _.currentWayPoint)\n\t\t\t}\n\t\t}\n\t\t\n\t\tdelta     = delta || 0;\n\t\t//console.log(_.pos + delta);\n\t\tnextValue = _.pos + delta;\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\tlet t = nextValue;\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue, delta)) ) {\n\t\t\t\t//console.warn(\"loop update\", loop, nextValue);\n\t\t\t\tnextValue += loop;\n\t\t\t\tif ( _.inertia ) {\n\t\t\t\t\t//_.targetDist+=loop;\n\t\t\t\t\t//_.lastInertiaPos+=loop;\n\t\t\t\t}\n\t\t\t\t//this.teleport(loop);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = nextValue;\n\t\t\n\t\treturn nextValue;\n\t}\n\t\n\tsetPos( pos ) {\n\t\tlet _            = this._, nextValue;\n\t\t_.inertia        = false;\n\t\tthis.active      = false;\n\t\t_.lastInertiaPos = 0;\n\t\t_.targetDist     = 0;\n\t\t_.inertiaStartTm = 0;\n\t\t_.inertiaLastTm  = 0;\n\t\t_.targetDuration = 0;\n\t\t\n\t\tif ( _.conf.shouldLoop ) {\n\t\t\tlet loop, nextValue = pos;\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue, _.pos - pos)) ) {\n\t\t\t\tnextValue += loop;\n\t\t\t\t//this.teleport(loop);\n\t\t\t\t//console.warn(\"loop update\", nextValue, pos);\n\t\t\t}\n\t\t\tpos = nextValue;\n\t\t}\n\t\t_.pos = pos;\n\t\tif ( _.conf.bounds ) {\n\t\t\t_.pos = max(_.pos, _.min);\n\t\t\t_.pos = min(_.pos, _.max);\n\t\t}\n\t}\n\t\n\tsetWayPoints( wayPoints ) {\n\t\tlet _       = this._, nextValue;\n\t\t_.wayPoints = wayPoints;\n\t\tthis._detectCurrentSnap();\n\t}\n\t\n\tteleport( loopDist ) {\n\t\tlet _ = this._, nextValue;\n\t\tif ( !_.inertia )\n\t\t\treturn _.pos += loopDist;\n\t\t\n\t\t//_.lastInertiaPos += loopDist;\n\t\t_.pos += loopDist\n\t\t//console.log(\"setPos\", _.lastInertiaPos);\n\t}\n\t\n\tdispatch( delta, tm = 500 ) {\n\t\tlet _   = this._,\n\t\t    now = Date.now(),\n\t\t    pos;\n\t\t\n\t\tthis.active = true;\n\t\t\n\t\t// if no inertia has started || if direction has change\n\t\tif ( !_.inertia || signOf(delta) !== signOf(_.targetDist) ) {\n\t\t\t_.inertia        = true;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = now;\n\t\t\t\n\t\t\t_.targetDist     = delta;\n\t\t\t_.targetDuration = tm;\n\t\t}\n\t\telse {\n\t\t\t//_.inertiaStartTm =\n\t\t\t//_.inertiaLastTm = now;\n\t\t\t//_.lastInertiaPos = 0;\n\t\t\t_.targetDist += delta;\n\t\t\t_.targetDuration += tm / 2;\n\t\t}\n\t\t//\n\t\t//if ( _.conf.maxJump ) {\n\t\t//\n\t\t//}\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( (_.pos + _.targetDist) > _.max ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t\telse if ( (_.pos + _.targetDist) < _.min ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.min - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t}\n\t\tthis._doSnap(signOf(delta), 750)\n\t}\n\t\n\t\n\t_detectCurrentSnap() {\n\t\tlet _   = this._,\n\t\t    pos = _.pos,\n\t\t    i;\n\t\t\n\t\tif ( _.wayPoints && _.wayPoints.length ) {\n\t\t\tfor ( i = 0; i < _.wayPoints.length; i++ )\n\t\t\t\tif ( floatCut(_.wayPoints[i].at) === floatCut(pos) ) {\n\t\t\t\t\t_.currentWayPoint      = _.wayPoints[i];\n\t\t\t\t\t_.currentWayPointIndex = i;\n\t\t\t\t\t//console.warn(\"snap set\", i);\n\t\t\t\t\t\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t}\n\t}\n\t\n\t_doSnap( forceSnap, maxDuration = 2000 ) {\n\t\tlet _       = this._,\n\t\t    pos     = _.targetDist + (_.pos - (_.lastInertiaPos || 0)),\n\t\t    lPos    = pos,\n\t\t    loopDec = 0,\n\t\t    target,\n\t\t    mid,\n\t\t    i,\n\t\t    loop;\n\t\t\n\t\tif ( _.wayPoints && _.wayPoints.length ) {\n\t\t\t\n\t\t\t// apply loops to do to find the final wayPoint\n\t\t\tif ( _.conf.shouldLoop ) {\n\t\t\t\twhile ( (loop = _.conf.shouldLoop(lPos, 0)) ) {\n\t\t\t\t\tlPos += loop;\n\t\t\t\t\tloopDec += loop;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tfor ( i = 0; i < _.wayPoints.length; i++ )\n\t\t\t\tif ( _.wayPoints[i].at > lPos )\n\t\t\t\t\tbreak;\n\t\t\t\n\t\t\tif ( i === _.wayPoints.length ) {\n\t\t\t\ti--\n\t\t\t}\n\t\t\telse if ( i === 0 ) {\n\t\t\t\ti = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmid = (_.wayPoints[i].at - _.wayPoints[i - 1].at) / 2;\n\t\t\t\tmid = _.wayPoints[i - 1].at + (mid * ((_.wayPoints[i].gravity || 1) / (_.wayPoints[i - 1].gravity || 1)));\n\t\t\t\t\n\t\t\t\tif ( forceSnap ) forceSnap < 0 && i--;\n\t\t\t\telse if ( lPos < mid ) i--;\n\t\t\t}\n\t\t\t\n\t\t\tif ( _.conf.maxJump && is.number(_.currentWayPointIndex) ) {\n\t\t\t\tlet d = (i - _.currentWayPointIndex);\n\t\t\t\t//console.log('Inertia::_doSnap:154: ', i, d);\n\t\t\t\tif ( abs(d) > _.conf.maxJump ) {\n\t\t\t\t\t//console.log('max: ', i, d);\n\t\t\t\t\ti = _.currentWayPointIndex + signOf(d) * _.conf.maxJump;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttarget = _.wayPoints[i].at;\n\t\t\t\n\t\t\tif ( _.conf.willSnap ) {\n\t\t\t\t_.conf.willSnap(i, _.wayPoints[i]);\n\t\t\t}\n\t\t\t\n\t\t\t_.lastInertiaPos      = _.lastInertiaPos || 0;\n\t\t\ttarget                = target - (_.pos - _.lastInertiaPos) - loopDec;\n\t\t\t_.targetDuration      = max(50, min(maxDuration, abs((_.targetDuration / _.targetDist) * target))) || 0;\n\t\t\t//console.log(\"do snap\", i, target, loopDec);\n\t\t\t_.targetDist          = target;\n\t\t\t_.targetWayPoint      = _.wayPoints[i];\n\t\t\t_.targetWayPointIndex = i;\n\t\t}\n\t\telse {\n\t\t\ttarget = ~~(_.pos - _.lastInertiaPos);\n\t\t\t\n\t\t\tif ( !_.conf.infinite ) {\n\t\t\t\tif ( target > _.max ) {\n\t\t\t\t\ttarget           = _.max - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t\telse if ( target < _.min ) {\n\t\t\t\t\ttarget           = _.min - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tsetBounds( min, max ) {\n\t\tlet _ = this._;\n\t\t//console.log('Inertia::setBounds:245: ', min, max);\n\t\t_.min = min;\n\t\t_.max = max;\n\t}\n\t\n\tisInbound( nextPos ) {\n\t\tlet _     = this._, loop,\n\t\t    delta = _.lastHoldPos !== undefined ? nextPos - _.lastHoldPos : 0,\n\t\t    pos   = (_.targetDist || 0) + (_.pos - (_.lastInertiaPos || 0)) + delta;\n\t\t//if ( _.conf.infinite ) return false;\n\t\t//\n\t\t//if ( _.conf.shouldLoop ) {\n\t\t//\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n\t\t//!(pos >= _.min && pos <= _.max) && console.warn(\"out\", _.pos, pos, delta);\n\t\t//\t\tpos += loop;\n\t\t//\t}\n\t\t//}\n\t\treturn pos >= _.min && pos <= _.max;\n\t}\n\t\n}\n","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2020. Nathanael Braun\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport * as easingFn                                          from \"d3-ease\";\r\nimport deepEqual                                              from \"fast-deep-equal\";\r\nimport is                                                     from \"is\";\r\nimport React                                                  from \"react\";\r\nimport ReactDom                                               from \"react-dom\";\r\nimport TweenerContext\r\n                                                              from \"../comps/TweenerContext\";\r\nimport {clearTweenableValue, deMuxLine, deMuxTween, muxToCss} from \"../utils/css\";\r\nimport tweenAxis\r\n                                                              from \"../utils/CssTweenAxis\";\r\nimport domUtils                                               from \"../utils/dom\";\r\nimport Inertia                                                from '../utils/inertia';\r\n\r\n\r\nlet isBrowserSide           = (new Function(\"try {return this===window;}catch(e){ return false;}\"))(),\r\n    isArray                 = is.array,\r\n    _live, lastTm, _running = [];\r\n\r\n\r\nconst Runner = {\r\n\trun  : function ( tl, ctx, duration, cb ) {\r\n\t\tlet apply = ( pos, size ) => tl.go(pos / size, ctx);\r\n\t\t_running.push({ apply, duration, cpos: 0, cb });\r\n\t\ttl.go(0, ctx, true);//reset tl\r\n\t\t\r\n\t\tif ( !_live ) {\r\n\t\t\t_live  = true;\r\n\t\t\tlastTm = Date.now();\r\n\t\t\t// console.log(\"TL runner On\");\r\n\t\t\tsetTimeout(this._tick, 16);\r\n\t\t}\r\n\t},\r\n\t_tick: function _tick() {\r\n\t\tlet i  = 0, o, tm = Date.now(), delta = tm - lastTm;\r\n\t\tlastTm = tm;\r\n\t\tfor ( ; i < _running.length; i++ ) {\r\n\t\t\t_running[i].cpos = Math.min(delta + _running[i].cpos, _running[i].duration);//cpos\r\n\t\t\t_running[i].apply(\r\n\t\t\t\t_running[i].cpos, _running[i].duration\r\n\t\t\t);\r\n\t\t\t// console.log(\"TL runner \",_running[i][3]);\r\n\t\t\tif ( _running[i].cpos == _running[i].duration ) {\r\n\t\t\t\t\r\n\t\t\t\t_running[i].cb && setTimeout(_running[i].cb);\r\n\t\t\t\t_running.splice(i, 1), i--;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tif ( _running.length )\r\n\t\t\tsetTimeout(_tick, 16);\r\n\t\telse {\r\n\t\t\t// console.log(\"TL runner Off\");\r\n\t\t\t_live = false;\r\n\t\t}\r\n\t},\r\n};\r\n/**\r\n * The main tweener component\r\n */\r\nexport default class Tweener extends React.Component {\r\n\t\r\n\tconstructor( props ) {\r\n\t\tsuper(...arguments);\r\n\t\tlet _                 = this._ = {\r\n\t\t\trefs       : {},\r\n\t\t\tmuxByTarget: {},\r\n\t\t};\r\n\t\t_.box                 = {\r\n\t\t\tx: 100,\r\n\t\t\ty: 100,\r\n\t\t\tz: 800\r\n\t\t};\r\n\t\tthis.__isTweener      = true;\r\n\t\t_._rafLoop            = this._rafLoop.bind(this);\r\n\t\t_.rootRef             = this.props.forwardedRef || React.createRef();\r\n\t\t_.options             = {\r\n\t\t\tmaxClickTm    : 200,\r\n\t\t\tmaxClickOffset: 5,\r\n\t\t\t...(props.tweenerOptions || {})\r\n\t\t};\r\n\t\t_.tweenRefCSS         = {};\r\n\t\t_.tweenRefs           = {};\r\n\t\t_.tweenRefMaps        = {};\r\n\t\t_.iMapOrigin          = {};\r\n\t\t_.tweenRefInitialData = {};\r\n\t\t_.tweenEnabled        = true;\r\n\t\t_.tweenRefOrigin      = {};\r\n\t\t_.tweenRefOriginCss   = {};\r\n\t\t_.muxDataByTarget     = _.muxDataByTarget || {};\r\n\t\t_.tweenRefDemuxed     = _.tweenRefDemuxed || {};\r\n\t\t_.tweenRefTargets     = _.tweenRefTargets || [];\r\n\t\t_.runningAnims        = _.runningAnims || [];\r\n\t\t\r\n\t\t_.scrollHook    = [];\r\n\t\t_.activeInertia = [];\r\n\t\tisBrowserSide && window.addEventListener(\r\n\t\t\t\"resize\",\r\n\t\t\tthis._.onResize = ( e ) => {//@todo\r\n\t\t\t\tthis._updateBox();\r\n\t\t\t\tthis._updateTweenRefs();\r\n\t\t\t\t_.rootRef?.current?.windowDidResize?.(e);\r\n\t\t\t});\r\n\t}\r\n\t\r\n\taxes = {};\r\n\t\r\n\t// ------------------------------------------------------------\r\n\t// -------------------- TweenRefs utils -----------------------\r\n\t// ------------------------------------------------------------\r\n\t\r\n\t/**\r\n\t * Register tweenable element\r\n\t * return its current style\r\n\t * @param id\r\n\t * @param iStyle\r\n\t * @param iMap\r\n\t * @param pos\r\n\t * @param noref\r\n\t * @param mapReset\r\n\t * @returns {style,ref}\r\n\t */\r\n\ttweenRef( id, iStyle = {}, iMap = {}, pos, noref, mapReset ) {// ref initial style\r\n\t\t\r\n\t\t\r\n\t\tlet _            = this._,\r\n\t\t    tweenableMap = {};\r\n\t\t\r\n\t\tlet initials = {};\r\n\t\tif ( !_.tweenRefs[id] )\r\n\t\t\t_.tweenRefTargets.push(id);\r\n\t\t\r\n\t\t//debugger\r\n\t\t//console.warn('ref ', id, { ...iMap })\r\n\t\t\r\n\t\tif ( _.tweenRefs[id] && (\r\n\t\t\tmapReset\r\n\t\t\t|| (_.iMapOrigin[id] !== iMap && !deepEqual(iMap, _.iMapOrigin[id]))\r\n\t\t\t|| (_.tweenRefOriginCss[id] !== iStyle && !deepEqual(iStyle, _.tweenRefOriginCss[id]))\r\n\t\t) ) {\r\n\t\t\t// hot switch initial values\r\n\t\t\t//console.warn('ref exist & style is !==', id, iStyle,\r\n\t\t\t//             _.tweenRefOriginCss[id], mapReset)\r\n\t\t\t_.iMapOrigin[id]        = iMap;\r\n\t\t\t_.tweenRefOriginCss[id] = iStyle;\r\n\t\t\tiStyle                  = iStyle || {};\r\n\t\t\tiMap                    = iMap || {};\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id], false, true) };\r\n\t\t\t\r\n\t\t\t//console.log(\"update ref\", id)\r\n\t\t\t\r\n\t\t\t// minus initial values\r\n\t\t\tObject.keys(_.tweenRefOrigin[id])\r\n\t\t\t      .forEach(\r\n\t\t\t\t      key => (_.tweenRefMaps[id][key] -= _.tweenRefOrigin[id][key])\r\n\t\t\t      );\r\n\t\t\t// set defaults values in case of\r\n\t\t\tObject.keys(initials)\r\n\t\t\t      .forEach(\r\n\t\t\t\t      key => (_.tweenRefMaps[id][key] = is.number(_.tweenRefMaps[id][key])\r\n\t\t\t\t                                        ? _.tweenRefMaps[id][key]\r\n\t\t\t\t                                        : initials[key])\r\n\t\t\t      );\r\n\t\t\t// add new initial values\r\n\t\t\tObject.keys(tweenableMap)\r\n\t\t\t      .forEach(\r\n\t\t\t\t      key => (_.tweenRefMaps[id][key] += tweenableMap[key])\r\n\t\t\t      );\r\n\t\t\t\r\n\t\t\tObject.keys(_.tweenRefOrigin[id])// unset\r\n\t\t\t      .forEach(\r\n\t\t\t\t      key => {\r\n\t\t\t\t\t      clearTweenableValue(key, key, _.tweenRefMaps[id], _.tweenRefCSS[id], _.muxDataByTarget[id], _.muxByTarget[id])\r\n\t\t\t\t      }\r\n\t\t\t      );\r\n\t\t\t_.tweenRefOrigin[id] = { ...tweenableMap };\r\n\t\t\t\r\n\t\t\tmuxToCss(_.tweenRefMaps[id], _.tweenRefCSS[id], _.muxByTarget[id], _.muxDataByTarget[id], _.box);\r\n\t\t\tthis._updateTweenRef(id, true);\r\n\t\t}\r\n\t\telse if ( !_.tweenRefs[id] ) {\r\n\t\t\t//console.log(\"init ref\", id)\r\n\t\t\t\r\n\t\t\t_.iMapOrigin[id] = iMap;\r\n\t\t\tiStyle           = iStyle || {};\r\n\t\t\tiMap             = iMap || {};\r\n\t\t\t\r\n\t\t\t_.tweenRefs[id]       = true;\r\n\t\t\t_.muxByTarget[id]     = _.muxByTarget[id] || {};\r\n\t\t\t_.muxDataByTarget[id] = _.muxDataByTarget[id] || {};\r\n\t\t\t\r\n\t\t\t_.tweenRefOriginCss[id] = iStyle;\r\n\t\t\t\r\n\t\t\t_.tweenRefMaps[id] = _.tweenRefMaps[id] || {};\r\n\t\t\tif ( _.tweenRefOrigin[id] ) {\r\n\t\t\t\t//debugger\r\n\t\t\t\t// minus initial values from axis pre init\r\n\t\t\t\t//Object.keys(_.tweenRefOrigin[id])\r\n\t\t\t\t//      .forEach(\r\n\t\t\t\t//\t      key => (_.tweenRefMaps[id][key] -= _.tweenRefOrigin[id][key])\r\n\t\t\t\t//      );\r\n\t\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id], false, true) };\r\n\t\t\t\t\r\n\t\t\t\t//// set defaults values in case of\r\n\t\t\t\tObject.keys(initials)\r\n\t\t\t\t      .forEach(\r\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] = is.number(_.tweenRefMaps[id][key])\r\n\t\t\t\t\t                                        ? _.tweenRefMaps[id][key] - initials[key]\r\n\t\t\t\t\t                                        : 0)\r\n\t\t\t\t      );\r\n\t\t\t\t//// add new initial values\r\n\t\t\t\tObject.keys(tweenableMap)\r\n\t\t\t\t      .forEach(\r\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] += tweenableMap[key])\r\n\t\t\t\t      );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tiStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[id], _.muxByTarget[id]) };\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// init / reset or get the tweenable view\r\n\t\t\t\ttweenableMap = Object.assign({}, initials, tweenableMap || {});\r\n\t\t\t\t\r\n\t\t\t\t// set defaults values in case of\r\n\t\t\t\t// add new initial values\r\n\t\t\t\tObject.keys(tweenableMap)\r\n\t\t\t\t      .forEach(\r\n\t\t\t\t\t      key => (_.tweenRefMaps[id][key] = (_.tweenRefMaps[id][key] || 0) + tweenableMap[key])\r\n\t\t\t\t      );\r\n\t\t\t}\r\n\t\t\t_.tweenRefOrigin[id] = { ...tweenableMap };\r\n\t\t\t_.tweenRefCSS[id]    = iStyle;\r\n\t\t\ttweenableMap         = _.tweenRefMaps[id];\r\n\t\t\tmuxToCss(tweenableMap, iStyle, _.muxByTarget[id], _.muxDataByTarget[id], _.box);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//console.log(\"maj ref\", id)\r\n\t\t\t\r\n\t\t\tmuxToCss(_.tweenRefMaps[id], _.tweenRefCSS[id], _.muxByTarget[id], _.muxDataByTarget[id], _.box);\r\n\t\t}\r\n\t\t//console.log('tweenRef::tweenRef:519: ', id, { ..._.muxDataByTarget[id] }, {\r\n\t\t// ..._.tweenRefCSS[id] });\r\n\t\tif ( noref )\r\n\t\t\treturn {\r\n\t\t\t\tstyle: { ..._.tweenRefCSS[id] }\r\n\t\t\t};\r\n\t\telse\r\n\t\t\treturn {\r\n\t\t\t\tstyle: { ..._.tweenRefCSS[id] },\r\n\t\t\t\tref  : node => (_.refs[id] = node)\r\n\t\t\t};\r\n\t}\r\n\t\r\n\t/**\r\n\t * Delete tweenable element\r\n\t * @param id\r\n\t */\r\n\trmTweenRef( id ) {\r\n\t\tif ( this._.tweenRefs[id] ) {\r\n\t\t\tthis._.tweenRefTargets.splice(this._.tweenRefTargets.indexOf(id), 1);\r\n\t\t\tdelete this._.tweenRefs[id];\r\n\t\t\tdelete this._.muxByTarget[id];\r\n\t\t\tdelete this._.muxDataByTarget[id];\r\n\t\t\tdelete this._.iMapOrigin[id];\r\n\t\t\tdelete this._.tweenRefOrigin[id];\r\n\t\t\tdelete this._.tweenRefCSS[id];\r\n\t\t\tdelete this._.tweenRefMaps[id];\r\n\t\t\tdelete this._.refs[id];\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Reset tweenRefs\r\n\t * @param targets\r\n\t */\r\n\tresetTweenable( ...targets ) {\r\n\t\tlet _ = this._;\r\n\t\ttargets.forEach(\r\n\t\t\t( t ) => {\r\n\t\t\t\tthis.tweenRef(t, _.tweenRefOriginCss[t], _.iMapOrigin[t], null, null, true)\r\n\t\t\t}\r\n\t\t);\r\n\t\tthis._updateTweenRefs();\r\n\t}\r\n\t\r\n\t/**\r\n\t * Update tweenRefs style ( anims & axis will still update the ref )\r\n\t * @param target\r\n\t * @param style\r\n\t * @param postPone\r\n\t * @returns {*}\r\n\t */\r\n\tupdateRefStyle( target, style, postPone ) {\r\n\t\tlet _ = this._, initials = {}, pureCss;\r\n\t\t\r\n\t\t// allow batched stykes updates\r\n\t\tif ( isArray(target) && isArray(style) )\r\n\t\t\treturn target.map(( m, i ) => this.updateRefStyle(m, style[i], postPone));\r\n\t\tif ( isArray(target) )\r\n\t\t\treturn target.map(( m ) => this.updateRefStyle(m, style, postPone));\r\n\t\t\r\n\t\tif ( !_.tweenRefMaps[target] )\r\n\t\t\treturn console.warn(\"React-Voodoo : Can't update styles of an unknown Node id '\", target, \"'\");\r\n\t\t\r\n\t\tpureCss = deMuxTween(style, _.tweenRefMaps[target], initials, _.muxDataByTarget[target], _.muxByTarget[target]);\r\n\t\tObject.assign(_.tweenRefCSS[target], pureCss);\r\n\t\tObject.assign(_.tweenRefOriginCss[target], pureCss);\r\n\t\tmuxToCss(_.tweenRefMaps[target], _.tweenRefCSS[target], _.muxByTarget[target], _.muxDataByTarget[target], _.box);\r\n\t\tthis._updateTweenRef(target, true);\r\n\t}\r\n\t\r\n\t/**\r\n\t * Retrieve the tween ref dom node\r\n\t * @param id\r\n\t * @returns {*}\r\n\t */\r\n\tgetTweenableRef( id ) {\r\n\t\ttry {\r\n\t\t\treturn this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]);\r\n\t\t} catch ( e ) {\r\n\t\t\ttry {\r\n\t\t\t\treturn this._.refs[id]._.rootRef.current\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\tconsole.warn(\"react-voodoo: Can't find voodooNode \", id, e)\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Get the root dom node of the tweener element\r\n\t * @returns {*}\r\n\t */\r\n\tgetRootNode() {\r\n\t\ttry {\r\n\t\t\treturn this.getTweenableRef(this._.rootRef)\r\n\t\t\t\t|| this.isMountedFromHook && this._.rootRef && this._.rootRef.current\r\n\t\t\t\t|| ReactDom.findDOMNode(this);\r\n\t\t} catch ( e ) {\r\n\t\t\treturn this._.rootRef && this._.rootRef.current;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// ------------------------------------------------------------\r\n\t// -------------------- Pushable anims ------------------------\r\n\t// ------------------------------------------------------------\r\n\t\r\n\t/**\r\n\t * Push anims\r\n\t * @param anim\r\n\t * @param then\r\n\t * @param skipInit\r\n\t * @returns {tweenAxis}\r\n\t */\r\n\tpushAnim( anim, then, keepResults = true ) {\r\n\t\tlet sl,\r\n\t\t    initial,\r\n\t\t    _        = this._,\r\n\t\t    initials = {},\r\n\t\t    fail;\r\n\t\t\r\n\t\tif ( isArray(anim) ) {\r\n\t\t\tsl = anim;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsl      = anim.anims;\r\n\t\t\tinitial = anim.initial;\r\n\t\t}\r\n\t\t\r\n\t\tif ( !(sl instanceof tweenAxis) ) {\r\n\t\t\t// tweenLine, initials, data, demuxers\r\n\t\t\tsl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\r\n\t\t\tsl = new tweenAxis(sl, this._.tweenRefMaps);\r\n\t\t\tObject.keys(initials)\r\n\t\t\t      .forEach(\r\n\t\t\t\t      id => (\r\n\t\t\t\t\t      this._.tweenRefMaps[id] &&\r\n\t\t\t\t\t      Object.assign(this._.tweenRefMaps[id], {\r\n\t\t\t\t\t\t      ...initials[id],\r\n\t\t\t\t\t\t      ...this._.tweenRefMaps[id]\r\n\t\t\t\t\t      }) || (fail = console.warn(\"react-voodoo : Can't find tween target \", id, \" in \", Tweener.displayName) || true)\r\n\t\t\t\t      )\r\n\t\t\t      )\r\n\t\t}\r\n\t\tif ( fail )\r\n\t\t\treturn;\r\n\t\t\r\n\t\t\r\n\t\treturn new Promise(\r\n\t\t\tresolve => {\r\n\t\t\t\t\r\n\t\t\t\t// start timer launch @todo\r\n\t\t\t\tsl.run(this._.tweenRefMaps, () => {\r\n\t\t\t\t\tlet i = this._.runningAnims.indexOf(sl);\r\n\t\t\t\t\tif ( i != -1 )\r\n\t\t\t\t\t\tthis._.runningAnims.splice(i, 1);\r\n\t\t\t\t\t//console.log( _.muxDataByTarget)\r\n\t\t\t\t\tObject.keys(initials)// unset\r\n\t\t\t\t\t      .forEach(\r\n\t\t\t\t\t\t      id => {\r\n\t\t\t\t\t\t\t      Object.keys(initials[id])// unset\r\n\t\t\t\t\t\t\t            .forEach(\r\n\t\t\t\t\t\t\t\t            rkey => {\r\n\t\t\t\t\t\t\t\t\t            // todo\r\n\t\t\t\t\t\t\t\t\t            clearTweenableValue(rkey, rkey, _.tweenRefMaps[id], _.tweenRefCSS[id], _.muxDataByTarget[id], _.muxByTarget[id], keepResults)\r\n\t\t\t\t\t\t\t\t            })\r\n\t\t\t\t\t\t      });\r\n\t\t\t\t\tsl.destroy();\r\n\t\t\t\t\tresolve(sl);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tthis._.runningAnims.push(sl);\r\n\t\t\t\t\r\n\t\t\t\tif ( !this._.live ) {\r\n\t\t\t\t\tthis._.live = true;\r\n\t\t\t\t\trequestAnimationFrame(this._._rafLoop = this._._rafLoop || this._rafLoop.bind(this));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t).then(sl => (then && then(sl)));\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * Update tweenRef raw tweened values\r\n\t * @param id\r\n\t * @param map\r\n\t * @param reset\r\n\t */\r\n\tapplyTweenState( id, map, reset ) {\r\n\t\tlet tmap = {}, initials = {};\r\n\t\tdeMuxTween(map, tmap, initials, this._.muxDataByTarget[id], this._.muxByTarget[id], true)\r\n\t\tObject.keys(tmap).map(\r\n\t\t\t( p ) => this._.tweenRefMaps[id][p] = (!reset && this._.tweenRefMaps[id][p] || initials[p]) + tmap[p]\r\n\t\t);\r\n\t}\r\n\t\r\n\t// ------------------------------------------------------------\r\n\t// ------------------ Scrollable axes -------------------------\r\n\t// ------------------------------------------------------------\r\n\t\r\n\t/**\r\n\t * Will init / update a scrollable axis\r\n\t * @param axe\r\n\t * @param _inertia\r\n\t * @param _scrollableArea\r\n\t * @param _scrollableBounds\r\n\t * @param _scrollableWindow\r\n\t * @param defaultPosition\r\n\t * @param scrollFirst\r\n\t * @param reset\r\n\t */\r\n\tinitAxis( axe, {\r\n\t\tinertia         : _inertia,\r\n\t\tscrollableArea  : _scrollableArea = 0,\r\n\t\tscrollableBounds: _scrollableBounds,\r\n\t\tscrollableWindow: _scrollableWindow,\r\n\t\tdefaultPosition,\r\n\t\tscrollFirst\r\n\t}, reset ) {\r\n\t\t\r\n\t\t\r\n\t\tlet _                = this._,\r\n\t\t    dim              = this.axes[axe],\r\n\t\t    scrollableBounds = _scrollableBounds,\r\n\t\t    scrollPos        = !reset && dim\r\n\t\t                       ? dim.scrollPos\r\n\t\t                       : defaultPosition || scrollableBounds && scrollableBounds.min || 0,\r\n\t\t    scrollableArea   = Math.max(dim && dim.scrollableArea || 0, _scrollableArea),\r\n\t\t    scrollableWindow = Math.max(dim && dim.scrollableWindow || 0, _scrollableWindow),\r\n\t\t    targetPos        = dim ? dim.targetPos : scrollPos,\r\n\t\t    inertia          = (\r\n\t\t\t    dim ? dim.inertia : new Inertia({// todo mk pure\r\n\t\t\t\t                                    disabled: !_inertia,\r\n\t\t\t\t                                    ...(_inertia || {}),\r\n\t\t\t\t                                    value: scrollPos\r\n\t\t\t                                    })),\r\n\t\t    nextDescr        = {\r\n\t\t\t    //...(_inertia || {}),\r\n\t\t\t    scrollFirst,\r\n\t\t\t    tweenAxis: dim && dim.tweenAxis || [],\r\n\t\t\t    scrollPos,\r\n\t\t\t    targetPos,\r\n\t\t\t    inertia,\r\n\t\t\t    scrollableWindow,\r\n\t\t\t    scrollableBounds,\r\n\t\t\t    scrollableArea,\r\n\t\t\t    scrollTo : ( pos, tm, ease, noEvents ) => {\r\n\t\t\t\t    return this.scrollTo(pos, tm, axe, ease, noEvents)\r\n\t\t\t    }\r\n\t\t    };\r\n\t\t\r\n\t\tthis.axes[axe] = nextDescr;\r\n\t\t!_inertia && (inertia._.disabled = true);\r\n\t\t(_inertia) && inertia && !inertia.active && (inertia._.pos = scrollPos);\r\n\t\t(_inertia) && inertia && (inertia.updateConf(_inertia));\r\n\t\tif ( inertia && scrollableBounds )\r\n\t\t\tinertia.setBounds?.(scrollableBounds.min, scrollableBounds.max);\r\n\t\telse\r\n\t\t\tinertia && inertia.setBounds?.(0, scrollableArea)\r\n\t}\r\n\t\r\n\t_getAxis( axe = \"scrollY\" ) {\r\n\t\tlet _ = this._;\r\n\t\t\r\n\t\tthis.axes[axe] = this.axes[axe] || {\r\n\t\t\ttweenAxis       : [],\r\n\t\t\tscrollPos       : _.options.initialScrollPos && _.options.initialScrollPos[axe] || 0,\r\n\t\t\ttargetPos       : 0,\r\n\t\t\tscrollableWindow: 0,\r\n\t\t\tscrollableArea  : 0,\r\n\t\t\tinertia         : new Inertia({\r\n\t\t\t\t                              value: _.options.initialScrollPos && _.options.initialScrollPos[axe] || 0,\r\n\t\t\t\t                              ...(_.options.axes && _.options.axes[axe] && _.options.axes[axe].inertia || {})\r\n\t\t\t                              }),\r\n\t\t\tscrollTo        : ( pos, tm, ease, noEvents ) => {\r\n\t\t\t\treturn this.scrollTo(pos, tm, axe, ease, noEvents)\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\treturn this.axes[axe];\r\n\t}\r\n\t\r\n\t/**\r\n\t * Return axis infos\r\n\t */\r\n\tgetAxisState( axe ) {\r\n\t\tlet _ = this._, state = {};\r\n\t\tthis.axes && Object.keys(this.axes)\r\n\t\t                   .forEach(\r\n\t\t\t                   axe => (state[axe] = this.axes[axe].targetPos || this.axes[axe].scrollPos)\r\n\t\t                   );\r\n\t\treturn state;\r\n\t}\r\n\t\r\n\tgetScrollPos( axis = \"scrollY\" ) {\r\n\t\tlet _ = this._, state = {};\r\n\t\treturn this.axes[axis]\r\n\t\t       ? this.axes[axis].targetPos || this.axes[axis].scrollPos\r\n\t\t       : 0\r\n\t}\r\n\t\r\n\t/**\r\n\t * Do scroll an axis\r\n\t * @param newPos\r\n\t * @param ms\r\n\t * @param axe\r\n\t * @param ease\r\n\t * @returns {Promise<any | never>}\r\n\t */\r\n\tscrollTo( newPos, ms = 0, axe = \"scrollY\", ease, noEvents ) {\r\n\t\tlet _ = this._;\r\n\t\tif ( !isBrowserSide ) {\r\n\t\t\tconsole.warn(\"React-voodoo : scrollTo can't be used serverside, use Axis defaultPosition prop to set initial axes position\");\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\t\treturn new Promise(\r\n\t\t\t(( resolve, reject ) => {\r\n\t\t\t\tif ( this.axes && this.axes[axe] ) {\r\n\t\t\t\t\tlet oldPos = this.axes[axe].targetPos,\r\n\t\t\t\t\t    setPos = pos => {\r\n\t\t\t\t\t\t    //console.log('TweenableComp::setPos:514: ',  newPos,pos, ms,\r\n\t\t\t\t\t\t    // axe);\r\n\t\t\t\t\t\t    pos                      = (~~(pos * 10000)) / 10000;\r\n\t\t\t\t\t\t    this.axes[axe].targetPos = this.axes[axe].scrollPos = pos;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t    //this.axes[axe].inertia._doSnap()\r\n\t\t\t\t\t\t    if ( ~~pos !== oldPos ) {\r\n\t\t\t\t\t\t\t    this.axisDidScroll(~~pos, axe);\r\n\t\t\t\t\t\t\t    _.rootRef?.current?.componentDidScroll?.(~~pos, axe);\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t    this._updateTweenRefs()\r\n\t\t\t\t\t    };\r\n\t\t\t\t\t\r\n\t\t\t\t\tnewPos = Math.max(0, newPos);\r\n\t\t\t\t\tnewPos = Math.min(newPos, this.axes[axe].scrollableArea || 0);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.axes[axe].targetPos = newPos;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( !ms ) {\r\n\t\t\t\t\t\tthis.axes?.[axe]?.inertia?.setPos(newPos);\r\n\t\t\t\t\t\tif ( this.axes?.[axe]?.inertia?._ ) {\r\n\t\t\t\t\t\t\tnewPos = this.axes?.[axe]?.inertia?._.pos;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.axes[axe].tweenAxis.forEach(\r\n\t\t\t\t\t\t\tsl => sl.goTo(newPos, _.tweenRefMaps, false, noEvents)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetPos(newPos);\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis._runScrollGoTo(axe, newPos, ms, easingFn[ease], noEvents, setPos, resolve)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( !_.live ) {\r\n\t\t\t\t\t\t_.live = true;\r\n\t\t\t\t\t\trequestAnimationFrame(_._rafLoop);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})).then(\r\n\t\t\tp => {\r\n\t\t\t\tthis.axes?.[axe]?.inertia?._detectCurrentSnap();\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\t\r\n\t/**\r\n\t * Add scrollable tween axis (scrollable anims) to a global axis\r\n\t * @param anim\r\n\t * @param axe\r\n\t * @param size\r\n\t * @returns {tweenAxis}\r\n\t */\r\n\taddScrollableAnim( anim, axe = \"scrollY\", size ) {\r\n\t\tlet sl,\r\n\t\t    _        = this._,\r\n\t\t    initials = {},\r\n\t\t    dim      = this._getAxis(axe);\r\n\t\t\r\n\t\tif ( isArray(anim) ) {\r\n\t\t\tsl = anim;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsl   = anim.anims;\r\n\t\t\tsize = anim.length;\r\n\t\t}\r\n\t\t\r\n\t\t//console.warn(\"add scrollable\")\r\n\t\tif ( !(sl instanceof tweenAxis) ) {\r\n\t\t\tsl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\r\n\t\t\t\r\n\t\t\tsl          = new tweenAxis(sl, _.tweenRefMaps);\r\n\t\t\tsl.initials = initials;\r\n\t\t\t\r\n\t\t\tObject.keys(initials)\r\n\t\t\t      .forEach(\r\n\t\t\t\t      id => {\r\n\t\t\t\t\t      _.tweenRefOrigin[id] = _.tweenRefOrigin[id] || {};\r\n\t\t\t\t\t\r\n\t\t\t\t\t      _.tweenRefMaps[id] = _.tweenRefMaps[id] || {};\r\n\t\t\t\t\t      Object.assign(this._.tweenRefMaps[id], {\r\n\t\t\t\t\t\t      ...initials[id],\r\n\t\t\t\t\t\t      ...this._.tweenRefMaps[id]\r\n\t\t\t\t\t      })\r\n\t\t\t\t      }\r\n\t\t\t      );\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// init scroll\r\n\t\tdim.tweenAxis.push(sl);\r\n\t\tdim.scrollPos      = dim.scrollPos || 0;\r\n\t\tdim.scrollableArea = dim.scrollableArea || 0;\r\n\t\tdim.scrollableArea = Math.max(dim.scrollableArea, sl.duration);\r\n\t\t\r\n\t\tif ( !dim.scrollableBounds )\r\n\t\t\tdim.inertia?.setBounds(0, dim.scrollableArea);\r\n\t\t\r\n\t\tsl.goTo(dim.scrollPos, this._.tweenRefMaps, false, true);\r\n\t\tthis._updateTweenRefs();\r\n\t\treturn sl;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Remove a tweenAxis object from a component scrollable axis\r\n\t * @param sl\r\n\t * @param axe\r\n\t */\r\n\trmScrollableAnim( sl, axe = \"scrollY\" ) {\r\n\t\tlet _   = this._, found,\r\n\t\t    dim = this._getAxis(axe), twAxis;\r\n\t\tlet i   = dim.tweenAxis.indexOf(sl);\r\n\t\tif ( i !== -1 ) {\r\n\t\t\t\r\n\t\t\t//dim.tweenAxis[i].destroy();\r\n\t\t\tdim.tweenAxis.splice(i, 1);\r\n\t\t\tdim.scrollableArea = Math.max(...dim.tweenAxis.map(tl => tl.duration), 0);\r\n\t\t\tif ( !dim.scrollableBounds )\r\n\t\t\t\tdim.inertia?.setBounds(0, dim.scrollableArea || 0);\r\n\t\t\t//console.warn(\"rm scrollable\", { ...this._.tweenRefMaps })\r\n\t\t\tsl.goTo(0, this._.tweenRefMaps, false, true);\r\n\t\t\t//console.warn(\"rm scrollable\", { ...this._.tweenRefMaps[\"card\"] })\r\n\t\t\t\r\n\t\t\tObject.keys(sl.initials)// unset\r\n\t\t\t      .forEach(\r\n\t\t\t\t      id => {\r\n\t\t\t\t\t      Object.keys(sl.initials[id])// unset\r\n\t\t\t\t\t            .forEach(\r\n\t\t\t\t\t\t            rkey => {\r\n\t\t\t\t\t\t\t            //debugger\r\n\t\t\t\t\t\t\t            clearTweenableValue(rkey, rkey, _.tweenRefMaps[id], _.tweenRefCSS[id], _.muxDataByTarget[id], _.muxByTarget[id])\r\n\t\t\t\t\t\t\t            //!_.tweenRefCSS[id] &&\r\n\t\t\t\t\t\t\t            //_.refs[id] && _.refs[id].style &&\r\n\t\t\t\t\t\t\t            // _.refs[id].style[rkey] &&\r\n\t\t\t\t\t\t\t            // (_.refs[id].style[rkey] = null);\r\n\t\t\t\t\t\t            })\r\n\t\t\t\t      });\r\n\t\t\tdelete sl.initials;\r\n\t\t\tsl.destroy();\r\n\t\t\tfound = true;\r\n\t\t\tthis._updateTweenRefs();\r\n\t\t}\r\n\t\t!found && console.warn(\"react-voodoo: Axis not found : \", axe)\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * @private fn to push scrollTo\r\n\t * @param axe\r\n\t * @param to\r\n\t * @param tm\r\n\t * @param easing\r\n\t * @param tick\r\n\t * @param cb\r\n\t * @private\r\n\t */\r\n\t_runScrollGoTo( axe, to, tm, easing = x => x, noEvents, tick, cb ) {\r\n\t\tlet from   = this.axes[axe].scrollPos,\r\n\t\t    length = to - from;\r\n\t\t\r\n\t\t_running.push(\r\n\t\t\t{\r\n\t\t\t\tapply   : ( pos, max ) => {\r\n\t\t\t\t\tlet x = (from + (easing(pos / max)) * length);\r\n\t\t\t\t\tif ( this._.tweenEnabled ) {\r\n\t\t\t\t\t\t// allow shouldLoop on scrollTo\r\n\t\t\t\t\t\tthis.axes?.[axe]?.inertia?.setPos(x);\r\n\t\t\t\t\t\tif ( this.axes?.[axe]?.inertia?._ ) {\r\n\t\t\t\t\t\t\tx = this.axes?.[axe]?.inertia?._.pos;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.axes[axe].tweenAxis.forEach(\r\n\t\t\t\t\t\t\tsl => sl.goTo(x, this._.tweenRefMaps, false, noEvents)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\ttick && tick(x);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tduration: tm,\r\n\t\t\t\tcpos    : 0,\r\n\t\t\t\tcb\r\n\t\t\t})\r\n\t\t;\r\n\t\t\r\n\t\tif ( !_live ) {\r\n\t\t\t_live  = true;\r\n\t\t\tlastTm = Date.now();\r\n\t\t\t// console.log(\"TL runner On\");\r\n\t\t\tsetTimeout(Runner._tick, 16);\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Return scrollable parent node list basing a dom node\r\n\t * @param node\r\n\t * @returns {T[]}\r\n\t */\r\n\tgetScrollableNodes( node ) {\r\n\t\tlet scrollable = domUtils.findReactParents(node), _ = this._;\r\n\t\tscrollable     = _.rootRef &&\r\n\t\t\t_.rootRef.current &&\r\n\t\t\t_.rootRef.current.hookScrollableTargets &&\r\n\t\t\t_.rootRef.current.hookScrollableTargets(scrollable)\r\n\t\t\t|| scrollable;\r\n\t\t\r\n\t\treturn scrollable.map(\r\n\t\t\tid => (is.string(id)\r\n\t\t\t       ? this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]) || this.refs[id] || document.getElementById(id)\r\n\t\t\t       : id));\r\n\t}\r\n\t\r\n\t/**\r\n\t * Hook to know if the composed element allow scrolling\r\n\t * @returns {boolean}\r\n\t */\r\n\tcomponentShouldScroll() {\r\n\t\tlet _ = this._;\r\n\t\treturn _.rootRef &&\r\n\t\t       _.rootRef.current &&\r\n\t\t       _.rootRef.current.componentShouldScroll ?\r\n\t\t       _.rootRef.current.componentShouldScroll(...arguments) : true\r\n\t}\r\n\t\r\n\t_scrollWatcherByAxis = {};\r\n\t\r\n\t/**\r\n\t * Add scroll listener to {axisId} axis, return unwatch\r\n\t * @param axisId\r\n\t * @param listener\r\n\t * @returns {function(...[*]=)}\r\n\t */\r\n\twatchAxis( axisId, listener ) {\r\n\t\tlet byId     = this._scrollWatcherByAxis;\r\n\t\tbyId[axisId] = byId[axisId] || [];\r\n\t\tbyId[axisId].push(listener);\r\n\t\treturn () => {\r\n\t\t\tlet index = byId[axisId].indexOf(listener);\r\n\t\t\tbyId[axisId].splice(index, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\taxisDidScroll( pos, axisId ) {\r\n\t\tlet watchers = this._scrollWatcherByAxis[axisId],\r\n\t\t    i        = watchers?.length;\r\n\t\tif ( watchers )\r\n\t\t\twhile ( i ) watchers[--i](pos);\r\n\t}\r\n\t\r\n\t// ------------------------------------------------------------\r\n\t// --------------- Inertia & scroll modifiers -----------------\r\n\t// ------------------------------------------------------------\r\n\t\r\n\t/**\r\n\t * Retrieve updates from an axis inertia & apply them\r\n\t * @param dim\r\n\t * @param axe\r\n\t */\r\n\tapplyInertia( dim, axe ) {\r\n\t\tlet x = dim.inertia.update(), _ = this._;\r\n\t\t\r\n\t\tthis.axes[axe].tweenAxis.forEach(\r\n\t\t\tsl => {\r\n\t\t\t\tthis.axes[axe].targetPos = this.axes[axe].scrollPos = x;\r\n\t\t\t\tsl.goTo(x, this._.tweenRefMaps)\r\n\t\t\t}\r\n\t\t);\r\n\t\t//console.log(\"scroll at \" + x, axe, dim.inertia.active || dim.inertia.holding);\r\n\t\t//this.scrollTo(x, 0, axe);\r\n\t\t_.rootRef?.current?.componentDidScroll?.(x, axe);\r\n\t\tthis.axisDidScroll(x, axe);\r\n\t\tthis._updateTweenRefs()\r\n\t\tif ( dim.inertia.active || dim.inertia.holding ) {\r\n\t\t\tdim.inertiaFrame = setTimeout(this.applyInertia.bind(this, dim, axe), 33);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdim.inertiaFrame = null;\r\n\t\t\t//console.log(\"complete\");\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Return true if at least 1 of this tweener axis have it's inertia active\r\n\t * @returns {boolean}\r\n\t */\r\n\tisInertiaActive() {//todo\r\n\t\tlet _ = this._, active = false;\r\n\t\tthis.axes &&\r\n\t\tObject.keys(this.axes)\r\n\t\t      .forEach(\r\n\t\t\t      axe => (active = active || this.axes[axe] && this.axes[axe].inertia.active)\r\n\t\t      );\r\n\t\treturn active;\r\n\t}\r\n\t\r\n\tdispatchScroll( delta, axe = \"scrollY\" ) {\r\n\t\tlet prevent,\r\n\t\t    dim    = this.axes[axe],\r\n\t\t    oldPos = dim && dim.scrollPos,\r\n\t\t    newPos = oldPos + delta;\r\n\t\t\r\n\t\tif ( dim && oldPos !== newPos ) {\r\n\t\t\t\r\n\t\t\tdim.inertia.dispatch(delta, 100);\r\n\t\t\t!dim.inertiaFrame && this.applyInertia(dim, axe);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn prevent;\r\n\t}\r\n\t\r\n\tisAxisOut( axis, v, abs ) {\r\n\t\tlet _   = this._,\r\n\t\t    dim = this.axes && this.axes[axis],\r\n\t\t    pos = abs ? v : dim && (dim.scrollPos + v);\r\n\t\t\r\n\t\tpos = pos && Math.round(pos);\r\n\t\t\r\n\t\treturn !dim\r\n\t\t\t|| (\r\n\t\t\t\tdim.scrollableBounds\r\n\t\t\t\t?\r\n\t\t\t\t(pos <= dim.scrollableBounds.min || pos >= dim.scrollableBounds.max)\r\n\t\t\t\t:\r\n\t\t\t\t(pos <= 0 || pos >= dim.scrollableArea)\r\n\t\t\t);\r\n\t}\r\n\t\r\n\t_doDispatch( target, dx, dy, holding ) {\r\n\t\tlet style,\r\n\t\t    Comps,\r\n\t\t    headTarget = target,\r\n\t\t    nodeInertia,\r\n\t\t    i;\r\n\t\t\r\n\t\t// check if there scrollable stuff in dom targets\r\n\t\t// get all the parents components & dom node of an dom element ( from fibers )\r\n\t\t\r\n\t\tComps = this.getScrollableNodes(headTarget);\r\n\t\t//console.log(\"dispatching \", dx, dy, Comps);\r\n\t\tfor ( i = 0; i < Comps.length; i++ ) {\r\n\t\t\t// react comp with tweener support\r\n\t\t\tif ( Comps[i].__isTweener ) {\r\n\t\t\t\t//debugger\r\n\t\t\t\t//console.log(Comps[i], dx, dy, Comps[i].isAxisOut(\"scrollX\", dx),\r\n\t\t\t\t// Comps[i].isAxisOut(\"scrollY\", dy));\r\n\t\t\t\tif ( !Comps[i].isAxisOut(\"scrollX\", dx) && (!Comps[i].componentShouldScroll || Comps[i].componentShouldScroll(\"scrollX\", dx)) ) {\r\n\t\t\t\t\tComps[i].dispatchScroll(dx, \"scrollX\", holding);\r\n\t\t\t\t\tdx = 0;\r\n\t\t\t\t}\r\n\t\t\t\tif ( !Comps[i].isAxisOut(\"scrollY\", dy) && (!Comps[i].componentShouldScroll || Comps[i].componentShouldScroll(\"scrollY\", dy)) ) {\r\n\t\t\t\t\tComps[i].dispatchScroll(dy, \"scrollY\", holding);\r\n\t\t\t\t\tdy = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// dom element\r\n\t\t\telse if ( is.element(Comps[i]) ) {\r\n\t\t\t\tstyle = getComputedStyle(Comps[i], null)\r\n\t\t\t\tif ( /(auto|scroll)/.test(\r\n\t\t\t\t\tstyle.getPropertyValue(\"overflow\")\r\n\t\t\t\t\t+ style.getPropertyValue(\"overflow-x\")\r\n\t\t\t\t\t+ style.getPropertyValue(\"overflow-y\")\r\n\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\t(dy < 0 && Comps[i].scrollTop !== 0)\r\n\t\t\t\t\t\t||\r\n\t\t\t\t\t\t(dy > 0 && Comps[i].scrollTop !== (Comps[i].scrollHeight - Comps[i].clientHeight))\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t//nodeInertia.y.dispatch(dy * 10)\r\n\t\t\t\t\t\t//dy = 0;\r\n\t\t\t\t\t} // let the node do this scroll\r\n\t\t\t\t\t//if ( nodeInertia.x.isOutbound(dx) ) {\r\n\t\t\t\t\t//\tnodeInertia.x.dispatch(dx * 10)\r\n\t\t\t\t\t//\tdx = 0;\r\n\t\t\t\t\t//} // let the node do this scroll\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//headTarget = headTarget.parentNode;\r\n\t\t\t\t//if ( headTarget === document || headTarget === target )\r\n\t\t\t\t//\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( !dx && !dy )\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tthis._updateNodeInertia();\r\n\t\tif ( !dx && !dy )\r\n\t\t\treturn true;\r\n\t}\r\n\t\r\n\t_activateNodeInertia( node ) {\r\n\t\tlet _ = this._,\r\n\t\t    i = _.activeInertia.findIndex(item => (item.target === node));\r\n\t\tif ( i === -1 ) {\r\n\t\t\t_.activeInertia.push(\r\n\t\t\t\t{\r\n\t\t\t\t\tinertia: {\r\n\t\t\t\t\t\tx: new Inertia({\r\n\t\t\t\t\t\t\t               max  : node.scrollWidth - node.offsetLeft,\r\n\t\t\t\t\t\t\t               value: node.scrollLeft\r\n\t\t\t\t\t\t               }),\r\n\t\t\t\t\t\ty: new Inertia({\r\n\t\t\t\t\t\t\t               max  : node.scrollHeight - node.offsetHeight,\r\n\t\t\t\t\t\t\t               value: node.scrollTop\r\n\t\t\t\t\t\t               })\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttarget : node\r\n\t\t\t\t});\r\n\t\t\ti = _.activeInertia.length - 1;\r\n\t\t}\r\n\t\treturn _.activeInertia[i].inertia;\r\n\t\t\r\n\t}\r\n\t\r\n\t_updateNodeInertia = () => {\r\n\t\tlet _ = this._, current, ln = _.activeInertia.length;\r\n\t\t\r\n\t\tif ( this._inertiaRaf )\r\n\t\t\tcancelAnimationFrame(this._inertiaRaf);\r\n\t\t\r\n\t\tfor ( let i = 0; ln > i; i++ ) {\r\n\t\t\tcurrent = _.activeInertia[i];\r\n\t\t\tif ( current.inertia.x.active || current.inertia.x.holding ) {\r\n\t\t\t\tcurrent.target.scrollLeft = ~~current.inertia.x.update()\r\n\t\t\t}\r\n\t\t\tif ( current.inertia.y.active || current.inertia.y.holding ) {\r\n\t\t\t\tcurrent.target.scrollTop = ~~current.inertia.y.update()\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ( !current.inertia.x.active && !current.inertia.y.active && !current.inertia.x.holding && !current.inertia.y.holding ) {\r\n\t\t\t\t_.activeInertia.slice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t\tln--;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( ln !== 0 )\r\n\t\t\tthis._inertiaRaf = requestAnimationFrame(this._updateNodeInertia)\r\n\t\telse this._inertiaRaf = null;\r\n\t}\r\n\t\r\n\t\r\n\t// ------------------------------------------------------------\r\n\t// --------------- Initialization & drawers -------------------\r\n\t// ------------------------------------------------------------\r\n\t\r\n\tsetRootRef( id ) {\r\n\t\tthis._.rootRef = id;\r\n\t}\r\n\t\r\n\t_updateBox() {\r\n\t\tlet node = this.getRootNode();\r\n\t\tif ( node ) {\r\n\t\t\tthis._.box.inited = true;\r\n\t\t\tthis._.box.x      = node.offsetWidth;\r\n\t\t\tthis._.box.y      = node.offsetHeight;\r\n\t\t}\r\n\t}\r\n\t\r\n\t_rafLoop() {\r\n\t\tthis._updateTweenRefs();\r\n\t\tif ( this._.runningAnims.length ) {\r\n\t\t\trequestAnimationFrame(this._._rafLoop);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//this._.live && console.log(\"RAF off\", this.constructor.displayName);\r\n\t\t\tthis._.live = false;\r\n\t\t}\r\n\t}\r\n\t\r\n\t_updateTweenRefs() {\r\n\t\tif ( this._.tweenEnabled ) {\r\n\t\t\tfor ( let i = 0, target, node, style; i < this._.tweenRefTargets.length; i++ ) {\r\n\t\t\t\ttarget = this._.tweenRefTargets[i];\r\n\t\t\t\tstyle  = this._updateTweenRef(target);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t_swap = {};\r\n\t\r\n\t_updateTweenRef( target, force ) {\r\n\t\tlet node, swap = this._swap, changes;\r\n\t\tthis._.tweenRefCSS[target] &&\r\n\t\tmuxToCss(this._.tweenRefMaps[target], swap, this._.muxByTarget[target], this._.muxDataByTarget[target], this._.box);\r\n\t\tnode = this.getTweenableRef(target);\r\n\t\tif ( node ) {\r\n\t\t\tfor ( let o in this._.tweenRefCSS[target] )\r\n\t\t\t\tif ( swap[o] === undefined ) {\r\n\t\t\t\t\tnode.style[o] = this._.tweenRefCSS[target][o];\r\n\t\t\t\t\t//\t\tnode.style[o] = null;\r\n\t\t\t\t\t//\t\tdelete this._.tweenRefCSS[target][o];\r\n\t\t\t\t}\r\n\t\t\tfor ( let o in swap )\r\n\t\t\t\tif ( this._.tweenRefCSS[target].hasOwnProperty(o) ) {\r\n\t\t\t\t\tif ( force || swap[o] !== this._.tweenRefCSS[target][o] ) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnode.style[o] = this._.tweenRefCSS[target][o] = swap[o];\r\n\t\t\t\t\t\t//if ( target == \"card\" ) console.log(target, o, node.style[o],\r\n\t\t\t\t\t\t// swap[o]);\r\n\t\t\t\t\t\tchanges = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete swap[o];\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t//if ( !changes )\r\n\t\t//console.log('no changes', target, this._.tweenRefCSS[target], !!node, force)\r\n\t\treturn this._.tweenRefCSS[target];\r\n\t}\r\n\t\r\n\t\r\n\t// ------------------------------------------------------------\r\n\t// --------------- React Hooks --------------------------------\r\n\t// ------------------------------------------------------------\r\n\t\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tlet node = this.getRootNode();\r\n\t\tif ( this._.tweenEnabled ) {\r\n\t\t\tthis._.tweenEnabled = false;\r\n\t\t\twindow.removeEventListener(\"resize\", this._.onResize);\r\n\t\t\t\r\n\t\t\tObject.keys(this.axes).forEach(\r\n\t\t\t\taxe => {\r\n\t\t\t\t\tthis.axes[axe].inertiaFrame &&\r\n\t\t\t\t\tclearTimeout(this.axes[axe].inertiaFrame);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t\tsuper.componentWillUnmount && super.componentWillUnmount(...arguments);\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tlet _static = this.constructor;\r\n\t\t\r\n\t\tthis._.rendered = true;\r\n\t\tif ( this._.tweenEnabled ) {\r\n\t\t\t// debugger;\r\n\t\t\tthis._updateBox();\r\n\t\t\tthis._updateTweenRefs();\r\n\t\t}\r\n\t\tif ( _static.scrollableAnim ) {\r\n\t\t\tif ( is.array(_static.scrollableAnim) )\r\n\t\t\t\tthis.addScrollableAnim(_static.scrollableAnim);\r\n\t\t\telse\r\n\t\t\t\tObject.keys(_static.scrollableAnim)\r\n\t\t\t\t      .forEach(\r\n\t\t\t\t\t      axe => this.addScrollableAnim(_static.scrollableAnim[axe], axe)\r\n\t\t\t\t      )\r\n\t\t}\r\n\t\t//if ( this._.doRegister || this.__isFirst ) {\r\n\t\t//\r\n\t\t//\tthis._.doRegister = false;\r\n\t\t//}\r\n\t\tsuper.componentDidMount && super.componentDidMount(...arguments);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate( prevProps, prevState ) {\r\n\t\t\r\n\t\tif ( this._.tweenEnabled ) {\r\n\t\t\tthis._updateBox();\r\n\t\t\tthis._updateTweenRefs();\r\n\t\t}\r\n\t\tsuper.componentDidUpdate && super.componentDidUpdate(...arguments);\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst { BaseComponent, oProps } = this.props;\r\n\t\treturn <TweenerContext.Consumer>\r\n\t\t\t{\r\n\t\t\t\tparentTweener => {\r\n\t\t\t\t\tthis._parentTweener = parentTweener;\r\n\t\t\t\t\treturn <TweenerContext.Provider value={this}>\r\n\t\t\t\t\t\t<BaseComponent {...oProps} ref={this._.rootRef}\r\n\t\t\t\t\t\t               tweener={this}/>\r\n\t\t\t\t\t</TweenerContext.Provider>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t</TweenerContext.Consumer>;\r\n\t}\r\n}\r\n","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nimport React          from \"react\";\nimport is             from \"is\";\nimport TweenerContext from \"../comps/TweenerContext\";\nimport Tweener        from \"../comps/Tweener\";\n\n/**\n * Wrap & instanciate the Tweener Comp \"virtual\"\n * @param tweenerOptions\n * @param RootNodeComp\n */\nexport default ( tweenerOptions, RootNodeComp = 'div' ) => {\n\tconst parentTweener      = React.useContext(TweenerContext),\n\t      nodeRef            = React.useRef(),\n\t      lastTweener        = React.useRef(),\n\t      doUseParentTweener = React.useMemo(\n\t\t      () => (tweenerOptions === true || is.string(tweenerOptions)),\n\t\t      []\n\t      ),\n\t      tweener            = React.useMemo(\n\t\t      () => {\n\t\t\t      if ( tweenerOptions === true )// keep tweener from context ( parent )\n\t\t\t\t      return parentTweener;\n\t\t\t\n\t\t\t      if ( is.string(tweenerOptions) ) {// return named tweener or most root tweener\n\t\t\t\t      let pTweener = parentTweener;\n\t\t\t\t\n\t\t\t\t      while ( pTweener?._ && pTweener._.options.name !== tweenerOptions )\n\t\t\t\t\t      if ( pTweener._parentTweener )\n\t\t\t\t\t\t      pTweener = pTweener._parentTweener;\n\t\t\t\t\t      else {\n\t\t\t\t\t\t      console.warn('react-voodoo: No parent tweener found with option.key === \"' + tweenerOptions + '\"');\n\t\t\t\t\t\t      break;\n\t\t\t\t\t      }\n\t\t\t\t\n\t\t\t\t      return pTweener;\n\t\t\t      }\n\t\t\t\n\t\t\t      let tw               = new Tweener({\n\t\t\t\t                                         forwardedRef: nodeRef,\n\t\t\t\t                                         tweenerOptions\n\t\t\t                                         });\n\t\t\t      tw.isMountedFromHook = true;\n\t\t\t      tw._parentTweener    = parentTweener;\n\t\t\t      return tw;\n\t\t      },\n\t\t      []\n\t      ),\n\t      ViewBox            = React.useMemo(\n\t\t      () => (\n\t\t\t      React.forwardRef(\n\t\t\t\t      ( { children, ...props }, ref ) => {\n\t\t\t\t\t      return <TweenerContext.Provider value={tweener}>\n\t\t\t\t\t\t      <RootNodeComp\n\t\t\t\t\t\t\t      ref={!ref\n\t\t\t\t\t\t\t           ? nodeRef\n\t\t\t\t\t\t\t           : ( node ) => (ref.current = nodeRef.current = node)} {...props}>\n\t\t\t\t\t\t\t      {\n\t\t\t\t\t\t\t\t      children\n\t\t\t\t\t\t\t      }\n\t\t\t\t\t\t      </RootNodeComp>\n\t\t\t\t\t      </TweenerContext.Provider>\n\t\t\t\t      }\n\t\t\t      )\n\t\t      ),\n\t\t      []\n\t      )\n\t\n\tReact.useEffect(\n\t\t() => {\n\t\t\tif ( doUseParentTweener || !lastTweener.current?._ )\n\t\t\t\treturn;\n\t\t\t//console.warn(\"didmount\", nodeRef.current, lastTweener.current === TweenerEl)\n\t\t\ttweener.componentDidMount();\n\t\t\tlastTweener.current = tweener;\n\t\t\treturn () => {\n\t\t\t\tif ( !lastTweener.current?._ )\n\t\t\t\t\treturn;\n\t\t\t\t//console.warn(\"unmount\")\n\t\t\t\tlastTweener.current.componentWillUnmount();\n\t\t\t\tlastTweener.current = null;\n\t\t\t}\n\t\t}, []\n\t)\n\tReact.useEffect(\n\t\t() => {\n\t\t\t\n\t\t\tif ( doUseParentTweener || !lastTweener.current?._ )\n\t\t\t\treturn;\n\t\t\t//console.warn(\"didupdate\", nodeRef.current)\n\t\t\tlastTweener.current._updateBox();\n\t\t\tlastTweener.current._updateTweenRefs();\n\t\t\t\n\t\t}\n\t\t,\n\t\t[nodeRef.current]\n\t)\n\tReact.useEffect(\n\t\t() => {\n\t\t\tif ( doUseParentTweener || !lastTweener.current?._ )\n\t\t\t\treturn;\n\t\t\tlastTweener.current._parentTweener = parentTweener;\n\t\t},\n\t\t[parentTweener]\n\t)\n\tReact.useEffect(\n\t\t() => {\n\t\t\tif ( doUseParentTweener || !lastTweener.current?._ )\n\t\t\t\treturn;\n\t\t\tlastTweener.current._.options = tweenerOptions;\n\t\t\tlastTweener.current._updateBox();\n\t\t\tlastTweener.current._updateTweenRefs();\n\t\t},\n\t\t[tweenerOptions]\n\t)\n\treturn React.useMemo(\n\t\t() => ([tweener, ViewBox]),\n\t\t[ViewBox, tweener]\n\t);\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport is        from \"is\";\nimport PropTypes from \"prop-types\";\nimport React     from 'react';\nimport ReactDom  from \"react-dom\";\nimport useVoodoo from \"../hooks/useVoodoo\";\nimport domUtils  from \"../utils/dom\";\n\n\nfunction getScrollableNodes( node, parentTweener ) {\n\tlet scrollable = [], parent = parentTweener;//domUtils.findReactParents(node),\n\t// _ = Âµ;\n\t\n\twhile ( parent ) {\n\t\tscrollable.push(parent);\n\t\tparent = parent._parentTweener;\n\t}\n\t\n\treturn scrollable\n}\n\nconst Draggable = ( {\n\t                    children,\n\t                    Comp = 'div',\n\t                    forwardedRef,\n\t                    items = [],\n\t                    xAxis, yAxis, yBoxRef,\n\t                    xBoxRef, yRef,\n\t                    yHook, xHook,\n\t                    tweener: givenTweener,\n\t                    mouseDrag = false,\n\t                    touchDrag = true,\n\t                    button = 0,\n\t                    ...props\n                    } ) => {\n\tconst Âµ               = React.useRef({}).current,\n\t      [parentTweener] = useVoodoo(true),\n\t      tweener         = givenTweener || parentTweener,\n\t      root            = React.useRef();\n\tReact.useEffect(\n\t\t() => {\n\t\t\tif ( !tweener ) {\n\t\t\t\treturn console.error(\"No tweener found draggable : \", xAxis, yAxis)\n\t\t\t}\n\t\t\t// register listeners\n\t\t\tlet rootNode = root?.current,\n\t\t\t    lastStartTm,\n\t\t\t    cLock, dX,\n\t\t\t    parents,\n\t\t\t    dY, parentsState, refWidth, refHeight,\n\t\t\t    _        = tweener._;\n\t\t\t\n\t\t\tif ( rootNode ) {\n\t\t\t\tdomUtils.addEvent(\n\t\t\t\t\trootNode, Âµ.dragList = {\n\t\t\t\t\t\t'dragstart': ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\tlet pTweener,\n\t\t\t\t\t\t\t    x,\n\t\t\t\t\t\t\t    y, i, style;\n\t\t\t\t\t\t\tif ( (e) instanceof MouseEvent && e.button !== button ) {// allow undefined so this work for touch events\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tparents      = getScrollableNodes(e.target, tweener);\n\t\t\t\t\t\t\tlastStartTm  = Date.now();\n\t\t\t\t\t\t\tdX           = 0;\n\t\t\t\t\t\t\tdY           = 0;\n\t\t\t\t\t\t\tparentsState = [];\n\t\t\t\t\t\t\trefWidth     = (xBoxRef?.current || rootNode)?.offsetWidth;\n\t\t\t\t\t\t\trefHeight    = (yBoxRef?.current || rootNode)?.offsetHeight;\n\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\tpTweener = parents[i];\n\t\t\t\t\t\t\t\tpTweener._updateBox();\n\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\tif ( pTweener.__isTweener ) {\n\t\t\t\t\t\t\t\t\tx = xAxis && pTweener.axes?.[xAxis];\n\t\t\t\t\t\t\t\t\ty = yAxis && pTweener.axes?.[yAxis];\n\t\t\t\t\t\t\t\t\tpTweener._updateNodeInertia()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//tweener._updateNodeInertia()\n\t\t\t\t\t\t\t//e.stopPropagation();\n\t\t\t\t\t\t\t//e.preventDefault();\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'click'    : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ( (e) instanceof MouseEvent && e.button !== button ) {// allow undefined so this work for touch events\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ( lastStartTm &&\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t(lastStartTm - Date.now() > _.options.maxClickTm) ||\n\t\t\t\t\t\t\t\t\tMath.abs(dY) > _.options.maxClickOffset ||\n\t\t\t\t\t\t\t\t\tMath.abs(dX) > _.options.maxClickOffset\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t//console.log(\"prevented click\", lastStartTm, Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t//console.log(':o ' + (lastStartTm - Date.now()) + ' ' + dX +\n\t\t\t\t\t\t\t\t//\t            ' ' + dY, _.options.maxClickTm)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//else console.log(\"click\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'drag'     : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\t\tif ( (e) instanceof MouseEvent && e.button !== button ) {// allow undefined so this work for touch events\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tlet pTweener,\n\t\t\t\t\t\t\t    x, deltaX, xDispatched, xBox,\n\t\t\t\t\t\t\t    y, deltaY, yDispatched, yBox,\n\t\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdX = -(descr._lastPos.x - descr._startPos.x);\n\t\t\t\t\t\t\tdY = -(descr._lastPos.y - descr._startPos.y);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ( lastStartTm && ((lastStartTm > Date.now() - _.options.maxClickTm) && Math.abs(dY) < _.options.maxClickOffset && Math.abs(dX) < _.options.maxClickOffset) )// skip tap & click\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t//console.log(':u ' + (lastStartTm - Date.now()) + ' ' + dX +\n\t\t\t\t\t\t\t\t// ' ' + dY)\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\txDispatched = !dX;\n\t\t\t\t\t\t\t\tyDispatched = !dY;\n\t\t\t\t\t\t\t\tif ( _.options.dragDirectionLock ) {\n\t\t\t\t\t\t\t\t\tif ( cLock === \"Y\" || !cLock && Math.abs(dY * .5) > Math.abs(dX) ) {\n\t\t\t\t\t\t\t\t\t\tcLock = \"Y\";\n\t\t\t\t\t\t\t\t\t\tdX    = 0;\n\t\t\t\t\t\t\t\t\t\t//xDispatched = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if ( cLock === \"X\" || !cLock && Math.abs(dX * .5) > Math.abs(dY) ) {\n\t\t\t\t\t\t\t\t\t\tcLock = \"X\";\n\t\t\t\t\t\t\t\t\t\tdY    = 0;\n\t\t\t\t\t\t\t\t\t\t//yDispatched = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\t\tpTweener = parents[i];\n\t\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\t\tif ( pTweener.__isTweener ) {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tx = xAxis && pTweener.axes?.[xAxis];\n\t\t\t\t\t\t\t\t\t\ty = yAxis && pTweener.axes?.[yAxis];\n\t\t\t\t\t\t\t\t\t\t//console.log(\"drag\", dX, dY, xAxis, yAxis,\n\t\t\t\t\t\t\t\t\t\t// pTweener.axes);\n\t\t\t\t\t\t\t\t\t\tif ( !x && !y )\n\t\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t\t//console.log('Draggable:::306: ', parents);\n\t\t\t\t\t\t\t\t\t\tif ( !parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t\t\tparentsState[i] = {\n\t\t\t\t\t\t\t\t\t\t\t\tx: x?.scrollPos,\n\t\t\t\t\t\t\t\t\t\t\t\ty: y?.scrollPos\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tx?.inertia?.startMove();\n\t\t\t\t\t\t\t\t\t\t\ty?.inertia?.startMove();\n\t\t\t\t\t\t\t\t\t\t\txAxis && x && !x?.inertiaFrame && pTweener.applyInertia(x, xAxis);\n\t\t\t\t\t\t\t\t\t\t\tyAxis && y && !y?.inertiaFrame && pTweener.applyInertia(y, yAxis);\n\t\t\t\t\t\t\t\t\t\t\t//console.warn('Draggable::drag:190: ');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif ( x ) {\n\t\t\t\t\t\t\t\t\t\t\txBox   = xBoxRef?.current\n\t\t\t\t\t\t\t\t\t\t\t         ? refWidth\n\t\t\t\t\t\t\t\t\t\t\t         : pTweener._.box.x\n\t\t\t\t\t\t\t\t\t\t\tdeltaX = dX && (dX / xBox) * (\n\t\t\t\t\t\t\t\t\t\t\t\tx.scrollableWindow ||\n\t\t\t\t\t\t\t\t\t\t\t\tx.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\t\tif ( xHook )\n\t\t\t\t\t\t\t\t\t\t\t\tdeltaX = xHook(deltaX);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( y ) {\n\t\t\t\t\t\t\t\t\t\t\tyBox   = yBoxRef?.current\n\t\t\t\t\t\t\t\t\t\t\t         ? refHeight\n\t\t\t\t\t\t\t\t\t\t\t         : pTweener._.box.y\n\t\t\t\t\t\t\t\t\t\t\tdeltaY = dY && (dY / yBox) * (\n\t\t\t\t\t\t\t\t\t\t\t\ty.scrollableWindow ||\n\t\t\t\t\t\t\t\t\t\t\t\ty.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\t\tif ( yHook )\n\t\t\t\t\t\t\t\t\t\t\t\tdeltaY = yHook(deltaY);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t//console.log('scrollX ',\n\t\t\t\t\t\t\t\t\t\t//            xDispatched,\n\t\t\t\t\t\t\t\t\t\t//            x?.inertia?.isInbound(parentsState[ i\n\t\t\t\t\t\t\t\t\t\t// ].x + deltaX), parentsState[ i ].x + deltaX );\n\t\t\t\t\t\t\t\t\t\tif ( x && !xDispatched && deltaX && x?.inertia?.isInbound(parentsState[i].x + deltaX)\n\t\t\t\t\t\t\t\t\t\t\t&& (pTweener.componentShouldScroll(xAxis, deltaX)) ) {\n\t\t\t\t\t\t\t\t\t\t\tx.inertia.hold(parentsState[i].x + deltaX);\n\t\t\t\t\t\t\t\t\t\t\t//parentsState[i].x = x.inertia._.pos;\n\t\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t//console.log(\"scrollY\", yDispatched,\n\t\t\t\t\t\t\t\t\t\t//            y?.inertia?.isInbound(parentsState[ i\n\t\t\t\t\t\t\t\t\t\t// ].y + deltaY), parentsState[ i ].y + deltaY);\n\t\t\t\t\t\t\t\t\t\tif ( y && !yDispatched && deltaY && y?.inertia?.isInbound(parentsState[i].y + deltaY)\n\t\t\t\t\t\t\t\t\t\t\t&& (pTweener.componentShouldScroll(yAxis, deltaY)) ) {\n\t\t\t\t\t\t\t\t\t\t\ty.inertia.hold(parentsState[i].y + deltaY);\n\t\t\t\t\t\t\t\t\t\t\t//parentsState[i].y = y.inertia._.pos;\n\t\t\t\t\t\t\t\t\t\t\t//console.log('Draggable::drag:190: ',\n\t\t\t\t\t\t\t\t\t\t\t// parentsState[i].y,deltaY);\n\t\t\t\t\t\t\t\t\t\t\tyDispatched = true;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( yDispatched && xDispatched ) {\n\t\t\t\t\t\t\t\t\t//e.stopPropagation();\n\t\t\t\t\t\t\t\t\t//e.cancelable && e.preventDefault();\n\t\t\t\t\t\t\t\t\t//return;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//dX = 0;\n\t\t\t\t\t\t\t\t//dY = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'dropped'  : ( e, touch, descr ) => {\n\t\t\t\t\t\t\tlet pTweener,\n\t\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif ( (e) instanceof MouseEvent && e.button !== button ) {// allow undefined so this work for touch events\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcLock = undefined;\n\t\t\t\t\t\t\t//lastStartTm                     = undefined;\n\t\t\t\t\t\t\t//document.body.style.userSelect  = '';\n\t\t\t\t\t\t\t//document.body.style.touchAction = '';\n\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\tpTweener = parents[i];\n\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\tif ( pTweener.__isTweener && parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t//console.log('Draggable::dropped:228: ',\n\t\t\t\t\t\t\t\t\t// pTweener._getAxis(xAxis)?.inertia);\n\t\t\t\t\t\t\t\t\tpTweener.axes?.[xAxis]?.inertia?.release();\n\t\t\t\t\t\t\t\t\tpTweener.axes?.[yAxis]?.inertia?.release();\n\t\t\t\t\t\t\t\t\t//pTweener._updateNodeInertia()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//else if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t\t//\tcState = parentsState[i];\n\t\t\t\t\t\t\t\t//\tif ( cState ) {\n\t\t\t\t\t\t\t\t//\t\tcState.inertia.x.release();\n\t\t\t\t\t\t\t\t//\t\tcState.inertia.y.release();\n\t\t\t\t\t\t\t\t//\t}\n\t\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( lastStartTm && !((lastStartTm > Date.now() - _.options.maxClickTm) && Math.abs(dY)\n\t\t\t\t\t\t\t\t< _.options.maxClickOffset && Math.abs(dX) < _.options.maxClickOffset) )// skip tap\n\t\t\t\t\t\t\t\t// &\n\t\t\t\t\t\t\t\t// click\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\te.cancelable && e.preventDefault();\n\t\t\t\t\t\t\t\t//console.log(\"prevented\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t\t//return;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//else {\n\t\t\t\t\t\t\t//console.log(\"not prevented\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t//lastStartTm = 0;\n\t\t\t\t\t\t\tparents = parentsState = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tnull,\n\t\t\t\t\t_.options.enableMouseDrag || mouseDrag,\n\t\t\t\t\ttouchDrag\n\t\t\t\t)\n\t\t\t\tÂµ.doRegister = !!rootNode;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tÂµ.doRegister = true;\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\treturn () => {\n\t\t\t\tlet node = root.current;\n\t\t\t\tif ( Âµ.scrollEnabled ) {\n\t\t\t\t\tÂµ.scrollEnabled = false;\n\t\t\t\t\t\n\t\t\t\t\t//Âµ.axes          = undefined;\n\t\t\t\t\tnode && Âµ.dragList && domUtils.removeEvent(node\n\t\t\t\t\t\t, Âµ.dragList)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t[\n\t\t\tComp,\n\t\t\tforwardedRef,\n\t\t\titems,\n\t\t\txAxis, yAxis, yBoxRef,\n\t\t\txBoxRef, yRef,\n\t\t\tyHook, xHook,\n\t\t\ttweener,\n\t\t\tmouseDrag,\n\t\t\ttouchDrag,\n\t\t\tbutton\n\t\t]\n\t)\n\t\n\treturn <Comp ref={root} {...props}>{children}</Comp>;\n}\n//\n//@withTweener\n//export default class Draggable extends React.Component {\n//\tstatic propTypes    = {\n//\t\txAxis    : PropTypes.string,\n//\t\tyAxis    : PropTypes.string,\n//\t\txBoxRef  : PropTypes.object,\n//\t\tyRef     : PropTypes.object,\n//\t\txHook    : PropTypes.func,\n//\t\tyHook    : PropTypes.func,\n//\t\tmouseDrag: PropTypes.bool,\n//\t\ttouchDrag: PropTypes.bool,\n//\t\tbutton   : PropTypes.number\n//\t};\n//\tstatic defaultProps = {\n//\t\tComp     :,\n//\t\tmouseDrag: false,\n//\t\ttouchDrag: true,\n//\t\tbutton   : 0\n//\t};\n//\tstate               = {};\n//\t_                   = {};\n//\troot                = React.createRef();\n//\t\n//\tcomponentWillUnmount() {\n//\t\tlet node = this.root?.current;\n//\t\tif ( Âµ.scrollEnabled ) {\n//\t\t\tÂµ.scrollEnabled = false;\n//\t\t\t\n//\t\t\t//Âµ.axes          = undefined;\n//\t\t\tnode && Âµ.dragList && domUtils.removeEvent(node\n//\t\t\t\t, Âµ.dragList)\n//\t\t}\n//\t}\n//\t\n//\tcomponentDidMount() {\n//\t\tÂµregisterScrollListeners();\n//\t}\n//\t\n//\t/**\n//\t * Return scrollable parent node list basing a dom node\n//\t * @param node\n//\t * @returns {T[]}\n//\t */\n//\t\n//\t\n//\t/**\n//\t * todo rewrite or use lib ( no minimalist lib deal with multitouch correctly )\n//\t * Init touch & scroll listeners\n//\t * Drive scroll & drag values updates\n//\t * @private\n//\t */\n//\t_registerScrollListeners() {\n//\t\tlet rootNode = this.root?.current,\n//\t\t    {\n//\t\t\t    xAxis, yAxis, yHook, xHook, mouseDrag, touchDrag, tweener, xBoxRef, yBoxRef, button\n//\t\t    }        = this.props,\n//\t\t    lastStartTm,\n//\t\t    cLock, dX,\n//\t\t    parents,\n//\t\t    dY, parentsState, refWidth, refHeight,\n//\t\t    _        = tweener._;\n//\t\t\n//\t\tif ( rootNode ) {\n//\t\t\tdomUtils.addEvent(\n//\t\t\t\trootNode, Âµ.dragList = {\n//\t\t\t\t\t'dragstart': ( e, touch, descr ) => {//@todo\n//\t\t\t\t\t\tlet pTweener,\n//\t\t\t\t\t\t    x,\n//\t\t\t\t\t\t    y, i, style;\n//\t\t\t\t\t\tif ( (e) instanceof MouseEvent && e.button !== button ) {// allow undefined so this work for\n// touch events return; }  parents      = this.getScrollableNodes(e.target); lastStartTm  = Date.now(); dX           =\n// 0; dY           = 0; parentsState = []; refWidth     = (xBoxRef?.current || rootNode)?.offsetWidth; refHeight    =\n// (yBoxRef?.current || rootNode)?.offsetHeight; for ( i = 0; i < parents.length; i++ ) { pTweener = parents[i];\n// pTweener._updateBox(); // react comp with tweener support if ( pTweener.__isTweener ) { x = xAxis &&\n// pTweener.axes?.[xAxis]; y = yAxis && pTweener.axes?.[yAxis]; pTweener._updateNodeInertia() }  }\n// //tweener._updateNodeInertia() //e.stopPropagation(); //e.preventDefault(); }, 'click'    : ( e, touch, descr ) =>\n// {//@todo  if ( (e) instanceof MouseEvent && e.button !== button ) {// allow undefined so this work for touch events\n// return; }  if ( lastStartTm && ( (lastStartTm - Date.now() > _.options.maxClickTm) || Math.abs(dY) >\n// _.options.maxClickOffset || Math.abs(dX) > _.options.maxClickOffset ) ) { e.preventDefault(); e.stopPropagation();\n// //console.log(\"prevented click\", lastStartTm, Math.abs(dX), Math.abs(dY)) //console.log(':o ' + (lastStartTm -\n// Date.now()) + ' ' + dX + //\t            ' ' + dY, _.options.maxClickTm) } //else console.log(\"click\",\n// Math.abs(dX), Math.abs(dY))  }, 'drag'     : ( e, touch, descr ) => {//@todo if ( (e) instanceof MouseEvent &&\n// e.button !== button ) {// allow undefined so this work for touch events return; }  let pTweener, x, deltaX,\n// xDispatched, xBox, y, deltaY, yDispatched, yBox, cState, i;  dX = -(descr._lastPos.x - descr._startPos.x); dY =\n// -(descr._lastPos.y - descr._startPos.y);   if ( lastStartTm && ((lastStartTm > Date.now() - _.options.maxClickTm) &&\n// Math.abs(dY) < _.options.maxClickOffset && Math.abs(dX) < _.options.maxClickOffset) )// skip tap & click {\n// //console.log(':u ' + (lastStartTm - Date.now()) + ' ' + dX + // ' ' + dY) return; } else {  xDispatched = !dX;\n// yDispatched = !dY; if ( _.options.dragDirectionLock ) { if ( cLock === \"Y\" || !cLock && Math.abs(dY * .5) >\n// Math.abs(dX) ) { cLock = \"Y\"; dX    = 0; //xDispatched = true; } else if ( cLock === \"X\" || !cLock && Math.abs(dX *\n// .5) > Math.abs(dY) ) { cLock = \"X\"; dY    = 0; //yDispatched = true; } } for ( i = 0; i < parents.length; i++ ) {\n// pTweener = parents[i]; // react comp with tweener support if ( pTweener.__isTweener ) {  x = xAxis &&\n// pTweener.axes?.[xAxis]; y = yAxis && pTweener.axes?.[yAxis]; //console.log(\"drag\", dX, dY, xAxis, yAxis, //\n// pTweener.axes); if ( !x && !y ) continue; //console.log('Draggable:::306: ', parents); if ( !parentsState[i] ) {\n// parentsState[i] = { x: x?.scrollPos, y: y?.scrollPos }; x?.inertia?.startMove(); y?.inertia?.startMove(); xAxis && x\n// && !x?.inertiaFrame && pTweener.applyInertia(x, xAxis); yAxis && y && !y?.inertiaFrame && pTweener.applyInertia(y,\n// yAxis); //console.warn('Draggable::drag:190: '); }  if ( x ) { xBox   = xBoxRef?.current ? refWidth :\n// pTweener._.box.x deltaX = dX && (dX / xBox) * ( x.scrollableWindow || x.scrollableArea) || 0; if ( xHook ) deltaX =\n// xHook(deltaX); } if ( y ) { yBox   = yBoxRef?.current ? refHeight : pTweener._.box.y deltaY = dY && (dY / yBox) * (\n// y.scrollableWindow || y.scrollableArea) || 0; if ( yHook ) deltaY = yHook(deltaY); }  //console.log('scrollX ', //\n//          xDispatched, //            x?.inertia?.isInbound(parentsState[ i // ].x + deltaX), parentsState[ i ].x +\n// deltaX ); if ( x && !xDispatched && deltaX && x?.inertia?.isInbound(parentsState[i].x + deltaX) &&\n// (pTweener.componentShouldScroll(xAxis, deltaX)) ) { x.inertia.hold(parentsState[i].x + deltaX); //parentsState[i].x\n// = x.inertia._.pos; xDispatched = true; } //console.log(\"scrollY\", yDispatched, //\n// y?.inertia?.isInbound(parentsState[ i // ].y + deltaY), parentsState[ i ].y + deltaY); if ( y && !yDispatched &&\n// deltaY && y?.inertia?.isInbound(parentsState[i].y + deltaY) && (pTweener.componentShouldScroll(yAxis, deltaY)) ) {\n// y.inertia.hold(parentsState[i].y + deltaY); //parentsState[i].y = y.inertia._.pos;\n// //console.log('Draggable::drag:190: ', // parentsState[i].y,deltaY); yDispatched = true; } }  } if ( yDispatched &&\n// xDispatched ) { //e.stopPropagation(); //e.cancelable && e.preventDefault(); //return; } //dX = 0; //dY = 0; } }  ,\n// 'dropped': ( e, touch, descr ) => { let pTweener, x, deltaX, xDispatched, vX, y, deltaY, yDispatched, vY, cState, i;\n//  if ( (e) instanceof MouseEvent && e.button !== button ) {// allow undefined so this work for touch events return; }\n//  cLock = undefined; //lastStartTm                     = undefined; //document.body.style.userSelect  = '';\n// //document.body.style.touchAction = ''; for ( i = 0; i < parents.length; i++ ) { pTweener = parents[i]; // react\n// comp with tweener support if ( pTweener.__isTweener && parentsState[i] ) { //console.log('Draggable::dropped:228: ',\n// // pTweener._getAxis(xAxis)?.inertia); pTweener.axes?.[xAxis]?.inertia?.release();\n// pTweener.axes?.[yAxis]?.inertia?.release(); //pTweener._updateNodeInertia() } //else if ( is.element(tweener) ) {\n// //\tcState = parentsState[i]; //\tif ( cState ) { //\t\tcState.inertia.x.release();\n// //\t\tcState.inertia.y.release(); //\t} //}  } if ( lastStartTm && !((lastStartTm > Date.now() -\n// _.options.maxClickTm) && Math.abs(dY) < _.options.maxClickOffset && Math.abs(dX) < _.options.maxClickOffset) )//\n// skip tap // & // click { e.stopPropagation(); e.cancelable && e.preventDefault(); //console.log(\"prevented\",\n// Math.abs(dX), Math.abs(dY)) //return; } //else { //console.log(\"not prevented\", Math.abs(dX), Math.abs(dY)) //}\n// //lastStartTm = 0; parents = parentsState = null; } }, null, _.options.enableMouseDrag || mouseDrag, touchDrag )\n// Âµ.doRegister = !!rootNode; } else { Âµ.doRegister = true; } }  getProps() { let props = this.props; props     = {\n// ...props }; delete props.Comp; delete props.xAxis; delete props.yAxis; delete props.tweener; delete\n// props.forwardedRef; return props; }  render() { let { children, Comp, forwardedRef, items = [], xAxis, yAxis,\n// yBoxRef, xBoxRef, yRef, yHook, xHook, tweener, mouseDrag, touchDrag, button, ...props } = this.props; return\n// <TweenerContext.Consumer> { parentTweener => { //console.log('got ', parentTweener._.options.id, xAxis, //\n//  yAxis); ÂµparentTweener = parentTweener; return <Comp ref={this.root} {...props}>{children}</Comp>; } }\n// </TweenerContext.Consumer>; }  }\nDraggable.div = ( props ) => {\n\treturn <Draggable {...props}/>;\n}\nexport default Draggable;","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nimport React from \"react\";\nimport TweenerContext from \"../comps/TweenerContext\";\n\nexport default ()=>{\n\treturn React.useContext(TweenerContext)\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport React                from \"react\";\nimport Tweener              from '../comps/Tweener';\nimport { isReactComponent } from '../utils/react';\n\nconst SimpleObjectProto = ( {} ).constructor;\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function asTweener( ...argz ) {\n    \n    let BaseComponent = ( !argz[ 0 ] || isReactComponent(argz[ 0 ]) ) && argz.shift(),\n        options       = ( !argz[ 0 ] || argz[ 0 ] instanceof SimpleObjectProto ) && argz.shift() || {};\n    if ( !BaseComponent ) {\n        return function ( BaseComponent ) {\n            return asTweener(BaseComponent, options)\n        }\n    }\n    \n    options = {\n        wheelRatio    : 5,\n        maxClickTm    : 200,\n        maxClickOffset: 20,\n        ...options,\n    };\n    \n    \n    let withRef         = React.forwardRef(( props, ref ) => {\n        return <Tweener oProps={ props } forwardedRef={ ref }\n                        BaseComponent={ BaseComponent }\n                        tweenerOptions={ options }/>;\n    });\n    withRef.displayName = String.fromCharCode(0xD83E, 0xDDD9) + ( BaseComponent.displayName || BaseComponent.name );\n    return withRef;\n}\n","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport React from \"react\";\nimport is    from \"is\";\n\nimport { isReactComponent } from '../utils/react';\nimport TweenerContext       from \"../comps/TweenerContext\";\n\n\nconst SimpleObjectProto = ( {} ).constructor;\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function withTweener( ...argz ) {\n    \n    let BaseComponent = ( !argz[ 0 ] || isReactComponent(argz[ 0 ]) ) && argz.shift(),\n        opts          = ( !argz[ 0 ] || argz[ 0 ] instanceof SimpleObjectProto ) && argz.shift() || {};\n    \n    if ( !( BaseComponent && ( BaseComponent.prototype instanceof React.Component || BaseComponent === React.Component ) ) ) {\n        return function ( BaseComponent ) {\n            return withTweener(BaseComponent, opts)\n        }\n    }\n    \n    class TweenerToProps extends React.Component {\n        static displayName = ( BaseComponent.displayName || BaseComponent.name );\n        \n        render() {\n            return <TweenerContext.Consumer>\n                {\n                    tweener => {\n                        return <BaseComponent { ...this.props } tweener={ tweener }\n                                              ref={ this.props.forwardedRef }/>;\n                    }\n                }\n            </TweenerContext.Consumer>;\n        }\n    }\n    \n    \n    let withRef         = React.forwardRef(( props, ref ) => {\n        return <TweenerToProps { ...props } forwardedRef={ ref }/>;\n    });\n    withRef.displayName = TweenerToProps.displayName;\n    return withRef;\n}\n","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport React      from 'react';\nimport Axis       from './comps/Axis';\nimport Context    from './comps/TweenerContext';\nimport Node       from './comps/Node';\nimport Draggable  from './comps/Draggable';\nimport useVoodoo  from './hooks/useVoodoo';\nimport useTweener from './hooks/useTweener';\nimport tweener    from './spells/asTweener';\nimport child      from './spells/withTweener';\nimport dom        from './utils/dom.js';\nimport * as tools from './utils/tweenTools.js';\n\n@tweener\nclass Component extends React.Component {\n    render() {\n        return this.props.children;\n    }\n}\n\nexport {\n    tweener,\n    child,\n    useTweener,\n    useVoodoo,\n    useVoodoo as hook,\n    tools,\n    Draggable,\n    Component,\n    Node,\n    Context,\n    Axis,\n    dom\n};\nexport default {\n    tweener,\n    child,\n    useTweener,\n    useVoodoo,\n    hook: useVoodoo,\n    tools,\n    Draggable,\n    Component,\n    Node,\n    Context,\n    Axis,\n    dom\n};"],"sourceRoot":""}