{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"is\"","webpack:///external \"react\"","webpack:///./src/utils/css/cssUtils.js","webpack:///./src/MapOf.react_voodoo_utils_css_demux_typed_____js.gen.js","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"@babel/runtime/helpers/inheritsLoose\"","webpack:///external \"prop-types\"","webpack:///external \"fast-deep-equal\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"react-dom\"","webpack:///./src/utils/css/demux/typed/shadow.js","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///./src/utils/css/demux/typed/number.js","webpack:///./src/utils/css/demux/typed/color.js","webpack:///external \"d3-ease\"","webpack:///external \"layer-pack/etc/utils/indexUtils.js\"","webpack:///external \"@babel/runtime/helpers/objectWithoutPropertiesLoose\"","webpack:///external \"shortid\"","webpack:///external \"color-rgba\"","webpack:///external \"tween-axis\"","webpack:///./src/utils/css/demux/filter.js","webpack:///./src/utils/css/demux/boxShadow.js","webpack:///./src/utils/css/demux/typed/int.js","webpack:///./src/utils/css/demux/typed/bool.js","webpack:///./src/utils/css/demux/typed/multi.js","webpack:///./src/utils/css/demux/typed/ratio.js","webpack:///./src/utils/css/demux/transform.js","webpack:///./src/utils/css/demux/textShadow.js","webpack:///./src/utils/css/demux/backgroundColor.js","webpack:///./src/comps/TweenerContext.js","webpack:///./src/comps/Axis.js","webpack:///./src/comps/Node.js","webpack:///./src/utils/dom.js","webpack:///./src/spells/withTweener.js","webpack:///./src/comps/Draggable.js","webpack:///./src/hooks/useTweener.js","webpack:///./src/utils/tweenTools.js","webpack:///./src/MapOf.react_voodoo_utils_css_demux_____js.gen.js","webpack:///./src/utils/css/index.js","webpack:///./src/utils/CssTweenAxis.js","webpack:///./src/utils/inertia.js","webpack:///./src/comps/Tweener.js","webpack:///./src/spells/asTweener.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","props","units","unitsRe","RegExp","join","floatCut","v","Number","toFixed","expandShorthandProperty","target","type","childProps","properties","values","split","multiple","forEach","k","length","isShorthandProperty","isValidDeclaration","_exports","walknSetExport","bool","color","int","multi","number","ratio","VALUES_REG","PARTS_REG","LENGTH_REG","parseValue","stringifyValue","isLength","toNum","toPx","cssShadowParser","str","parts","inset","includes","last","slice","undefined","nums","filter","map","offsetX","offsetY","blurRadius","spreadRadius","obj","trim","test","parseFloat","isNaN","parse","stringify","arr","defaultUnits","perspective","defaultBox","translateX","defaultMuxers","release","twKey","tweenableMap","cssMap","dataMap","muxerMap","keepValues","tmpKey","path","pop","keys","console","log","demuxOne","unitIndex","dkey","twVal","baseKey","data","box","unit","x","y","z","demux","tweenable","shadowMap","fkey","iValue","shadows","tmpValue","ti","substr","push","muxOne","initials","noPropLock","seenUnits","match","is","string","unitKey","indexOf","realKey","mux","reOrder","array","tFnKey","baseData","fValue","u","left","right","top","bottom","width","height","defaultValue","opacity","rKey","muxer","vect","rgba","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filters","warn","alias","center","offset","count","nowhere","Math","min","max","translateY","translateZ","scale","scaleZ","scaleX","scaleY","rotate","skewX","skewY","rotateX","rotateY","rotateZ","tmap","transforms","transform","TweenerContext","React","createContext","Axis","state","componentWillUnmount","this","_tweenLines","axe","_previousTweener","rmScrollableAnim","_previousScrollable","render","children","scrollFirst","bounds","scrollableWindow","inertia","size","defaultPosition","items","Consumer","tweener","_previousAxis","_previousInertia","initAxis","scrollableBounds","_previousTweens","deepEqual","_lastTL","addScrollableAnim","Fragment","Component","propTypes","PropTypes","isRequired","any","setTarget","anims","tween","Node","__tweenableId","shortid","generate","_tweenAxisObj","_currentTweener","rmTweenRef","setRootRef","id","style","initial","pos","noRef","reset","tweenLines","isRoot","tweenAxis","onClick","onDoubleClick","parentTweener","error","axisItemsChange","twRef","tweenRef","_tweenAxis","scrollY","reduce","h","_updateTweenRef","refChild","Children","only","isValidElement","cloneElement","e","_lastRef","div","className","query","prefixes","isBrowser","window","_dom","DocumentTouch","document","matchMedia","matches","prefix","navigator","appVersion","userAgent","dashedPrefix","__","onPageHided","onPageShown","dragging","dragEnabled","dragEnabledDesc","fingers","nbFingers","dragstartAnywhere","finger","desc","me","Dom","addEvent","dragAnywhere","dropAnywhere","dropWithoutClick","changedTouches","ln","identifier","_startPos","pageX","pageY","_startTs","timeStamp","_lastPos","dragstart","stopped","drag","preventNextClick","preventDefault","stopPropagation","stopImmediatePropagation","removeEvent","prevent","mouseDrag","dropped","getDraggable","node","locks","dragEnd","freeDraggable","splice","addOverflowEvent","element","fn","addEventListener","orient","horizontalOverflow","verticalOverflow","bubble","attachEvent","related","removeEventListener","detachEvent","rmDragFn","scope","passive","elem","dims","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","addWheelEvent","_addEventListener","support","createElement","onmousewheel","normalizeWheel","event","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","_addWheelListener","eventName","callback","useCapture","_wheelList","originalEvent","srcElement","delatZ","returnValue","normalized","rmWheelEvent","_rmEventListener","_EventListener","findReactParents","fiberNode","comps","startsWith","return","stateNode","parentNode","SimpleObjectProto","constructor","withTweener","argz","BaseComponent","shift","opts","TweenerToProps","ref","forwardedRef","displayName","withRef","forwardRef","Draggable","_","root","createRef","current","scrollEnabled","dragList","domUtils","componentDidMount","_registerScrollListeners","getScrollableNodes","scrollable","refs","ReactDom","findDOMNode","getElementById","lastStartTm","cLock","dX","parents","dY","parentsState","rootNode","xAxis","yAxis","touch","descr","pTweener","Date","now","__isTweener","axes","_updateNodeInertia","options","maxClickTm","abs","maxClickOffset","xDispatched","yDispatched","dragDirectionLock","scrollPos","startMove","inertiaFrame","applyInertia","scrollableArea","isInbound","componentShouldScroll","hold","cancelable","enableMouseDrag","doRegister","getProps","Comp","defaultProps","re_cssValueWithUnit","cssAdd","val1","val2","units1","units2","remap","result","cssMult","val","start","item","from","duration","withOffset","iDuration","inverseValues","reverse","apply","MultiCssProps","addCss","sources","source","addAllType","v1","v2","values1","values2","extractCss","inverse","css","shiftTransforms","unshift","cssDemux","cssDemuxers","marginTop","marginLeft","marginRight","marginBottom","paddingTop","paddingLeft","paddingRight","paddingBottom","borderRadius","transformOrigin","zIndex","clearTweenableValue","cssKey","muxToCss","demuxers","deMuxTween","deMuxedTween","fTween","excluded","deMuxLine","tweenLine","allPropsById","twAxis","line","demuxedTween","recyclableTweenAxis","CssTweenAxis","cfg","recyled","localLength","mount","arguments","destroy","__marks","__marksLength","__marksKeys","__processors","__config","__activeForks","__activeProcess","__outgoing","__incoming","__cPos","__cIndex","__cMaxKey","easingFn","signOf","NaN","floor","round","Inertia","opt","conf","config","active","refFPS","currentStop","lastInertiaPos","stops","disabled","wayPoints","inertiaFn","easePolyOut","targetWayPointIndex","_detectCurrentSnap","update","at","nextValue","loop","inertiaStartTm","targetDuration","targetDist","delta","targetWayPoint","currentWayPoint","currentWayPointIndex","onInertiaEnd","shouldLoop","setPos","setWayPoints","teleport","loopDist","dispatch","tm","inertiaLastTm","_doSnap","forceSnap","maxDuration","mid","maxJump","willSnap","infinite","setBounds","baseTS","startTS","lastVelocity","lastIVelocity","lastAccel","posDiff","holding","nextPos","lastHoldPos","sinceLastPos","iVel","velSign","loopsTarget","loopsVelSum","pow","snapToBounds","_live","lastTm","isBrowserSide","Function","isArray","_running","Runner","_tick","cpos","cb","setTimeout","Tweener","activeInertia","_inertiaRaf","cancelAnimationFrame","scrollLeft","scrollTop","requestAnimationFrame","_swap","muxByTarget","_rafLoop","rootRef","enableMouseScroll","tweenerOptions","tweenRefCSS","tweenRefs","tweenRefMaps","iMapOrigin","tweenRefInitialData","tweenEnabled","tweenRefOrigin","tweenRefOriginCss","muxDataByTarget","tweenRefDemuxed","tweenRefTargets","runningAnims","scrollHook","onResize","_updateBox","_updateTweenRefs","windowDidResize","iStyle","iMap","noref","mapReset","assign","resetTweenable","targets","updateRefStyle","postPone","pureCss","getTweenableRef","getRootNode","pushAnim","anim","then","keepResults","sl","fail","Promise","resolve","run","rkey","live","applyTweenState","_inertia","_scrollableArea","_scrollableBounds","_scrollableWindow","dim","targetPos","nextDescr","_getAxis","initialScrollPos","getAxisState","getScrollPos","scrollTo","newPos","ms","ease","reject","oldPos","componentDidScroll","_runScrollGoTo","goTo","found","tl","to","easing","tick","hookScrollableTargets","isInertiaActive","dispatchScroll","isAxisOut","_doDispatch","dx","dy","Comps","headTarget","getComputedStyle","getPropertyValue","scrollHeight","clientHeight","_activateNodeInertia","findIndex","scrollWidth","inited","force","swap","clearTimeout","_static","rendered","scrollableAnim","componentDidUpdate","prevProps","prevState","oProps","_parentTweener","Provider","asTweener","wheelRatio","String","fromCharCode","child","useTweener","useContext","tools","Context","dom"],"mappings":";;;;;;;;;;;;;;;;;2BACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,IAIjBlC,EAAoBA,EAAoBmC,EAAI,I,gBClFrDhC,EAAOD,QAAUkC,QAAQ,O,cCAzBjC,EAAOD,QAAUkC,QAAQ,U,6BCAzB,4MAkBA,IAAMC,EAAQ,CACb,OAA+B,CAAE,WAAc,CAAC,YAAa,cAAe,eAAgB,eAC5F,aAA+B,CAAE,MAAS,CAAC,WAC3C,WAA+B,CAAE,MAAS,CAAC,WAC3C,YAA+B,CAAE,MAAS,CAAC,WAC3C,UAA+B,CAAE,MAAS,CAAC,WAC3C,QAA+B,CAAE,WAAc,CAAC,aAAc,eAAgB,gBAAiB,gBAC/F,cAA+B,CAAE,MAAS,CAAC,WAC3C,YAA+B,CAAE,MAAS,CAAC,WAC3C,aAA+B,CAAE,MAAS,CAAC,WAC3C,WAA+B,CAAE,MAAS,CAAC,WAC3C,OAA+B,CAAE,MAAS,CAAC,2BAC3C,KAA+B,CAAE,MAAS,CAAC,2BAC3C,MAA+B,CAAE,MAAS,CAAC,2BAC3C,IAA+B,CAAE,MAAS,CAAC,2BAC3C,OAA+B,CAAE,MAAS,CAAC,YAC3C,MAA+B,CAAE,MAAS,CAAC,2BAC3C,SAA+B,CAAE,MAAS,CAAC,2BAC3C,SAA+B,CAAE,MAAS,CAAC,2BAC3C,OAA+B,CAAE,MAAS,CAAC,2BAC3C,UAA+B,CAAE,MAAS,CAAC,2BAC3C,UAA+B,CAAE,MAAS,CAAC,2BAC3C,WAA+B,CAAE,MAAS,CAAC,SAAU,WACrD,cAA+B,CAAE,MAAS,CAAC,WAC3C,WAA+B,CAAE,MAAS,CAAC,eAC3C,cAA+B,CAAE,MAAS,CAAC,UAAW,UAAY,GAClE,MAA+B,CAAE,MAAS,CAAC,UAC3C,QAA+B,CAAE,MAAS,CAAC,WAC3C,WAA+B,CAAE,WAAc,CAAC,kBAAmB,qBAAsB,mBACzF,gBAA+B,CAAE,MAAS,CAAC,UAC3C,mBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,EAAM,YAAc,GACtG,eAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,EAAM,YAAc,GACtG,OAA+B,CAAE,WAAc,CAAC,cAAe,gBAC/D,aAA+B,CAAE,WAAc,CAAC,oBAAqB,sBACrE,WAA+B,CAAE,WAAc,CAAC,kBAAmB,oBACnE,YAA+B,CAAE,WAAc,CAAC,mBAAoB,qBACpE,UAA+B,CAAE,WAAc,CAAC,iBAAkB,mBAClE,YAA+B,CAAE,WAAc,CAAC,iBAAkB,mBAAoB,oBAAqB,oBAC3G,YAA+B,CAAE,WAAc,CAAC,iBAAkB,mBAAoB,oBAAqB,oBAC3G,kBAA+B,CAAE,MAAS,CAAC,UAC3C,gBAA+B,CAAE,MAAS,CAAC,UAC3C,iBAA+B,CAAE,MAAS,CAAC,UAC3C,eAA+B,CAAE,MAAS,CAAC,UAC3C,kBAA+B,CAAE,MAAS,CAAC,WAC3C,gBAA+B,CAAE,MAAS,CAAC,WAC3C,iBAA+B,CAAE,MAAS,CAAC,WAC3C,eAA+B,CAAE,MAAS,CAAC,WAC3C,aAA+B,CAAE,WAAc,CAAC,sBAAuB,uBAAwB,0BAA2B,2BAC1H,oBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,GAClF,qBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,GAClF,wBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,GAClF,uBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,GAClF,UAA+B,CAAE,MAAS,CAAC,gBAC3C,WAA+B,CAAE,MAAS,CAAC,UAC3C,QAA+B,CAAE,WAAc,CAAC,eAAgB,iBAChE,aAA+B,CAAE,MAAS,CAAC,UAC3C,aAA+B,CAAE,MAAS,CAAC,WAC3C,cAA+B,CAAE,MAAS,CAAC,WAC3C,KAA+B,CAAE,WAAc,CAAC,WAAY,aAAc,cAC1E,SAA+B,CAAE,MAAS,CAAC,WAC3C,WAA+B,CAAE,MAAS,CAAC,WAC3C,UAA+B,CAAE,MAAS,CAAC,2BAC3C,MAA+B,CAAE,MAAS,CAAC,YAC3C,KAA+B,CAAE,WAAc,CAAC,aAAc,cAAe,WAAY,eACzF,WAA+B,CAAE,MAAS,CAAC,gBAC3C,YAA+B,CAAE,MAAS,CAAC,iBAC3C,SAA+B,CAAE,MAAS,CAAC,WAC3C,eAA+B,CAAE,MAAS,CAAC,WAC3C,oBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,GAClF,iBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,GAClF,aAA+B,CAAE,WAAc,CAAC,mBAAoB,wBACpE,KAA+B,CAAE,WAAc,CAAC,mBAAoB,wBACpE,WAA+B,CAAE,MAAS,CAAC,2BAC3C,cAA+B,CAAE,MAAS,CAAC,2BAC3C,QAA+B,CAAE,WAAc,CAAC,aAAc,kBAC9D,KAA+B,CAAE,MAAS,CAAC,cAC3C,SAA+B,CAAE,MAAS,CAAC,gBAC3C,KAA+B,CAAE,WAAc,CAAC,eAAgB,aAChE,aAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,EAAM,YAAc,GACtG,SAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,EAAM,YAAc,GACtG,aAA+B,CAAE,MAAS,CAAC,gBAC3C,YAA+B,CAAE,MAAS,CAAC,2BAC3C,oBAA+B,CAAE,MAAS,CAAC,WAC3C,cAA+B,CAAE,WAAc,CAAC,mBAAoB,qBAAsB,sBAAuB,sBACjH,iBAA+B,CAAE,MAAS,CAAC,2BAC3C,mBAA+B,CAAE,MAAS,CAAC,2BAC3C,oBAA+B,CAAE,MAAS,CAAC,2BAC3C,kBAA+B,CAAE,MAAS,CAAC,2BAC3C,mBAA+B,CAAE,WAAc,CAAC,0BAA2B,0BAC3E,wBAA+B,CAAE,MAAS,CAAC,2BAC3C,sBAA+B,CAAE,MAAS,CAAC,2BAC3C,oBAA+B,CAAE,WAAc,CAAC,2BAA4B,2BAC5E,yBAA+B,CAAE,MAAS,CAAC,2BAC3C,uBAA+B,CAAE,MAAS,CAAC,2BAC3C,iBAA+B,CAAE,WAAc,CAAC,sBAAuB,wBAAyB,yBAA0B,yBAC1H,oBAA+B,CAAE,MAAS,CAAC,WAC3C,sBAA+B,CAAE,MAAS,CAAC,WAC3C,uBAA+B,CAAE,MAAS,CAAC,WAC3C,qBAA+B,CAAE,MAAS,CAAC,WAC3C,sBAA+B,CAAE,WAAc,CAAC,6BAA8B,6BAC9E,2BAA+B,CAAE,MAAS,CAAC,WAC3C,yBAA+B,CAAE,MAAS,CAAC,WAC3C,uBAA+B,CAAE,WAAc,CAAC,8BAA+B,8BAC/E,4BAA+B,CAAE,MAAS,CAAC,WAC3C,0BAA+B,CAAE,MAAS,CAAC,WAC3C,eAA+B,CAAE,WAAc,CAAC,wBAChD,oBAA+B,CAAE,MAAS,CAAC,UAC3C,aAA+B,CAAE,WAAc,CAAC,sBAChD,kBAA+B,CAAE,MAAS,CAAC,UAC3C,WAA+B,CAAE,MAAS,CAAC,gBAC3C,QAA+B,CAAE,WAAc,CAAC,cAAe,gBAC/D,YAA+B,CAAE,MAAS,CAAC,WAC3C,YAA+B,CAAE,MAAS,CAAC,YAC3C,UAA+B,CAAE,MAAS,CAAC,2BAC3C,WAA+B,CAAE,WAAc,CAAC,kBAAmB,oBACnE,gBAA+B,CAAE,MAAS,CAAC,UAC3C,gBAA+B,CAAE,MAAS,CAAC,WAC3C,cAA+B,CAAE,MAAS,CAAC,WAC3C,QAA+B,CAAE,MAAS,CAAC,WAC3C,WAA+B,CAAE,MAAS,CAAC,2BAC3C,YAA+B,CAAE,MAAS,CAAC,2BAC3C,UAA+B,CAAE,MAAS,CAAC,cAC3C,gBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,GAClF,YAA+B,CAAE,MAAS,CAAC,WAC3C,kBAA+B,CAAE,MAAS,CAAC,0BAA2B,UAAY,IAmEtEC,EAAW,CAAC,GAAI,MAAO,MAAO,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,OAAQ,QAC7IC,EAAW,IAAIC,OAC3B,mCACA,CAAC,OAAQ,MAAO,KAAM,KAAM,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,OAAQ,QAAQC,KAAK,KAC7J,KAEUC,EAAW,SAAEC,GAAF,gBAAEA,MAAI,GAAOC,OAAOD,EAAEE,QAAQ,KAE/C,SAASC,EAAyBf,EAAUV,EAAO0B,QAAc,IAAdA,MAAS,IAClE,IAAIC,EAAaX,EAAMN,GACnBkB,EAAaD,GAAQA,EAAKE,WAC1BC,EAAa9B,EAAM+B,MAAM,KAe7B,OAbKJ,EAAKK,SACTJ,GAAcA,EAAWK,SACxB,SAAEC,EAAGnD,GACJ2C,EAAOQ,GAAKJ,EAAO/C,EAAI+C,EAAOK,WAIhCP,GAAcA,EAAWK,SACxB,SAAEC,EAAGnD,GACC+C,EAAO/C,KACX2C,EAAOQ,GAAKJ,EAAO/C,OAGhB2C,EAGD,SAASU,EAAqB1B,GACpC,IAAIiB,EAAaX,EAAMN,GACnBkB,EAAaD,GAAQA,EAAKE,WAC9B,OAAOD,KAAgBA,EAAWO,OAI5B,SAASE,EAAoB3B,EAAUV,GAC7C,QAASgB,EAAMN,K,6BCtPhB,4MACA,IAAS4B,EAAW,GAAIC,EAAexB,EAAQ,IAAsCwB,eAErFA,EAAeD,EAAU,MAD0BvB,EAAQ,KAG3DwB,EAAeD,EAAU,OAD2BvB,EAAQ,KAG5DwB,EAAeD,EAAU,QAD4BvB,EAAQ,KAG7DwB,EAAeD,EAAU,QAD4BvB,EAAQ,KAG7DwB,EAAeD,EAAU,QAD4BvB,EAAQ,KAG7DwB,EAAeD,EAAU,SAD6BvB,EAAQ,KAG9DwB,EAAeD,EAAU,SAD6BvB,EAAQ,KAGvD,IAAMyB,EAAOF,EAASE,KAEhBC,EAAQH,EAASG,MAEjBC,EAAMJ,EAASI,IAEfC,EAAQL,EAASK,MAEjBC,EAASN,EAASM,OAElBC,EAAQP,EAASO,O,cC3B9B/D,EAAOD,QAAUkC,QAAQ,0C,cCAzBjC,EAAOD,QAAUkC,QAAQ,yC,cCAzBjC,EAAOD,QAAUkC,QAAQ,e,cCAzBjC,EAAOD,QAAUkC,QAAQ,oB,cCAzBjC,EAAOD,QAAUkC,QAAQ,mC,cCAzBjC,EAAOD,QAAUkC,QAAQ,c,y1BCuBzB,IACO+B,EACAC,EACAC,EAEAC,EAsBAC,EAuBAC,EACAC,EAKAC,EAxDDC,GACCR,EAAa,gBACbC,EAAa,gBACbC,EAAa,sBAEbC,EAAa,SAAAM,GAClB,IAAMC,EAAQD,EAAIxB,MAAMgB,GAClBU,EAAQD,EAAME,SAAS,SACvBC,EAAQH,EAAMI,OAAO,GAAG,GACxBnB,EAASU,EAASQ,QAAeE,EAAPF,EAE1BG,EAA+CN,EACnDO,QAAO,SAAAvD,GAAC,MAAU,UAANA,KACZuD,QAAO,SAAAvD,GAAC,OAAIA,IAAMiC,KAClBuB,IAAIZ,GAGN,MAAO,CACNK,QACAQ,QAJoDH,EAV5B,GAexBI,QALoDJ,EAV5B,GAgBxBK,WANoDL,EAV5B,GAiBxBM,aAPoDN,EAV5B,GAkBxBrB,UAIIS,EAAiB,SAAAmB,GAAO,MAQnBA,GAAO,GANVZ,EAFsB,EAEtBA,MAFsB,IAGtBQ,eAHsB,MAGT,EAHS,MAItBC,eAJsB,MAIT,EAJS,MAKtBC,WAKP,MAAO,CACLV,EAAQ,QAAU,KACnBQ,EACAC,OAb4B,MAKT,EALS,IAMtBE,aANsB,EAOtB3B,OAULsB,QAAO,SAAAzC,GAAC,OAAIA,WACZ0C,IAAIX,GACJW,KAAI,SAAAlD,GAAC,OAAK,GAAKA,GAAGwD,UAClBlD,KAAK,MAGF+B,EAAW,SAAA7B,GAAC,MAAU,MAANA,GAAa0B,EAAWuB,KAAKjD,IAC7C8B,EAAW,SAAA9B,GAChB,IAAM,MAAMiD,KAAKjD,IAAY,MAANA,EAAY,OAAOA,EAC1C,IAAMd,EAAIgE,WAAWlD,GACrB,OAAQmD,MAAMjE,GAASc,EAAJd,GAEd6C,EAAW,SAAA7C,GAAC,MAAiB,iBAANA,GAAwB,IAANA,EAAWA,EAAI,KAAQA,GAK/D,CACNkE,MAJiB,SAAAnB,GAAG,OAAIA,EAAIxB,MAAMe,GAAYkB,KAAI,SAAAlD,GAAC,OAAIA,EAAEwD,UAAQN,IAAIf,IAKrE0B,UAJiB,SAAAC,GAAG,OAAIA,EAAIZ,IAAId,GAAgB9B,KAAK,SASjDyD,EAAgB,CACfC,YAAa,MAEdC,EAAgB,CACfC,WAAY,KAEbC,EAAgB,CAEfxB,MAAOjB,IAIPC,MAAOA,KAGP,SAASyC,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GACxE,IAA6BC,EAAzBC,EAAOP,EAAMpD,MAAM,KACvB,GAAK2D,EAAKvD,OAAS,EAAI,CAItB,GADAsD,EAASC,EAAK,GAAK,IAAMA,EAAK,GAAK,IAAMA,EAAK,GACzCT,EAAcS,EAAK,IAevB,OAdAT,EAAcS,EAAK,IAAIR,QAAQC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GACzEF,EAAQG,MAELH,EAAQI,EAAK,IAAIA,EAAK,IAAIA,EAAK,KAAQF,UACvCF,EAAQI,EAAK,IAAIA,EAAK,IAAIA,EAAK,SAIP,IAA5BJ,EAAQI,EAAK,IAAIvD,QAAiBqD,WAC/BF,EAAQI,EAAK,WACbH,EAASG,EAAK,WACdL,EAAOK,EAAK,MAcrB,KAPQJ,EAAQI,EAAK,IAAIA,EAAK,IAAIA,EAAK,KAAQF,UACvCF,EAAQI,EAAK,IAAIA,EAAK,IAAIA,EAAK,KAMjCF,EACL,KAAQF,EAAQI,EAAK,IAAIvD,SAAWmD,EAAQI,EAAK,IAAIJ,EAAQI,EAAK,IAAIvD,OAAS,IAC9EmD,EAAQI,EAAK,IAAIC,MAYnB,KAPQL,EAAQG,GAAQC,EAAK,KAAQF,WAC7BF,EAAQG,GAAQC,EAAK,WAErBN,EAAaD,KAIfK,EACL,KAAQF,EAAQG,GAAQtD,SAAWmD,EAAQG,GAAQH,EAAQG,GAAQtD,OAAS,IAC3EmD,EAAQG,GAAQE,MAKlB,GAHgC,IAA3BL,EAAQG,GAAQtD,QAAiBqD,UAC9BF,EAAQG,IAEVD,EACL,KAAQF,EAAQI,EAAK,IAAIvD,SAAW1C,OAAOmG,KAAKN,EAAQI,EAAK,IAAIJ,EAAQI,EAAK,IAAIvD,OAAS,IAAIA,QAC9FmD,EAAQI,EAAK,IAAIC,MAEc,IAA5BL,EAAQI,EAAK,IAAIvD,QAAiBqD,WAC/BF,EAAQI,EAAK,WACbH,EAASG,EAAK,WACdL,EAAOK,EAAK,UAKpBG,QAAQC,IAAI,MAAOJ,GAId,SAASK,EAAUC,EAAWC,EAAMC,EAAOC,EAASC,EAAMC,GAChE,IAAIrG,EAAQkG,EACRI,EAAQrF,IAAM+E,IAAcnB,EAAasB,GAsB7C,MApBc,QAATG,IACJtG,GAAiBqG,EAAItB,EAAWoB,KAAaE,EAAIE,EACjDD,EAAQ,MAEK,OAATA,IACJtG,GAAgBqG,EAAIE,EACpBD,EAAQ,MAEK,OAATA,IACJtG,GAAgBqG,EAAIG,EACpBF,EAAQ,MAEK,OAATA,IACJtG,GAAgBqG,EAAII,EACpBH,EAAQ,MAGK,QAATA,IACJtG,GAAgB,KAEVsG,EAAOjF,YAASrB,GAASsG,EAAOjF,YAASrB,GAG1C,SAAS0G,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,EAAMC,GAKpD,IAHA,IAEYO,EAAWC,EAAeb,EAAWC,EAASa,EAAe9G,EAFrE+G,EAAkE,GAClEC,EAAkE,GAClEC,EAAK,EAAyDT,EAAI,EAC9DS,EAAKb,EAAK9F,GAAK6B,OAAQ8E,IAAO,CAGrC,IAAMJ,KADNG,EAAY,GADZJ,EAAYR,EAAK9F,GAAK2G,GAGrB,GAAKL,EAAUhG,eAAeiG,GAAQ,CAIrC,GAHAZ,EAAO3F,EAAM,IAAM2G,EAAK,IAAMJ,EAGzB5B,EAAc4B,GAClB7G,EAAQiF,EAAc4B,GAAMH,MAAMT,EAAMU,OAAW9C,EAAWuC,EAAMC,OAIhE,CAGJ,IAFArG,EAAQ,GACRwG,EAAQ,EACFR,EAAY,EAAGA,EAAYI,EAAKH,GAAM9D,OAAQ6D,IAC9CI,EAAKH,GAAMD,KAEfc,EAAUf,EAASC,EAAWC,EAAMU,EAD1BV,EAAO,IAAMD,GACiCa,EAAMT,EAAMC,GAC/DG,GAAmB,MAAdM,EAAO,GAChBA,EAAS,MAAQA,EAAOI,OAAO,GACtBV,IACTM,EAAS,MAAQA,GAClB9G,GAAS8G,EACTN,KAGGA,EAAI,IACRxG,EAAQ,QAAUA,EAAQ,KAG5BgH,EAASH,GAAS7G,GAAS,EAE7B+G,EAAQI,KAAKH,GAGdtF,EAAOpB,GAAOgD,EAAgBqB,UAAUoC,GAKlC,SAASK,EAAQ9G,EAAK6F,EAASnG,EAAO0B,EAAQ0E,EAAMiB,EAAUC,EAAYC,GAEhF,IAAIC,IAAUC,IAAGC,OAAO1H,IAASA,EAAMwH,MAAMtG,KACzCoF,EAAUkB,GAASA,EAAM,IAAM3C,EAAasB,IAAY,KACxDwB,EAAU1G,IAAM2G,QAAQtB,GACxBuB,GAAuB,IAAbF,GAAmBrH,EAAM,IAAMqH,GAAYrH,EA2BzD,OAzBA+G,EAASQ,GAAY,EACrBzB,EAAK9F,GAAKqH,GAAWvB,EAAK9F,GAAKqH,IAAY,EAGtCJ,GAAaA,EAAUI,GAG1BjG,EAAOmG,IADHL,EACehD,WAAWgD,EAAM,IAGjBhD,WAAWxE,KAK9BsH,GAAclB,EAAK9F,GAAKqH,KAExBjG,EAAOmG,GADHL,EACchD,WAAWgD,EAAM,IAGjBhD,WAAWxE,GAEzBuH,IAAYA,EAAUI,IAAW,IAGhCjB,EAED,IAAMoB,EAAM,SAAExH,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,EAAYS,GAEpE3B,EAAK9F,GAAO8F,EAAK9F,IAAQ,GAGnBmH,IAAGO,MAAMhI,KACdA,EAAQ,CAACA,IAEV,IADA,IAAY4G,EAAWqB,EAAQC,EAAUC,EAAQlC,EAAMmC,EAAGb,EAAtDN,EAAK,EACDA,EAAKjH,EAAMmC,OAAQ8E,IAAO,CAKjC,IAAMgB,KAJNrB,EAAY5G,EAAMiH,GACbQ,IAAGC,OAAOd,KACdA,EAAYtD,EAAgBoB,MAAMkC,GAAW,IAC9CsB,EAAWH,EAAU,GAAH,KAAc3B,EAAK9F,GAAK2G,IAAO,IACjCL,EACf,GAAKA,EAAUhG,eAAeqH,GAM7B,GALAE,EAASvB,EAAUqB,GACnBhC,EAAS3F,EAAM,IAAM2G,EAAK,IAAMgB,EAEhCC,EAASD,GAAUC,EAASD,IAAW7B,EAAK9F,GAAK2G,IAAOb,EAAK9F,GAAK2G,GAAIgB,IAAW,GAChFX,GAAcY,EAASD,KACnBhD,EAAcgD,GAClBhD,EAAcgD,GAAQH,IAAI7B,EAAMkC,EAAQzG,EAAQ0E,EAAMiB,EAAUC,EAAYS,QAQ5E,GAJAR,EAAY,GAGZnB,EAAKH,GAAQG,EAAKH,IAAS,GACtBwB,IAAGO,MAAMG,GACb,IAAMC,EAAI,EAAGA,EAAID,EAAOhG,OAAQiG,IAC/BhB,EAAOnB,EAAMgC,EAAQE,EAAOC,IAAM,EAAG1G,EAAQ0E,EAAMiB,EAAUC,EAAYC,QAI1EH,EAAOnB,EAAMgC,EAAQE,GAAU,EAAGzG,EAAQ0E,EAAMiB,EAAUC,GAM9DlB,EAAK9F,GAAK2G,GACTc,EAAO,SACAG,GAAc9B,EAAK9F,GAAK2G,IAAO,IAAQiB,GAE9CA,EAGF,OAAOxB,I,cC3UR5H,EAAOD,QAAUkC,QAAQ,iD,6BCAzB,0QAqBM8D,EAAkB,CACjBwD,KAAa,KACbC,MAAa,KACbC,IAAa,KACbC,OAAa,KACbC,MAAa,KACbC,OAAa,KACb5D,YAAa,MAEdC,EAAkB,CACjBsD,KAAQ,IACRC,MAAQ,IACRC,IAAQ,IACRC,OAAQ,IACRC,MAAQ,IACRC,OAAQ,KACNC,EAAe,CACjBC,QAAS,GAGT,SAAS1D,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GACxE,IAAIE,EAAOP,EAAMpD,MAAM,KAEvB,GAAqB,IAAhB2D,EAAKvD,OAAe,CAOxB,KALQmD,EAAQI,EAAK,IAAIA,EAAK,KAAQF,UAC9BJ,EAAaD,IAIfK,EACL,KAAQF,EAAQI,EAAK,IAAIvD,SAAWmD,EAAQI,EAAK,IAAIJ,EAAQI,EAAK,IAAIvD,OAAS,IAC9EmD,EAAQI,EAAK,IAAIC,MAEc,IAA5BL,EAAQI,EAAK,IAAIvD,QAAiBqD,WAC/BF,EAAQI,EAAK,WACbH,EAASG,EAAK,IAChBL,UAAgBA,EAAOK,EAAK,UAKlCG,QAAQC,IAAI,MAAOJ,GAId,SAASK,EAAU4B,EAASzB,EAAOC,EAASC,EAAMC,GACxD,IAAIrG,EAAQkG,EACRI,EAAQrF,IAAM0G,IAAY9C,EAAasB,IAAY,KAmBvD,MAjBc,QAATG,IACJtG,GAAiBqG,EAAItB,EAAWoB,KAAaE,EAAIE,EACjDD,EAAQ,MAGK,OAATA,IACJtG,GAAgBqG,EAAIE,EACpBD,EAAQ,MAEK,OAATA,IACJtG,GAAgBqG,EAAIG,EACpBF,EAAQ,MAEK,OAATA,IACJtG,GAAgBqG,EAAII,EACpBH,EAAQ,MAEFA,EAAOjF,YAASrB,GAASsG,EAAOjF,YAASrB,GAG1C,SAAS0G,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,EAAMC,EAAKF,GACzD,IAAInG,EAAcwG,EAAGqC,EAAV9J,EAAI,EAOf,IALAiB,EAAQ,GAKFwG,EAAI,EAAGA,EAAIJ,EAAK9F,GAAK6B,OAAQqE,IAC7BJ,EAAK9F,GAAKkG,KAETG,EADLkC,EAAOvI,EAAM,IAAMkG,GACI,EACtBxG,IAAUjB,EAAI,MAAQ,KAAOgH,EAASS,GAAIG,EAAUkC,GAAO1C,GAAW7F,EAAK8F,EAAMC,GAEjFrG,IAAUjB,EAAI,MAAQ,IAAMgH,EAASS,EAAGG,EAAUkC,GAAO1C,GAAW7F,EAAK8F,EAAMC,GAChFtH,KAMF,OAJKA,EAAI,IACRiB,EAAQ,QAAUA,EAAQ,KAGpB0B,EAASA,EAAOpB,GAAON,EAAQA,EAGhC,SAAS8I,EAAOxI,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,GAE1DlB,EAAK9F,GAAW8F,EAAK9F,IAAQ,GAC7B,IAAIiH,EAAY,GAChB,GAAKE,IAAGO,MAAMhI,GACb,IAAM,IAAIjB,EAAI,EAAGA,EAAIiB,EAAMmC,OAAQpD,IAClCqI,EAAO9G,EAAKN,EAAMjB,IAAM,EAAG2C,EAAQ0E,EAAMiB,EAAUC,EAAYC,QAIhEH,EAAO9G,EAAKN,GAAS,EAAG0B,EAAQ0E,EAAMiB,EAAUC,GAGjD,OAAOZ,EAGD,SAASU,EAAQ9G,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,EAAYC,GAEvE,IAAIC,IAAUC,IAAGC,OAAO1H,IAASA,EAAMwH,MAAMtG,KACzCoF,EAAUkB,GAASA,EAAM,IAAM3C,EAAavE,IAAQ,KACpDqH,EAAU1G,IAAM2G,QAAQtB,GACxBuB,GAAuB,IAAbF,GAAmBrH,EAAM,IAAMqH,GAAYrH,EA2BzD,OAzBA+G,EAASQ,GAAYc,EAAarI,IAAQ,EAC1C8F,EAAK9F,GAAKqH,GAAWvB,EAAK9F,GAAKqH,IAAY,EAGtCJ,GAAaA,EAAUI,GAG1BjG,EAAOmG,IADHL,EACehD,WAAWgD,EAAM,IAGjBhD,WAAWxE,KAK9BsH,GAAclB,EAAK9F,GAAKqH,KAExBjG,EAAOmG,GADHL,EACchD,WAAWgD,EAAM,IAGjBhD,WAAWxE,GAEzBuH,IAAYA,EAAUI,IAAW,IAGhCjB,EAGD,IAAMoB,EAAMgB,G,6BCtKnB,8IAoBO,SAAS5D,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GACxE,IAAIE,EAASP,EAAMpD,MAAM,KACrB0D,EAASC,EAAK9B,MAAM,EAAG8B,EAAKvD,OAAS,GAAGf,KAAK,OAGzCkE,EAAQH,IAAWK,WACnBJ,EAAaD,UACbG,EAAQH,MAKRG,EAAQG,IAAYD,WACpBJ,EAAaD,UACbG,EAAQH,IAQV,SAASuB,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,GAC9C,IAAIpG,EAAQ,QAAU2G,EAAUrG,EAAM,MAAQ,KAAOqG,EAAUrG,EAAM,MAAQ,KAAOqG,EAAUrG,EAAM,MAAQ,KAAOqG,EAAUrG,EAAM,MAAQ,IAC3I,OAAOoB,EACAA,EAAOpB,GAAON,EAAQA,EAGvB,SAAS8H,EAAKxH,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,GACxD,IAAIyB,EAAOC,IAAKhJ,GA2BhB,OAzBAoG,EAAK9F,GAAc8F,EAAK9F,IAAQ,EAChC8F,EAAK9F,EAAM,MAAQ8F,EAAK9F,EAAM,OAAS,EACvC8F,EAAK9F,EAAM,MAAQ8F,EAAK9F,EAAM,OAAS,EACvC8F,EAAK9F,EAAM,MAAQ8F,EAAK9F,EAAM,OAAS,EACvC8F,EAAK9F,EAAM,MAAQ8F,EAAK9F,EAAM,OAAS,EACjCgH,IACLlB,EAAK9F,IAAQ,EACb8F,EAAK9F,EAAM,QACX8F,EAAK9F,EAAM,QACX8F,EAAK9F,EAAM,QACX8F,EAAK9F,EAAM,SAGZoB,EAAOpB,EAAM,MAAQyI,EAAK,GAC1BrH,EAAOpB,EAAM,MAAQyI,EAAK,GAC1BrH,EAAOpB,EAAM,MAAQyI,EAAK,GAC1BrH,EAAOpB,EAAM,MAAQyI,EAAK,GAE1B1B,EAAS/G,GAAO,EAEhB+G,EAAS/G,EAAM,MAAQ,EACvB+G,EAAS/G,EAAM,MAAQ,EACvB+G,EAAS/G,EAAM,MAAQ,EACvB+G,EAAS/G,EAAM,MAAQ,EAEhBoG,I,cC5ER5H,EAAOD,QAAUkC,QAAQ,Y,cCAzBjC,EAAOD,QAAUkC,QAAQ,uC,cCAzBjC,EAAOD,QAAUkC,QAAQ,wD,cCAzBjC,EAAOD,QAAUkC,QAAQ,Y,cCAzBjC,EAAOD,QAAUkC,QAAQ,e,cCAzBjC,EAAOD,QAAUkC,QAAQ,e,8DCAzB,oJAsBC8D,EAAe,CACdoE,KAAY,KACZC,WAAY,IACZC,SAAY,IACZC,YAAY,EACZC,UAAY,IACZC,UAAY,MACZC,OAAY,IACZX,QAAY,IACZY,SAAY,IACZC,MAAY,KAIP,SAASvE,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GACxE,IAA6BC,EAAzBC,EAAOP,EAAMpD,MAAM,KAEvB,GADA8D,QAAQC,IAAI,MAAOX,EAAOO,GACL,IAAhBA,EAAKvD,OAAe,CAQxB,KAPQmD,EAAQI,EAAK,IAAIA,EAAK,IAAIA,EAAK,KAAQF,UACvCF,EAAQI,EAAK,IAAIA,EAAK,IAAIA,EAAK,IAGgB,IAAlDjG,OAAOmG,KAAKN,EAAQI,EAAK,IAAIA,EAAK,KAAKvD,QAAiBqD,UACrDF,EAAQI,EAAK,IAAIA,EAAK,KAExBF,EACL,KAAQF,EAAQI,EAAK,IAAIvD,SAAWmD,EAAQI,EAAK,IAAIJ,EAAQI,EAAK,IAAIvD,OAAS,IAC9EmD,EAAQI,EAAK,IAAIC,MAWnB,KANQL,EAFRG,EAASC,EAAK,GAAK,IAAMA,EAAK,GAAK,IAAMA,EAAK,IAEtBA,EAAK,KAAQF,WAC7BF,EAAQG,GAAQC,EAAK,WACrBN,EAAaD,GACpBU,QAAQC,IAAI,SAAUX,KAGjBK,EACL,KAAQF,EAAQG,GAAQtD,SAAWmD,EAAQG,GAAQH,EAAQG,GAAQtD,OAAS,IAC3EmD,EAAQG,GAAQE,MAE+C,IAA5DL,EAAQI,EAAK,GAAK,IAAMA,EAAK,GAAK,IAAMA,EAAK,IAAIvD,QAAiBqD,UAC/DF,EAAQI,EAAK,GAAK,IAAMA,EAAK,GAAK,IAAMA,EAAK,IAEpB,IAA5BJ,EAAQI,EAAK,IAAIvD,QAAiBqD,WAC/BF,EAAQI,EAAK,WACbH,EAASG,EAAK,WACdL,EAAOK,EAAK,UAIpBG,QAAQC,IAAI,MAAOJ,GAId,SAASgB,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,EAAMC,GAEpD,GAAKD,EAAI,cAAoB9F,EAAM,CAClC,IAAIoJ,EAAU,GACdjK,OAAOmG,KAAKQ,EAAK9F,IAAM2B,SACtB,SAAA4E,GACC,IAAIZ,EAAc3F,EAAM,IAAMuG,EAC9BT,EAAK9F,GAAKuG,IAAQ,EAClB6C,GAAW7C,EAAO,IAAMxF,YAASsF,EAAUV,GAAO,GAAKG,EAAKH,GAAQ,QAGtEvE,EAAOqC,OAAS2F,GAMX,IAAM5B,EAAM,SAAExH,EAAKN,EAAO0B,EAAQ0E,EAAMiB,GA8B9C,OA5BAjB,EAAI,YAAkBA,EAAI,aAAmB9F,EAC7C8F,EAAK9F,GAAiB8F,EAAK9F,IAAQ,GAGnCb,OAAOmG,KAAK5F,GAAOiC,SAClB,SAAA4E,GACC,IAAIsB,EAAcnI,EAAM6G,GACpBZ,EAAc3F,EAAM,IAAMuG,EAC1BW,IAAcC,IAAGC,OAAOS,IAAUA,EAAOX,MAAMtG,KACnDkF,EAAK9F,GAAKuG,IAAQ,EAClBQ,EAASpB,GAAS,EACbuB,EACCpB,EAAKH,IAASG,EAAKH,KAAUuB,EAAM,IACvC3B,QAAQ8D,KAAK,kCAAmC1D,EAAM,WAAaG,EAAKH,GAAO,OAASuB,EAAM,IAC9F9F,EAAOuE,GAAQ,IAGfG,EAAKH,GAAUuB,EAAM,GACrB9F,EAAOuE,GAAQzB,WAAWgD,EAAM,MAIjC9F,EAAOuE,GAAQkC,GACT/B,EAAKH,IAASY,KAAQhC,IAC3BuB,EAAKH,GAAQpB,EAAagC,QAIvBH,I,6BC7HR,wP,6BCAA,yHAoBO,SAASxB,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,KAEhEF,EAAQH,IAAWK,WACnBJ,EAAaD,UACbG,EAAQH,UACRI,EAASJ,UACTE,EAAOF,IAIT,SAASuB,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,EAAMC,GACpD3E,EAAOpB,KAAUqG,EAAUrG,GAKrB,IAAMwH,EAAM,SAAExH,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,GAQxD,OALAD,EAAS/G,GAAO,EAChBoB,EAAOpB,KAAWN,EAClBoG,EAAK9F,GAAW8F,EAAK9F,IAAQ,GAC5BgH,GAAclB,EAAK9F,KAEboG,I,6BC5CR,yHAkBA,IAAM7B,EAAe,CAAE+D,QAAS,GAEzB,SAAS1D,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,KAEhEF,EAAQH,IAAWK,WACnBJ,EAAaD,UACbG,EAAQH,UACRI,EAASJ,UACTE,EAAOF,IAIT,SAASuB,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,EAAMC,GACpD,IAAIrG,IAAW2G,EAAUrG,GACzB,OAAOoB,EAASA,EAAOpB,GAAON,EAAQA,EAIhC,IAAM8H,EAAM,SAAExH,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,GAOxD,OALAD,EAAS/G,GAAOuE,EAAavE,IAAQ,EACrCoB,EAAOpB,IAAmB,IAAVN,EAAkB,EAAI,EACtCoG,EAAK9F,GAAW8F,EAAK9F,IAAQ,GAC5BgH,GAAclB,EAAK9F,KAEboG,I,6BC3CR,mCAsBCkD,EAAQ,CACPrB,IAAQ,KACRC,OAAQ,OACRqB,OAAQ,MACRxB,KAAQ,KACRC,MAAQ,QAGV,SAAS5B,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,EAAMC,EAAKyD,GAIlD,IAFA,IAAIC,EAAQ3D,EAAK,IAAM9F,GAAMgB,EAAI,GAAI0I,EAAU,GAErCjL,EAAI,EAAGA,EAAIgL,EAAOhL,IAC3B6D,QAAatC,EAAM,IAAMvB,EAAG4H,EAAWqD,EAAS5D,EAAMC,EAAKyD,GAC3DxI,GAAK0I,EAAQ1J,EAAM,IAAMvB,GAAK,IAG/B2C,EAAOpB,GAAOgB,EAIf,SAAS4D,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GACtDL,EAAMpD,MAAM,KAyBT,mBAAEgI,GAAF,MAAc,CAC5BjC,IAAK,SAAExH,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,GAC1C,IAA+BhG,EAA3BQ,EAAS9B,EAAM+B,MAAM,KAEzBqE,EAAK9F,GAAO8F,EAAK9F,IAAQ,EACzBgH,GAAclB,EAAK9F,KACnB8F,EAAK,IAAM9F,GAAOyJ,EAElB,IAAM,IAAIhL,EAAI,EAAGA,EAAIgL,EAAOhL,IAC3BuC,EAAIQ,EAAO/C,EAAI+C,EAAOK,QACtBb,EAAImG,IAAGC,OAAOpG,IAAMsI,EAAMtI,IAAMA,EAChCsB,MAAWtC,EAAM,IAAMvB,EAAGuC,EAAGI,EAAQ0E,EAAMiB,EAAUC,GAGtD,OAAOZ,GACLA,QAAOxB,a,6BCpFX,oIAkBML,EAAe,CAAE+D,QAAS,GAGzB,SAAS1D,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,KAEhEF,EAAQH,IAAWK,WACnBJ,EAAaD,UACbG,EAAQH,UACRI,EAASJ,UACTE,EAAOF,IAIT,SAASuB,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,EAAMC,GACpD3E,EAAOpB,GAAO2J,KAAKC,IAAI,EAAGD,KAAKE,IAAI,EAAG9I,YAASsF,EAAUrG,MAInD,IAAMwH,EAAM,SAAExH,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,GAQxD,OALAD,EAAS/G,GAAOuE,EAAavE,IAAQ,EACrCoB,EAAOpB,GAASN,EAChBoG,EAAK9F,GAAW8F,EAAK9F,IAAQ,GAC5BgH,GAAclB,EAAK9F,KAEboG,I,k1BCvBR,IAAM7B,EAAkB,CAGjBG,WAAa,KACboF,WAAa,KACbC,WAAa,KACbC,MAAa,GACbC,OAAa,GACbC,OAAa,GACbC,OAAa,GACbC,OAAa,MAEbC,MAAa,MACbC,MAAa,MAKbC,QAAa,MACbC,QAAa,MACbC,QAAa,MACbjG,YAAa,MAEdC,EAAkB,CACjBC,WAAY,IACZoF,WAAY,IACZC,WAAY,IACZQ,QAAY,IACZC,QAAY,IACZC,QAAY,IACZ1C,KAAY,IACZC,MAAY,IACZC,IAAY,IACZC,OAAY,IACZC,MAAY,IACZC,OAAY,KACVC,EAAe,CAIjB2B,MAAQ,EACRE,OAAQ,EACRC,OAAQ,EACRF,OAAQ,GAGR,SAASrF,EAASC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GACxE,IAA6BC,EAAzBC,EAAOP,EAAMpD,MAAM,KACvB,GAAqB,IAAhB2D,EAAKvD,OAAe,CAUxB,KAPQmD,EAAQI,EAAK,IAAIA,EAAK,IAAIA,EAAK,KAAQF,UACvCF,EAAQI,EAAK,IAAIA,EAAK,IAAIA,EAAK,KAMjCF,EACL,KAAQF,EAAQI,EAAK,IAAIvD,SAAWmD,EAAQI,EAAK,IAAIJ,EAAQI,EAAK,IAAIvD,OAAS,IAC9EmD,EAAQI,EAAK,IAAIC,MAYnB,KAPQL,EAFRG,EAASC,EAAK,GAAK,IAAMA,EAAK,GAAK,IAAMA,EAAK,IAEtBA,EAAK,KAAQF,WAC7BF,EAAQG,GAAQC,EAAK,WAErBN,EAAaD,KAIfK,EACL,KAAQF,EAAQG,GAAQtD,SAAWmD,EAAQG,GAAQH,EAAQG,GAAQtD,OAAS,IAC3EmD,EAAQG,GAAQE,MAEc,IAA3BL,EAAQG,GAAQtD,QAAiBqD,UAC9BF,EAAQG,GAEiB,IAA5BH,EAAQI,EAAK,IAAIvD,QAAiBqD,WAC/BF,EAAQI,EAAK,WACbH,EAASG,EAAK,WACdL,EAAOK,EAAK,UAIpBG,QAAQC,IAAI,MAAOJ,GAId,SAASK,EAAUC,EAAWC,EAAMC,EAAOC,EAASC,EAAMC,GAChE,IAAIrG,EAAQkG,EACRI,EAAQrF,IAAM+E,IAAcnB,EAAasB,GAsB7C,MApBc,QAATG,IACJtG,GAAiBqG,EAAItB,EAAWoB,KAAaE,EAAIE,EACjDD,EAAQ,MAEK,OAATA,IACJtG,GAAgBqG,EAAIE,EACpBD,EAAQ,MAEK,OAATA,IACJtG,GAAgBqG,EAAIG,EACpBF,EAAQ,MAEK,OAATA,IACJtG,GAAgBqG,EAAII,EACpBH,EAAQ,MAGK,QAATA,IACJtG,GAAgB,KAEVsG,EAAOjF,YAASrB,GAASsG,EAAOjF,YAASrB,GAG1C,SAAS0G,EAAOpG,EAAKqG,EAAWjF,EAAQ0E,EAAMC,GAKpD,IAHA,IAEY2E,EAAMnE,EAAeb,EAAWC,EAASa,EAAe9G,EAFhEiL,EAA6D,GAE7DhE,EAAK,EAAoDT,EAAI,EACzDS,EAAKb,EAAK9F,GAAK6B,OAAQ8E,IAE9B,IAAMJ,KADNmE,EAAO5E,EAAK9F,GAAK2G,GAEhB,GAAK+D,EAAKpK,eAAeiG,GAAQ,CAIhC,IAHAZ,EAAQ3F,EAAM,IAAM2G,EAAK,IAAMJ,EAC/B7G,EAAQ,GACRwG,EAAQ,EACFR,EAAY,EAAGA,EAAYI,EAAKH,GAAM9D,OAAQ6D,IAC9CI,EAAKH,GAAMD,KAMfc,EAASf,EAASC,EAAWC,EAAMU,EALzBV,EAAO,IAAMD,GAKgCa,EAAMT,EAAMC,GAE9DG,GAAmB,MAAdM,EAAO,GAChBA,EAAS,MAAQA,EAAOI,OAAO,GACtBV,IACTM,EAAS,MAAQA,GAClB9G,GAAS8G,EACTN,KAGGA,EAAI,IACRxG,EAAQ,QAAUA,EAAQ,KAEtBwG,EAAI,IACRyE,GAAcpE,EAAO,KAAO7G,GAAS,KAAO,MAGhD0B,EAAOwJ,UAAYD,EAIb,SAAS7D,EAAQ9G,EAAK6F,EAASnG,EAAO0B,EAAQ0E,EAAMiB,EAAUC,EAAYC,GAEhF,IAAIC,IAAUC,IAAGC,OAAO1H,IAASA,EAAMwH,MAAMtG,KACzCoF,EAAUkB,GAASA,EAAM,IAAM3C,EAAasB,GAC5CwB,EAAU1G,IAAM2G,QAAQtB,GACxBuB,GAAuB,IAAbF,GAAmBrH,EAAM,IAAMqH,GAAYrH,EA0BzD,OAxBA+G,EAASQ,GAAYc,EAAaxC,IAAY,EAC9CC,EAAK9F,GAAKqH,GAAWvB,EAAK9F,GAAKqH,IAAY,EAGtCJ,GAAaA,EAAUI,GAE1BjG,EAAOmG,IADHL,EACehD,WAAWgD,EAAM,IAGjBhD,WAAWxE,KAK9BsH,GAAclB,EAAK9F,GAAKqH,KAExBjG,EAAOmG,GADHL,EACchD,WAAWgD,EAAM,IAGjBhD,WAAWxE,GAEzBuH,IAAYA,EAAUI,IAAW,IAGhCjB,EAED,IAAMoB,EAAM,SAAExH,EAAKN,EAAO0B,EAAQ0E,EAAMiB,EAAUC,EAAYS,GAEpE3B,EAAK9F,GAAO8F,EAAK9F,IAAQ,GAGnBmH,IAAGO,MAAMhI,KACdA,EAAQ,CAACA,IAEV,IADA,IAAYgL,EAAM/C,EAAQC,EAAUC,EAAQlC,EAAMmC,EAAGb,EAAjDN,EAAK,EACDA,EAAKjH,EAAMmC,OAAQ8E,IAAO,CAGjC,IAAMgB,KAFN+C,EAAWhL,EAAMiH,GACjBiB,EAAWH,EAAU,GAAH,KAAc3B,EAAK9F,GAAK2G,IAAO,IACjC+D,EACf,GAAKA,EAAKpK,eAAeqH,GAWxB,GAVAE,EAAY6C,EAAK/C,GACjBV,EAAY,GACZtB,EAAY3F,EAAM,IAAM2G,EAAK,IAAMgB,EAEnCC,EAASD,GAAUC,EAASD,IAAW7B,EAAK9F,GAAK2G,IAAOb,EAAK9F,GAAK2G,GAAIgB,IAAW,GAChFX,GAAcY,EAASD,KAIxB7B,EAAKH,GAAQG,EAAKH,IAAS,GACtBwB,IAAGO,MAAMG,GACb,IAAMC,EAAI,EAAGA,EAAID,EAAOhG,OAAQiG,IAC/BhB,EAAOnB,EAAMgC,EAAQE,EAAOC,IAAM,EAAG1G,EAAQ0E,EAAMiB,EAAUC,EAAYC,QAI1EH,EAAOnB,EAAMgC,EAAQE,GAAU,EAAGzG,EAAQ0E,EAAMiB,EAAUC,GAG7DlB,EAAK9F,GAAK2G,GACTc,EAAO,SACAG,GAAc9B,EAAK9F,GAAK2G,IAAO,IAAQiB,GAE9CA,EAGF,OAAOxB,I,6BC1PR,wP,6BCAA,wJ,+hBCqBeyE,EADQC,IAAMC,cAAc,MCItBC,E,oJASpBC,MAAmB,G,sCAEnBC,qBAAA,WAAuB,WAEjBC,KAAKC,aACTjM,OAAOmG,KAAK6F,KAAKC,aACVzJ,SAAQ,SAAA0J,GAAG,OAAI,EAAKC,iBAAiBC,iBAAiB,EAAKH,YAAYC,GAAMA,aAG9EF,KAAKG,wBACLH,KAAKK,qB,EAGbC,OAAA,WAAS,aAMAN,KAAKzK,MAHR2K,GAHG,EAEHK,SAFG,EAGHL,KAAKM,EAHF,EAGEA,YAAaC,EAHf,EAGeA,OAClBC,EAJG,EAIHA,iBAAkBC,EAJf,EAIeA,QAASC,EAJxB,EAIwBA,KAAMC,EAJ9B,EAI8BA,gBAJ9B,IAKHC,aALG,MAKK,GALL,EAOR,OAAO,kBAAC,EAAeC,SAAhB,MAEL,SAAAC,GAuCC,OAtCM,EAAKC,eAAiB,EAAKA,gBAAkBf,EAYxC,EAAKgB,kBAAoB,EAAKA,mBAAqBP,IAC7D,EAAKO,iBAAmBP,EACxB,EAAKM,cAAmBf,EACxBc,EAAQG,SAASjB,EAAK,CACrBS,UACAC,OACAF,mBACAG,kBACAL,cACAY,iBAAkBX,MApBnB,EAAKQ,cAAmBf,EACxB,EAAKgB,iBAAmBP,EACxBK,EAAQG,SAASjB,EAAK,CACrBS,UACAC,OACAF,mBACAG,kBACAL,cACAY,iBAAkBX,IAChB,IAcE,EAAKN,kBAAoB,EAAKA,mBAAqBa,EAO/C,EAAKK,kBAAoBP,GAAW,EAAKO,iBAAmBC,IAAUR,EAAO,EAAKO,mBAC3F,EAAKE,SAAW,EAAKpB,kBAAoB,EAAKA,iBAAiBC,iBAAiB,EAAKmB,QAAS,EAAKN,eACnG,EAAKM,QAAU,KACVT,EAAMpK,SACV,EAAK6K,QAAUP,EAAQQ,kBAAkBV,EAAOZ,EAAKU,IACtD,EAAKS,gBAAkBP,IAXvB,EAAKX,kBAAoB,EAAKoB,SAAW,EAAKpB,iBAAiBC,iBAAiB,EAAKmB,QAAS,EAAKN,eAC9FH,EAAMpK,SACV,EAAK6K,QAAUP,EAAQQ,kBAAkBV,EAAOZ,EAAKU,IACtD,EAAKT,iBAAmBa,EACxB,EAAKK,gBAAmBP,GASlB,kBAAC,IAAMW,SAAP,U,GAtEsB9B,IAAM+B,WAAnB7B,EACb8B,UAAY,CAClBzB,IAAiB0B,IAAU3F,OAAO4F,WAClCf,MAAiBc,IAAUrF,MAC3BkE,OAAiBmB,IAAU5M,OAC3B2L,QAAiBiB,IAAUE,IAC3BjB,gBAAiBe,IAAUzK,OAC3ByJ,KAAiBgB,IAAUE,K,uoBCN7B,SAASC,EAAWC,EAAO/L,GAC1B,OAAO+L,EAAMzJ,KACZ,SAAA0J,GAAK,cACDA,GADC,IAEJhM,c,IAKkBiM,E,oJAGpBpC,MAAmB,G,EACnBqC,cAAmBC,IAAQC,W,sCAE3BtC,qBAAA,WAAuB,WACjBC,KAAKsC,eACTtO,OAAOmG,KAAK6F,KAAKsC,eACV9L,SAAQ,SAAA0J,GAAG,OAAI,EAAKqC,gBAAgBnC,iBAAiB,EAAKkC,cAAcpC,GAAMA,MAGjFF,KAAKuC,kBACTvC,KAAKuC,gBAAgBC,WAAWxC,KAAKmC,eACrCnC,KAAKuC,gBAAgBE,gBAAWrK,WAE1B4H,KAAKuC,uBACLvC,KAAKsC,qBACLtC,KAAKK,qB,EAGbC,OAAA,WAAS,aAUAN,KAAKzK,MARRgL,EAFG,EAEHA,SAFG,IAGHmC,UAHG,MAGa1C,KAAKmC,cAHlB,EAIHQ,EAJG,EAIHA,MAAOC,EAJJ,EAIIA,QAASC,EAJb,EAIaA,IAAKC,EAJlB,EAIkBA,MAAc9B,GAJhC,EAIyB+B,MAJzB,EAIgC/B,SAEnCgC,GANG,EAKHC,OALG,EAMHD,YANG,IAOHE,iBAPG,MAOaF,EAPb,MAQHG,eARG,MAQa5C,GAAYA,EAAShL,OAASgL,EAAShL,MAAM4N,QAR1D,MASHC,qBATG,MASa7C,GAAYA,EAAShL,OAASgL,EAAShL,MAAM6N,cAT1D,EAWR,OAAO,kBAAC,EAAerC,SAAhB,MAEL,SAAAsC,GAKC,KAFAA,EAAgBrC,GAAWqC,GAI1B,OADAjJ,QAAQkJ,MAAM,gFACP,kBAAC,IAAM7B,SAAP,MAIR,IAEI8B,EAFAC,EAAQH,EAAcI,SAASf,EAAInC,EAAShL,OAASgL,EAAShL,MAAMoN,MAAOA,GAASC,EACrDC,EAAKC,GAOnC,EAAKP,kBAAoBc,GAAiB,EAAKhD,sBAAwB6C,GAC3EK,EAAkB,EAAKG,aAAeR,KAAe,EAAKQ,YAAcpC,IAAU4B,EAAW,EAAKQ,aAC7F,EAAKnB,iBAAmBgB,GAC5B,EAAKjB,eAAiBtO,OAAOmG,KAAK,EAAKmI,eACV9L,SAAQ,SAAA0J,GAAG,OAAI,EAAKqC,gBAAgBnC,iBAAiB,EAAKkC,cAAcpC,GAAMA,MAIvG,EAAKqC,iBAAmB,EAAKA,kBAAoBc,GACrD,EAAKd,gBAAgBC,WAAWE,GAE5Ba,IACJ,EAAKG,WAAaR,EACbA,GAAalH,IAAGO,MAAM2G,GAC1B,EAAKZ,cAAgB,CAAEqB,QAASN,EAAc7B,kBAAkBO,EAAUmB,EAAWR,KAErF,EAAKJ,cAAgBY,GAAalP,OAAOmG,KAAK+I,GACLU,QAAO,SAAEC,EAAG3D,GAAL,OAAe2D,EAAE3D,GAAOmD,EAAc7B,kBAAkBO,EAAUmB,EAAUhD,GAAMwC,GAAKxC,GAAM2D,IAAI,IAClJL,EAAQH,EAAcI,SAASf,EAAInC,EAAShL,OAASgL,EAAShL,MAAMoN,MAAOA,GAASC,EACrDC,EAAKC,IAGrCU,EAAMb,MAAN,KAAmBU,EAAcS,gBAAgBpB,GAAI,IAEhD,EAAKnN,MAAMJ,eAAe,YAC9B,EAAKoN,iBAAmB,EAAKA,gBAAgBE,gBAAWrK,GACxD4I,EAAQyB,WAAWC,IAGpB,EAAKH,gBAAsBc,EAC3B,EAAKhD,oBAAsB6C,GAGlBM,IACTA,EAAMb,MAAN,KAAmBU,EAAcS,gBAAgBpB,GAAI,KAGtD,IAAIqB,EAAWpE,IAAMqE,SAASC,KAAK1D,GAEnC,OAAKwD,GAAYpE,IAAMuE,eAAeH,IACrCA,EAAgBpE,IAAMwE,aACrBJ,EADe,OAGXP,GAHW,IAIdJ,cAAeA,GAAkB,SAAAgB,GAAC,OAAIhB,EAAcgB,EAAGf,IACvDF,QAAeA,GAAY,SAAAiB,GAAC,OAAIjB,EAAQiB,EAAGf,OAG7C,EAAKgB,SAAWb,EACTO,IAGP3J,QAAQkJ,MAAM,+BAAgCZ,GAExC,6C,GA3GsB/C,IAAM+B,WAAnBQ,EAEbP,UAAY,GAgHpBO,EAAKoC,IAAM,YAAyC,IAArC/D,EAAqC,EAArCA,SAAUgE,EAA2B,EAA3BA,UAAchP,EAAa,gCACnD,OAAO,kBAAC,EAASA,EAChB,yBAAKgP,UAAWA,GAAYhE,K,IChIFiE,EADtBC,E,sCAHLzI,EAAY1G,EAAQ,GACpBoP,EAA8B,oBAAXC,OAgBnBC,GAfYF,IACPD,EAAW,4BAA4BnO,MAAM,QAK3C,iBAAkBqO,QAAWA,OAAOE,eAAiBC,oBAAoBD,iBAJrDL,EAUd,CAAC,IAAKC,EAAS9O,KAAK,oBAAqB,SAAU,KAAKA,KAAK,IATjEgP,OAAOI,YAAYJ,OAAOI,WAAWP,GAAOQ,UAYzCN,EAAY,CACvBO,OAAe,UAAWnM,KAAKoM,UAAUC,YAAc,SACxC,WAAYrM,KAAKoM,UAAUE,WAAa,MACxC,WAAYtM,KAAKoM,UAAUE,WAAa,KACzC,UAAWT,OAAS,IAAM,GACxCU,aAAe,UAAWvM,KAAKoM,UAAUC,YAAc,WACxC,WAAYrM,KAAKoM,UAAUE,WAAa,QACxC,WAAYtM,KAAKoM,UAAUE,WAAa,OACzC,UAAWT,OAAS,MAAQ,IACvC,CACHM,OAAc,GACdI,aAAc,KAEfC,EAAY,CACXC,YAAmB,GACnBC,YAAmB,GACnBC,SAAmB,GACnBC,YAAmB,GACnBC,gBAAmB,GACnBC,QAAmB,GACnBC,UAAmB,EACnBC,kBAAmB,SAAW1B,GAC7B,IAAIrQ,EAGAgS,EACAC,EAHAC,EAAgBX,EAChBhS,EAAgB2S,EAAGP,YAAYvJ,QAAQ6D,MAEjC4F,EAAU,GAEpB,IAAY,IAAPtS,EAAL,CAMM2S,EAAGJ,YACRK,EAAIC,SAASrB,SACA,CACC,UAAamB,EAAGG,aAChB,UAAaH,EAAGG,aAChB,SAAaH,EAAGI,aAChB,QAAaJ,EAAGI,eAE9BH,EAAIC,SAASnG,KACA,CACC,MAASiG,EAAGK,kBACV,KAAM,MAAM,IAGxBlC,EAAEmC,gBAAkBnC,EAAEmC,eAAe7P,OACzCkP,EAAUxB,EAAEmC,eAERX,EAAQlK,KAAK0I,GAElB,IAAM,IAAI5P,EAAI,EAAGgS,EAAKZ,EAAQlP,OAAQlC,EAAIgS,EAAIhS,IAM7C,GALAuR,EAASH,EAAQpR,KAGjBwR,EAAOC,EAAGN,gBAAgBrS,IAEhBuS,UAkBV,IAhBAI,EAAGJ,YAEHI,EAAGL,QAAQG,EAAOU,YAAcR,EAAGL,QAAQG,EAAOU,aAAe,GACjER,EAAGL,QAAQG,EAAOU,YAAY/K,KAAKsK,GAGnCA,EAAKH,YAELG,EAAKU,UAAU5L,EAAmB,MAAf8J,EAAKK,OAAiBc,EAAOjL,EAAIiL,EAAOY,MAC3DX,EAAKU,UAAU3L,EAAmB,MAAf6J,EAAKK,OAAiBc,EAAOhL,EAAIgL,EAAOa,MAC3DZ,EAAKa,SAAczC,EAAE0C,UAGrBd,EAAKe,SAASjM,EAAmB,MAAf8J,EAAKK,OAAiBc,EAAOjL,EAAIiL,EAAOY,MAC1DX,EAAKe,SAAShM,EAAmB,MAAf6J,EAAKK,OAAiBc,EAAOhL,EAAIgL,EAAOa,MAEpD7S,EAAI,EAAGA,EAAIiS,EAAKgB,UAAUtQ,OAAQ3C,IACvCiS,EAAKgB,UAAUjT,GAAG,GAAGN,KAAKuS,EAAKgB,UAAUjT,GAAG,IACjBiM,KAAMoE,EAAG2B,EAAQC,KAG/CI,aAAmB,SAAWhC,GAAI,IAC7BrQ,EAEAgS,EAAsBkB,EAHO,OAE7BhB,EAAkBX,EACVM,EAAU,GACAN,EAAGG,SAAS,GAG7BrB,EAAEmC,gBAAkBnC,EAAEmC,eAAe7P,OACzCkP,EAAUxB,EAAEmC,eAERX,EAAQlK,KAAK0I,GAElB,IAAM,IAAI9Q,EAAI,EAAGkT,EAAKZ,EAAQlP,OAAQpD,EAAIkT,EAAIlT,IAC7CyS,EAASH,EAAQtS,GACR2S,EAAGL,QAAQG,EAAOU,YAC3BR,EAAGL,QAAQG,EAAOU,aAClBR,EAAGL,QAAQG,EAAOU,YAAYjQ,SAC7B,SAAAwP,GACC,GAAKiB,EAGJ,OAFAjB,EAAKe,SAASjM,EAAIkL,EAAKU,UAAU5L,EAAmB,MAAf8J,EAAKK,OAAiBc,EAAOjL,EAAIiL,EAAOY,WAC7EX,EAAKe,SAAShM,EAAIiL,EAAKU,UAAU3L,EAAmB,MAAf6J,EAAKK,OAAiBc,EAAOhL,EAAIgL,EAAOa,OAM9E,IAHAZ,EAAKe,SAASjM,EAAmB,MAAf8J,EAAKK,OAAiBc,EAAOjL,EAAIiL,EAAOY,MAC1DX,EAAKe,SAAShM,EAAmB,MAAf6J,EAAKK,OAAiBc,EAAOhL,EAAIgL,EAAOa,MAEpD7S,EAAI,EAAGA,EAAIiS,EAAKkB,KAAKxQ,OAAQ3C,IAClCkT,GAEyC,IAF/BjB,EAAKkB,KAAKnT,GAAG,GAAGN,KAAKuS,EAAKkB,KAAKnT,GAAG,IAAM,EAAMqQ,EACzB2B,EACAC,OAMpCM,iBAAmB,SAAWlC,GACxBkB,EAAG6B,mBACP/C,EAAEgD,iBACFhD,EAAEiD,kBACFjD,EAAEkD,2BACFhC,EAAG6B,kBAAmB,GAEvBjB,EAAIqB,YAAYvH,KACA,CACC,MAASA,KAAKsG,oBAGhCD,aAAmB,SAAWjC,GAAI,IAC7BrQ,EACSgS,EACTyB,EAH6B,OAE7BvB,EAAKX,EAAYM,EAAU,GAG1BxB,EAAEmC,gBAAkBnC,EAAEmC,eAAe7P,OACzCkP,EAAUxB,EAAEmC,eAERX,EAAQlK,KAAK0I,GAElB,IAAM,IAAI9Q,EAAI,EAAGkT,EAAKZ,EAAQlP,OAAQpD,EAAIkT,EAAIlT,IAC7CyS,EAASH,EAAQtS,GACjB2S,EAAGJ,YACHI,EAAGL,QAAQG,EAAOU,aAClBR,EAAGL,QAAQG,EAAOU,YAAYjQ,SAC7B,SAAAwP,GAQC,IALAA,EAAKH,YACL2B,EAAkBA,GAAWxB,EAAKyB,WAAcrD,EAAE0C,UAAYd,EAAKa,SAAW,IAC9Eb,EAAKe,SAASjM,EAAmB,MAAf8J,EAAKK,OAAiBc,EAAOjL,EAAIiL,EAAOY,MAC1DX,EAAKe,SAAShM,EAAmB,MAAf6J,EAAKK,OAAiBc,EAAOhL,EAAIgL,EAAOa,MAEpD7S,EAAI,EAAGA,EAAIiS,EAAK0B,QAAQhR,OAAQ3C,IACrCiS,EAAK0B,QAAQ3T,GAAG,GAAGN,KAAKuS,EAAK0B,QAAQ3T,GAAG,IACf,EAAMqQ,EACP2B,EAAQC,MAKnCC,EAAGL,QAAQG,EAAOU,YAAc,KAE5Be,IACJvB,EAAGkB,kBAAmB,GAEjBlB,EAAGJ,WACRK,EAAIqB,YAAYzC,SACA,CACC,UAAamB,EAAGG,aAChB,UAAaH,EAAGG,aAChB,SAAaH,EAAGI,aAChB,QAAaJ,EAAGI,gBAInCsB,aAAmB,SAAWC,EAAMH,GACnC,IAAwCzB,EAApC1S,EAAI0M,KAAK0F,YAAYvJ,QAAQyL,GA8BjC,OA7BY,IAAPtU,GACJ0M,KAAK0F,YAAYhK,KAAKkM,GACtB5H,KAAK2F,gBAAgBjK,KACpBsK,EAAO,CACNyB,YACA5B,UAAW,EACXgC,MAAW,EACXnB,UAAW,CACV5L,EAAG,EACHC,EAAG,GAEJgM,SAAW,CACVjM,EAAG,EACHC,EAAG,GAEJiM,UAAW,GACXE,KAAW,GACXY,QAAW,GACXJ,QAAW,KAIbxB,EAAIC,SAASyB,EACA,CACC,UAAcH,GAAazH,KAAK8F,kBAChC,WAAc9F,KAAK8F,mBACjB,KAAM,MAAM,IAExBE,EAAOhG,KAAK2F,gBAAgBrS,GAC1B0S,GAER+B,cAAmB,SAAWH,GAC7B,IAAItU,EAAI0M,KAAK0F,YAAYvJ,QAAQyL,IACrB,IAAPtU,IACJ0M,KAAK0F,YAAYsC,OAAO1U,EAAG,GAC3B0M,KAAK2F,gBAAgBqC,OAAO1U,EAAG,GAE/B4S,EAAIqB,YAAYK,EACA,CACC,UAAc5H,KAAK8F,kBACnB,WAAc9F,KAAK8F,sBAItCmC,iBAAmB,SAA0BC,EAASC,GAIrDD,EAAQE,iBAAiB,kBAAmBzD,OAAS,kBAAoBzO,YAChD,SAAWkO,GACV,GAAgBlO,YAAXkO,EAAElO,MACQ,GAAZkO,EAAEiE,QALLnS,GAKoBkO,EAAEkE,oBACP,GAAZlE,EAAEiE,QANLnS,GAMoBkO,EAAEmE,kBACP,GAAZnE,EAAEiE,QAPLnS,GAOoBkO,EAAEkE,oBAPtBpS,GAQGkO,EAAEmE,iBACJ,OAAOJ,EAAG1U,KAAKuM,KAAMoE,MAEpB,IAG7B+B,SAAmB,SAAWyB,EAAM1R,EAAMiS,EAAIK,GACxCZ,EAAKQ,iBACTR,EAAKQ,iBAAiBlS,EAAMiS,EAAIK,GAEvBZ,EAAKa,aACdb,EAAKa,YAAY,KAAOvS,EACPiS,EAAGO,QAAU,SAAWtE,GACvB,OAAO+D,EAAG1U,KAAKmU,EAAMxD,MAIzCmD,YAAmB,SAAWK,EAAM1R,EAAMiS,EAAIK,GACxCZ,EAAKe,oBACTf,EAAKe,oBAAoBzS,EAAMiS,EAAIK,GAE1BZ,EAAKa,aACdb,EAAKgB,YAAY,KAAO1S,EAAMiS,EAAGO,UAGnCG,SAAmB,SAAW1P,EAAKgP,EAAIW,GACtC,IAAM,IAAIxV,EAAI,EAAGkT,EAAKrN,EAAIzC,OAAQpD,EAAIkT,EAAIlT,IACzC,GAAK6F,EAAI7F,GAAG,KAAO6U,EAClB,OAAOhP,EAAI6O,OAAO1U,EAAG,GAGvB8G,QAAQ8D,KAAK,sCAGfgI,EAAY,CACXC,SAAe,SAAWyB,EAAM1R,EAAMiS,EAAIV,EAAWe,GACpD,GAAKxM,EAAGhH,OAAOkB,GACd,IAAM,IAAInC,KAAKmC,EACTA,EAAKf,eAAepB,IAAMmC,EAAKnC,IACnCiM,KAAKmG,SAASyB,EAAM7T,EAAGmC,EAAKnC,GAAI0T,EAAWe,OAG5B,aAARtS,EACToP,EAAGqC,aAAaC,EAAMH,GAAWT,UAAUtL,KAAK,CAACyM,EAAIV,IAEpC,QAARvR,EACToP,EAAGqC,aAAaC,EAAMH,GAAWP,KAAKxL,KAAK,CAACyM,EAAIV,IAE/B,WAARvR,EACToP,EAAGqC,aAAaC,EAAMH,GAAWC,QAAQhM,KAAK,CAACyM,EAAIV,IAG9CG,EAAKQ,iBACTR,EAAKQ,iBAAiBlS,EAAMiS,EAAI,CAAEY,SAAS,IAElCnB,EAAKa,aACdb,EAAKa,YAAY,KAAOvS,EACPiS,EAAGO,QAAU,SAAWtE,GACvB,OAAO+D,EAAG1U,KAAKmU,EAAMxD,MAM1CmD,YAAe,SAAWK,EAAM1R,EAAMiS,EAAIW,EAAON,GAChD,IAAOxC,EAEP,GAAKhK,EAAGhH,OAAOkB,GACd,IAAM,IAAInC,KAAKmC,EACTA,EAAKf,eAAepB,IACxBiM,KAAKuH,YAAYK,EAAM7T,EAAGmC,EAAKnC,GAAI+U,OAG5B,eAAehQ,KAAK5C,IAC7B8P,EAAOV,EAAGqC,aAAaC,GACvBtC,EAAGuD,SAAS7C,EAAK9P,GAAOiS,EAAIW,GACtB9C,EAAKgB,UAAUtQ,QAChBsP,EAAKkB,KAAKxQ,QACVsP,EAAK8B,QAAQpR,QACbsP,EAAK0B,QAAQhR,QACjB4O,EAAGyC,cAAcH,IAGbA,EAAKe,oBACTf,EAAKe,oBAAoBzS,EAAMiS,EAAIK,GAE1BZ,EAAKa,aACdb,EAAKgB,YAAY,KAAO1S,EAAMiS,EAAGO,UAKpCrK,OAAe,SAAW2K,GAEzB,IADA,IAAIC,EAAO,CAAEnM,IAAK,EAAGF,KAAM,EAAGI,MAAOgM,EAAKE,YAAajM,OAAQ+L,EAAKG,cAC5DH,GACPC,EAAKnM,IAAOmM,EAAKnM,IAAMsM,SAASJ,EAAKK,WACrCJ,EAAKrM,KAAOqM,EAAKrM,KAAOwM,SAASJ,EAAKM,YACtCN,EAAYA,EAAKO,aAElB,OAAON,GAERO,cAAe9E,GAAc,SAAWC,EAAQG,GAE/C,IAAiB2E,EAA8CC,EAA3DzE,EAAS,GAGRN,EAAOyD,iBACXqB,EAAoB,oBAIpBA,EAAoB,cACA,cACpBxE,EAAoB,MAIrByE,EAAU,YAAa5E,EAAS6E,cAAc,OAAS,aACnBvR,IAA1B0M,EAAS8E,aAA6B,aACtC,iBAeV,SAASC,EAA2BC,GACnC,IAAIC,EAAK,EAAGC,EAAK,EACbC,EAAa,EAAGC,EAAK,EAmDzB,MAhDK,WAAYJ,IAChBE,EAAKF,EAAMK,QAEP,eAAgBL,IACpBE,GAAMF,EAAMM,WAAa,KAErB,gBAAiBN,IACrBE,GAAMF,EAAMO,YAAc,KAEtB,gBAAiBP,IACrBC,GAAMD,EAAMQ,YAAc,KAItB,SAAUR,GAASA,EAAMS,OAAST,EAAMU,kBAC5CT,EAAKC,EACLA,EAAK,GAGNC,EA5BwB,GA4BnBF,EACLG,EA7BwB,GA6BnBF,EAEA,WAAYF,IAChBI,EAAKJ,EAAMW,QAEP,WAAYX,IAChBG,EAAKH,EAAMY,SAGNT,GAAMC,IAAOJ,EAAMa,YACA,GAAnBb,EAAMa,WACVV,GAvCsB,GAwCtBC,GAxCsB,KA2CtBD,GA1CsB,IA2CtBC,GA3CsB,MAgDnBD,IAAOF,IACXA,EAAME,EAAK,GAAM,EAAI,GAEjBC,IAAOF,IACXA,EAAME,EAAK,GAAM,EAAI,GAGf,CACNU,MAAQb,EACRc,MAAQb,EACRc,OAAQb,EACRc,OAAQb,GAIV,SAASc,EAAmBhC,EAAMiC,EAAWC,EAAUpC,EAAOqC,GAC7DnC,EAAKS,GAAmBxE,EAASgG,EAAWC,EAASE,WAAa,SAAWC,IAC3EA,IAAkBA,EAAgB1G,EAAOmF,OAG1C,IAAIA,EAAQ,CAEXuB,cAAgBA,EAChBpV,OAAgBoV,EAAcpV,QAAUoV,EAAcC,WACtDpV,KAAgB,QAChByU,UAAsC,uBAAtBU,EAAcnV,KAAgC,EAAI,EAClEwU,OAAgB,EAChBa,OAAgB,EAChBnE,eAAgB,WACfiE,EAAcjE,eACdiE,EAAcjE,iBACdiE,EAAcG,aAAc,GAE7BC,WAAgB5B,EAAewB,IAyBhC,OApBCvB,EAAMW,OADS,cAAXf,GACY,EAAI,GAAK2B,EAAcjB,WAKnB,SAAXV,GAAqC,OAAf9E,EAAKK,OACrBoG,EAAcZ,OAAS,EAElB,SAAXf,EACM2B,EAAcZ,OAAS,IAGvBY,EAAcZ,OAQvBS,EAASzX,KAAKqV,GAAS9I,KAAM8J,IAElCqB,IAAc,GAGlB,OA1HyB,SAAWnC,EAAMkC,EAAUpC,EAAOqC,GAC1DH,EAAkBhC,EAAMU,EAASwB,EAAUpC,EAAOqC,GAGlC,kBAAXzB,GACJsB,EAAkBhC,EAAM,sBAAuBkC,EAAUpC,EAAOqC,IAzBtC,CA+I1BxG,OAAQG,UACX4G,aAAehH,GAAc,SAAWC,EAAQG,GAE/C,IAAiB6G,EAA2BjC,EAAxCzE,EAAS,GAGRmD,iBACJuD,EAAmB,uBAGnBA,EAAmB,cACnB1G,EAAmB,MAIpByE,EAAU,YAAa5E,EAAS6E,cAAc,OAAS,aACnBvR,IAA1B0M,EAAS8E,aAA6B,aACtC,iBAWV,SAASgC,EAAgB5C,EAAMiC,EAAWC,EAAUpC,EAAOqC,GAC1DnC,EAAK2C,GAAkB1G,EAASgG,EAAWC,EAASE,YAGrD,OAbsB,SAAWpC,EAAMkC,EAAUpC,EAAOqC,GACvDS,EAAe5C,EAAMU,EAASwB,EAAUpC,EAAOqC,GAG/B,kBAAXzB,GACJkC,EAAe5C,EAAM,sBAAuBkC,EAAUpC,EAAOqC,IAvBnC,CAgC1BxG,OAAQG,UAQX+G,iBA3PW,SA2PO3D,GACjB,IAAI4D,EAAWC,EAAQ,CAAC7D,GACxB,IAAM,IAAMrT,KAAOqT,EAElB,GAAKrT,EAAImX,WAAW,4BAA8B,CAEjD,IADAF,EAAY5D,EAAQrT,GACZiX,EAAUG,QACZH,EAAUI,YAAcH,EAAM9T,SAAS6T,EAAUI,YACrDH,EAAMrQ,KAAKoQ,EAAUI,WACtBJ,EAAYA,EAAUG,OAEvB,OAAOF,EAGT,OAAO7D,EAAQiE,YAAcnM,KAAK6L,iBAAiB3D,EAAQiE,cAI/CjG,ICjiBTkG,EAAqB,GAAIC,YAQhB,SAASC,IAAuB,2BAAPC,EAAO,yBAAPA,EAAO,gBAE9C,IAAIC,IAAkBD,EAAK,IAAMA,EAAK,GAAGrX,qBAAqByK,IAAM+B,WAAa6K,EAAK,KAAO5M,IAAM+B,YAAc6K,EAAKE,QAClHC,IAAkBH,EAAK,IAAMA,EAAK,aAAcH,IAAsBG,EAAKE,SAAW,GAE1F,IAAOD,KAAkBA,EAActX,qBAAqByK,IAAM+B,WAAa8K,IAAkB7M,IAAM+B,WACtG,OAAO,SAAW8K,GACjB,OAAOF,EAAYE,EAAeE,IAPU,IAWxCC,EAXwC,0FAc7CrM,OAAA,WAAS,WACR,OAAO,kBAAC,EAAeS,SAAhB,MAEL,SAAAC,GACC,OAAO,kBAACwL,EAAD,OAAoB,EAAKjX,MAAzB,CAAiCyL,QAAUA,EAAU4L,IAAM,EAAKrX,MAAMsX,oBAlBpC,GAWjBlN,IAAM+B,WAA7BiL,EACEG,YAAeN,EAAcM,aAAeN,EAAc3Y,KAclE,IAAIkZ,EAAkBpN,IAAMqN,YAAW,SAAEzX,EAAOqX,GAC/C,OAAO,kBAACD,EAAD,OAAqBpX,EAArB,CAA6BsX,aAAeD,QAGpD,OADAG,EAAQD,YAAcH,EAAeG,YAC9BC,E,kOC1BaE,EADpBX,G,wJASAxM,MAAsB,G,EACtBoN,EAAsB,G,EACtBC,KAAsBxN,IAAMyN,Y,sCAE5BrN,qBAAA,WAAuB,MAClB6H,EAAI,UAAG5H,KAAKmN,YAAR,aAAG,EAAWE,QACjBrN,KAAKkN,EAAEI,gBACXtN,KAAKkN,EAAEI,eAAgB,EAGvB1F,GAAQ5H,KAAKkN,EAAEK,UAAYC,EAASjG,YAAYK,EAC7C5H,KAAKkN,EAAEK,Y,EAIZE,kBAAA,WACCzN,KAAK0N,4B,EAQNC,mBAAA,SAAoB/F,GAAO,WACtBgG,EAAaJ,EAAS3B,iBAAiBjE,GAAW5H,KAAKkN,EAE3D,OAAOU,EAAWrV,KACjB,SAAAmK,GAAE,OAAK1G,IAAGC,OAAOyG,GACR,EAAKwK,EAAEW,KAAKnL,IAAOoL,IAASC,YAAY,EAAKb,EAAEW,KAAKnL,KAAQ,EAAKmL,KAAKnL,IAAOoC,SAASkJ,eAAetL,GACrGA,M,EASXgL,yBAAA,WAA2B,MAGtBO,EACAC,EAAOC,EACPC,EACAC,EAAIC,EANkB,OACtBC,EAAQ,UAAoBvO,KAAKmN,YAAzB,aAAoB,EAAWE,QAAvC,EAC4BrN,KAAKzK,MAA/BiZ,EADF,EACEA,MAAOC,EADT,EACSA,MAKTvB,EANA,EACgBlM,QAKoBkM,EACnCqB,GACJf,EAASrH,SACRoI,EAAUvO,KAAKkN,EAAEK,SAAW,CAC3B,UAAa,SAAEnJ,EAAGsK,EAAOC,GACxB,IAAIC,EAEGtb,EAQP,IANA8a,EAAe,EAAKT,mBAAmBvJ,EAAEnO,QAEzCgY,EAAeY,KAAKC,MACpBX,EAAe,EACfE,EAAe,EACfC,EAAe,GACThb,EAAI,EAAGA,EAAI8a,EAAQ1X,OAAQpD,IAAM,CAGV,QAA5B,IAFAsb,EAAWR,EAAQ9a,IAELyb,YACTP,IAAK,UAAII,EAASI,YAAb,aAAI,EAAgBR,IACzBC,IAAK,UAAIG,EAASI,YAAb,aAAI,EAAgBP,IAC7BG,EAASK,uBAQZ,MAAa,SAAE7K,EAAGsK,EAAOC,IACnBV,GACDA,EAAcY,KAAKC,MAAQ5B,EAAEgC,QAAQC,YACvC3Q,KAAK4Q,IAAIf,GAAMnB,EAAEgC,QAAQG,gBACzB7Q,KAAK4Q,IAAIjB,GAAMjB,EAAEgC,QAAQG,iBAE1BjL,EAAEgD,iBACFhD,EAAEiD,oBAOJ,KAAa,SAAEjD,EAAGsK,EAAOC,GACxB,IAAIC,EACA9T,EAAG4P,EAAQ4E,EACXvU,EAAG0P,EAAQ8E,EACHjc,EAKZ,GAHA6a,IAAOQ,EAAM5H,SAASjM,EAAI6T,EAAMjI,UAAU5L,GAC1CuT,IAAOM,EAAM5H,SAAShM,EAAI4T,EAAMjI,UAAU3L,KAErCkT,GAAiBA,EAAcY,KAAKC,MAAQ5B,EAAEgC,QAAQC,YAAe3Q,KAAK4Q,IAAIf,GAAMnB,EAAEgC,QAAQG,gBAAkB7Q,KAAK4Q,IAAIjB,GAAMjB,EAAEgC,QAAQG,gBAqB7I,IAdAC,GAAenB,EACfoB,GAAelB,EACVnB,EAAEgC,QAAQM,oBACC,MAAVtB,IAAkBA,GAAS1P,KAAK4Q,IAAS,GAALf,GAAW7P,KAAK4Q,IAAIjB,IAC5DD,EAAQ,IACRC,EAAQ,IAGW,MAAVD,IAAkBA,GAAS1P,KAAK4Q,IAAS,GAALjB,GAAW3P,KAAK4Q,IAAIf,MACjEH,EAAQ,IACRG,EAAQ,IAIJ/a,EAAI,EAAGA,EAAI8a,EAAQ1X,OAAQpD,IAGhC,IAFAsb,EAAWR,EAAQ9a,IAELyb,YAAc,iBAMH,YAAxB,GAJAjU,EAAI0T,IAAK,UAAII,EAASI,YAAb,aAAI,EAAgBR,IAC7BzT,EAAI0T,IAAK,UAAIG,EAASI,YAAb,aAAI,EAAgBP,KAGvBH,EAAahb,GAClBgb,EAAahb,GAAK,CAAEwH,EAAC,UAAEA,SAAF,aAAE,EAAG2U,UAAW1U,EAAC,UAAEA,SAAF,aAAE,EAAG0U,WAC1C,QAAD,EAAA3U,SAAA,mBAAG6F,eAAH,SAAY+O,YACX,QAAD,EAAA3U,SAAA,mBAAG4F,eAAH,SAAY+O,YACZlB,IAAU1T,EAAE6U,cAAgBf,EAASgB,aAAa9U,EAAG0T,GACrDC,IAAU1T,EAAE4U,cAAgBf,EAASgB,aAAa7U,EAAG0T,GAIjD3T,IACJ4P,EAASyD,GAAOA,EAAKS,EAAS1B,EAAEtS,IAAIE,GAAMA,EAAE4F,kBAAoB5F,EAAE+U,iBAAmB,GACjF9U,IACJ0P,EAAS4D,GAAOA,EAAKO,EAAS1B,EAAEtS,IAAIG,GAAMA,EAAE2F,kBAAoB3F,EAAE8U,iBAAmB,IAIhFP,GAAe5E,IAAhB,UAA0B5P,SAA1B,iBAA0B,EAAG6F,eAA7B,aAA0B,EAAYmP,UAAUxB,EAAahb,GAAGwH,EAAI4P,KACpEkE,EAASmB,sBAAsBvB,EAAO9D,KAC1C5P,EAAE6F,QAAQqP,KAAK1B,EAAahb,GAAGwH,EAAI4P,GACnC4E,GAAc,IAGTC,GAAe9E,IAAhB,UAA0B1P,SAA1B,iBAA0B,EAAG4F,eAA7B,aAA0B,EAAYmP,UAAUxB,EAAahb,GAAGyH,EAAI0P,KACpEmE,EAASmB,sBAAsBtB,EAAOhE,KAC1C1P,EAAE4F,QAAQqP,KAAK1B,EAAahb,GAAGyH,EAAI0P,GAEnC8E,GAAc,KAgBnB,QAAW,SAAEnL,EAAGsK,EAAOC,GACtB,IAAIC,EAGQtb,EAMZ,IAJA4a,OAAQ9V,EAIF9E,EAAI,EAAGA,EAAI8a,EAAQ1X,OAAQpD,IAAM,CAGS,gBAA/C,IAFAsb,EAAWR,EAAQ9a,IAELyb,aAAeT,EAAahb,GAEzC,UAAAsb,EAASI,YAAT,mBAAgBR,UAAhB,mBAAwB7N,eAAxB,SAAiClH,UACjC,UAAAmV,EAASI,YAAT,mBAAgBP,UAAhB,mBAAwB9N,eAAxB,SAAiClH,WAY9BwU,GAAkBA,EAAcY,KAAKC,MAAQ5B,EAAEgC,QAAQC,YAAe3Q,KAAK4Q,IAAIf,GACjFnB,EAAEgC,QAAQG,gBAAkB7Q,KAAK4Q,IAAIjB,GAAMjB,EAAEgC,QAAQG,iBAIvDjL,EAAEiD,kBACFjD,EAAE6L,YAAc7L,EAAEgD,kBAQnBgH,EAAUE,EAAe,OAG3B,KACApB,EAAEgC,QAAQgB,iBAEXlQ,KAAKkN,EAAEiD,aAAe5B,GAGtBvO,KAAKkN,EAAEiD,YAAa,G,EAItBC,SAAA,WACC,IAAI7a,EAAQyK,KAAKzK,MAOjB,cANAA,E,iWAAK,IAAYA,IACJ8a,YACN9a,EAAMiZ,aACNjZ,EAAMkZ,aACNlZ,EAAMyL,eACNzL,EAAMsX,aACNtX,G,EAGR+K,OAAA,WAAS,MAMAN,KAAKzK,MAJRgL,EAFG,EAEHA,SACA8P,EAHG,EAGHA,KAHG,EAIHxD,aAJG,EAKH/L,MAKL,OAAO,kBAACuP,EAAD,OAAUrQ,KAAKoQ,WAAf,CAA2BxD,IAAK5M,KAAKmN,OAAO5M,I,GA9PdZ,IAAM+B,W,EACrCC,UAAe,CACrB6M,MAAO5M,IAAU3F,OACjBwS,MAAO7M,IAAU3F,Q,EAEXqU,aAAe,CACrBD,KAAM,O,SA2PRpD,EAAU3I,IAAM,SAAE/O,GACjB,OAAO,kBAAC,EAAcA,IC1QR,I,0lBCRR,IAAMgb,EAAsB,IAAI7a,OACtC,mCACA,CAAC,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,IAAK,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,OAAQ,QAAQC,KAAK,KAC3H,KASI,SAAS6a,EAAQC,EAAMC,GACvB1U,IAAGO,MAAMkU,KACdA,EAAO,CAACA,IACHzU,IAAGO,MAAMmU,KACdA,EAAO,CAACA,IAET,IAE6Bpd,EAFzBqd,EAAqBF,EAAKlY,KAAI,SAAA1C,GAAC,OAAKA,GAAKA,EAAEkG,OAASlG,EAAEkG,MAAMwU,IAAwB,CAAC,CAAE1a,GAAK,EAAG,SAC/F+a,EAAqBF,EAAKnY,KAAI,SAAA1C,GAAC,OAAKA,GAAKA,EAAEkG,OAASlG,EAAEkG,MAAMwU,IAAwB,CAAC,CAAE1a,GAAK,EAAG,SAC/Fgb,EAAQ,GAAIC,EAAS,GAGzB,IADAxd,EAAI,EACIA,EAAIqd,EAAOja,QAClBma,EAAMF,EAAOrd,GAAG,IAAMud,EAAMF,EAAOrd,GAAG,KAAO,EAC7Cud,EAAMF,EAAOrd,GAAG,KAAOyF,WAAW4X,EAAOrd,GAAG,IAC5CA,IAGD,IADAA,EAAI,EACIA,EAAIsd,EAAOla,QAClBma,EAAMD,EAAOtd,GAAG,IAAMud,EAAMD,EAAOtd,GAAG,KAAO,EAC7Cud,EAAMD,EAAOtd,GAAG,KAAOyF,WAAW6X,EAAOtd,GAAG,IAC5CA,IAEDU,OAAOmG,KAAK0W,GACLra,SACA,SAAAqE,GAAI,OAAKiW,EAAOpV,KAAKmV,EAAMhW,GAAQA,MAxBG,2BAAP0R,EAAO,iCAAPA,EAAO,kBA0B7C,OAAOA,EAAK7V,OAAS8Z,EAAM,WAAN,GAAOM,GAAP,OAAkBvE,IAAQuE,EASzC,SAASC,EAASN,EAAMO,GACxBhV,IAAGO,MAAMkU,KACdA,EAAO,CAACA,IAET,IAC6Bnd,EADzBqd,EAAqBF,EAAKlY,KAAI,SAAA1C,GAAC,OAAKA,GAAKA,EAAEkG,OAASlG,EAAEkG,MAAMwU,IAAwB,CAAC,CAAE1a,GAAK,EAAG,SAC/Fgb,EAAQ,GAAIC,EAAS,GAGzB,IADAxd,EAAI,EACIA,EAAIqd,EAAOja,QAClBma,EAAMF,EAAOrd,GAAG,IAAMud,EAAMF,EAAOrd,GAAG,KAAO,EAC7Cud,EAAMF,EAAOrd,GAAG,IAAMyF,WAAW4X,EAAOrd,GAAG,IAAM0d,EACjD1d,IAMD,OAJAU,OAAOmG,KAAK0W,GACLra,SACA,SAAAqE,GAAI,OAAKiW,EAAOpV,KAAKmV,EAAMhW,GAAQA,MAEnCiW,EAGD,SAASzS,EAAQyC,EAAOmQ,GAE9B,YAF0C,IAAZA,MAAQ,IACtCnQ,EAAQ9E,IAAGO,MAAMuE,GAASA,EAAQA,GAAS,CAACA,IAAUA,GACzCvI,KACZ,SAAA2Y,GAAI,cAECA,GAFD,IAGFC,KAAMD,EAAKC,KAAOF,OAMf,SAASpS,GAAOiC,EAAOsQ,EAAcC,QAAa,IAA3BD,MAAW,GACxCtQ,EAAQ9E,IAAGO,MAAMuE,GAASA,EAAQA,GAAS,CAACA,IAAUA,EAGtD,IAAIwQ,EAAY,EAgBhB,OAfAxQ,EAAMtK,SACL,SAAA0a,GACCI,EAAY9S,KAAKE,IAAI4S,EAAWJ,EAAKC,KAAOD,EAAKE,aAInDtQ,EAAQA,EAAMvI,KACb,SAAA2Y,GAAI,cAECA,GAFD,IAGFC,KAAWD,EAAKC,KAAOG,EAAaF,EACpCA,SAAWF,EAAKE,SAAWE,EAAaF,OAIpCC,EAAahT,EAAOyC,EAAOuQ,GAAcvQ,EAGjD,SAASyQ,GAAe1b,GACvB,OAAKmG,IAAG7E,OAAOtB,IACNA,EACJmG,IAAGhH,OAAOa,GACP7B,OAAOmG,KAAKtE,GAAG+N,QAAO,SAAEC,EAAGhP,GAAL,OAAegP,EAAEhP,GAAO0c,GAAc1b,EAAEhB,IAAOgP,IAAI,IAC5E7H,IAAGO,MAAM1G,GACNA,EAAE0C,KAAI,SAAE2Y,GAAF,OAAaK,GAAcL,MAE5Brb,EAAES,MAAM,iCAEPiC,KACb,SAAEyY,EAAK1d,GAAP,OAAeA,EAAI,GAAKyF,WAAWiY,GAAOA,KACzCrb,KAAK,IAGD,SAAS6b,GAAS1Q,GACxBA,EAAgB9E,IAAGO,MAAMuE,GAASA,EAAQA,GAAS,CAACA,IAAUA,EAE9D,IAAIwQ,EAAY,EAOhB,OANAxQ,EAAMtK,SACL,SAAA0a,GACCI,EAAY9S,KAAKE,IAAI4S,EAAWJ,EAAKC,KAAOD,EAAKE,aAI5CtQ,EAAMvI,KACZ,SAAA2Y,GAOC,OANAA,EAAI,OAECA,GAFD,IAGFC,KAAMG,GAAaJ,EAAKC,KAAOD,EAAKE,WAChCF,EAAKO,MAAQ,CAAEA,MAAOF,GAAcL,EAAKO,aAAWrZ,MAO7D,IAAMsZ,GAAgB,CAAE,WAAa,EAAM,QAAU,EAAM,YAAc,EAAM,WAAa,GAErF,SAASC,GAAQ1b,GAAqB,2BAAV2b,EAAU,iCAAVA,EAAU,kBAC5C,IAAIC,EAASD,EAAQnF,QAErB,IAAM,IAAM5X,KAAOgd,EAAS,CAeG,MAd9B,GAAMA,EAAO1c,eAAeN,GAG5B,GAAK6c,GAAc7c,GACZoB,EAAOpB,KACZoB,EAAOpB,GAAO,IAETmH,IAAGO,MAAMsV,EAAOhd,IAGjB8c,GAAO1b,EAAOpB,GAAMgd,EAAOhd,IAF/B8c,GAAO1b,EAAOpB,GAAM,CAACgd,EAAOhd,UAM7B,GAAKmH,IAAGO,MAAMsV,EAAOhd,IACdoB,EAAOpB,KACZoB,EAAOpB,GAAO,IAETmH,IAAGO,MAAMtG,EAAOpB,KAGjB,EAAAoB,EAAOpB,IAAK6G,KAAZ,QAAoBmW,EAAOhd,IAF/BoB,EAAOpB,GAAP,UAAkBgd,EAAOhd,GAAzB,CAA+BoB,EAAOpB,UAKjCoB,EAAOpB,GAQHmH,IAAGhH,OAAOiB,EAAOpB,KAASmH,IAAGhH,OAAO6c,EAAOhd,IACpD8c,GAAO1b,EAAOpB,GAAMgd,EAAOhd,IAI3BoB,EAAOpB,GAAOid,GAAW7b,EAAOpB,GAAMgd,EAAOhd,IAZvCmH,IAAGhH,OAAO6c,EAAOhd,IAItBoB,EAAOpB,GAAP,KAAmBgd,EAAOhd,IAH1BoB,EAAOpB,GAAOgd,EAAOhd,GAmB1B,OAAO+c,EAAQlb,QAAUib,GAAM,WAAN,GAAO1b,GAAP,OAAkB2b,KAAY3b,EAGxD,SAAS6b,GAAYC,EAAIC,GACxB,IAAMD,EACL,OAAOC,EACR,IAAMA,EACL,OAAOD,EACR,IAAIE,GAAW,GAAKF,GAAIzb,MAAM,iCAC1B4b,GAAW,GAAKF,GAAI1b,MAAM,iCAC1BlC,EAAU6d,EAAQ1Z,KACjB,SAAEyY,EAAK1d,GAAP,OAAeA,EAAI,EAAIyF,WAAWiY,GAAOjY,WAAWmZ,EAAQ5e,IAAM,GAAK0d,KACtE1Y,QAAO,SAAAhF,GAAC,MAAW,KAANA,KAEnB,OAAoB,IAAbc,EAAEsC,OAAe0S,SAAShV,EAAE,IAAMA,EAAEuB,KAAK,IAG1C,SAASwc,GAAYrR,EAAOsR,GAClC,IAAIC,EAAM,GAaV,OAZAvR,EAAU9E,IAAGO,MAAMuE,GAASA,EAAQA,GAAS,CAACA,IAAUA,GAClDtK,SACL,SAAA0a,GACCS,GAAOU,EAAKnB,EAAKO,UAGdW,IACJC,EAAMd,GAAcc,IAKdA,EAGD,SAASpc,GAAQ6K,EAAO7K,GAE9B,OADA6K,EAAQ9E,IAAGO,MAAMuE,GAASA,EAAQA,GAAS,CAACA,IAAUA,GACzCvI,KACZ,SAAA2Y,GAAI,cAECA,GAFD,IAGFjb,cAMG,SAASqc,GAAiBxR,EAAO2L,GAEvC,YAFmD,IAAZA,MAAQ,IAC/C3L,EAAQ9E,IAAGO,MAAMuE,GAASA,EAAQA,GAAS,CAACA,IAAUA,GACzCvI,KACZ,SAAA2Y,GACC,IAAI1c,EAAI0c,EAAKO,OAASP,EAAKO,MAAMhS,UACjC,GAAKjL,EAAI,CACRA,EAAIwH,IAAGO,MAAM/H,GAAKA,EAAI,CAACA,GACvB,IAAM,IAAIlB,EAAI,EAAGA,EAAImZ,EAAOnZ,IAC3BkB,EAAE+d,QAAQ,IAEXrB,EAAO,OAAKA,GAAR,IAAcO,MAAO,OAAKP,EAAKO,OAAZ,IAAmBhS,UAAWjL,MAEtD,OAAO0c,K,YC5QDra,GAAW,GAAIC,GAAexB,EAAQ,IAAsCwB,eAErFA,GAAeD,GAAU,SADuBvB,EAAQ,KAGxDwB,GAAeD,GAAU,YAD0BvB,EAAQ,KAG3DwB,GAAeD,GAAU,YAD0BvB,EAAQ,KAG3DwB,GAAeD,GAAU,aAD2BvB,EAAQ,KAG5DwB,GAAeD,GAAU,kBADgCvB,EAAQ,KAG1D,IASQuB,M,6kBCGf,IAAM2b,GAAW,SACbC,IADU,IAEbxV,OAAiB9F,KACjB6F,MAAiB7F,KACjB2F,IAAiB3F,KACjByF,KAAiBzF,KACjB0F,MAAiB1F,KACjB4F,OAAiB5F,KACjBub,UAAiBvb,KACjBwb,WAAiBxb,KACjByb,YAAiBzb,KACjB0b,aAAiB1b,KACjB2b,WAAiB3b,KACjB4b,YAAiB5b,KACjB6b,aAAiB7b,KACjB8b,cAAiB9b,KACjB+b,aAAiB/b,KACjBgc,gBAAiBjc,aAAM,GACvBkc,OAAiBnc,KACjBkG,QAAiB/F,OAIX,SAASic,GAAqBC,EAAQ5Z,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GAC5F,IAAIE,EAAOP,EAAMpD,MAAM,KACvBkc,GAASvY,EAAK,KACXuY,GAASvY,EAAK,IAAIR,QAAQC,EAAOC,EAAcC,EAAQC,EAASC,EAAUC,GAGvE,SAASwZ,GAAUrY,EAAWmX,EAAKmB,EAAU7Y,EAAMC,GACzD5G,OAAOmG,KAAKqZ,GACLhd,SACA,SAAE3B,GACD2e,EAAS3e,GAAKoG,MAAMpG,EAAKqG,EAAWmX,EAAK1X,EAAMC,MAKjD,SAAS6Y,GAAYxR,EAAOyR,EAAc9X,EAAUjB,EAAM6Y,EAAU3X,EAAYS,GACtF,IAAIqX,EAAS,GAAIC,EAAW,GAyB5B,OAxBA5f,OAAOmG,KAAK8H,GACLzL,SACA,SAAE3B,GACI2d,GAAS3d,GACb8e,EAAO9e,GAAOoN,EAAMpN,GACX+B,aAAmB/B,EAAKoN,EAAMpN,IAClC8B,aAAoB9B,GACxBmB,aAAwBnB,EAAKoN,EAAMpN,GAAM8e,GAErCA,EAAO9e,GAAOoN,EAAMpN,GAErB+e,EAAS/e,GAAOoN,EAAMpN,MAGnCb,OAAOmG,KAAKwZ,GACLnd,SACA,SAAE3B,GACI2d,GAAS3d,IACZ2e,EAAS3e,GAAO2d,GAAS3d,IAAMwH,IAAIxH,EAAK8e,EAAO9e,GAAM6e,EAAc/Y,EAAMiB,EAAUC,EAAYS,IAG/FkX,EAAS3e,GAAOsC,MAAQkF,IAAIxH,EAAK8e,EAAO9e,GAAM6e,EAAc/Y,EAAMiB,EAAUC,EAAYS,MAG3FsX,EAGD,SAASC,GAAWC,EAAWlY,EAAUjB,EAAM6Y,EAAU3X,GAC/DA,EAAmBA,GAAc,GACjC,IAAIkY,EAAe,GACfC,EAAeF,EAAUlQ,QACxB,SAAEqQ,EAAMhS,GACP,IAAIiS,EAAqB,GAgBzB,OAfAV,EAASvR,EAAMhM,QAAUud,EAASvR,EAAMhM,SAAW,GACnD2F,EAASqG,EAAMhM,QAAU2F,EAASqG,EAAMhM,SAAW,GACnD0E,EAAKsH,EAAMhM,QAAc0E,EAAKsH,EAAMhM,SAAW,GAEzCgM,EAAM/L,MAAuB,UAAf+L,EAAM/L,KAUrB+d,EAAKvY,KAAL,MAAeuG,MATlBpG,GAAc8V,GAAOoC,EAAa9R,EAAMhM,QAAU8d,EAAa9R,EAAMhM,SAAW,GAAIgM,EAAMwP,OAE3FgC,GAAWxR,EAAMwP,MAAOyC,EAActY,EAASqG,EAAMhM,QAAS0E,EAAKsH,EAAMhM,QAASud,EAASvR,EAAMhM,SAAS,GAC1Gge,EAAKvY,KAAL,SAEKuG,GAFL,IAGEwP,MAAOyC,MAIHD,IAER,IAQL,OALCpY,GAAc7H,OAAOmG,KAAK4Z,GACLvd,SACA,SAAAkM,GAAE,OAAI+Q,GAAWM,EAAarR,GAAK,GAAI,GAAI/H,EAAK+H,GAAK8Q,EAAS9Q,OAG7EsR,E,aCtGFG,GAAsB,GACPC,G,YAEpB,WAAaC,EAAKvL,GAAQ,MACzB,GAAKqL,GAAoBzd,OAAS,CACjC,IAAI4d,EAAYH,GAAoBja,MAUpC,OATAoa,EAAQxL,MAAQA,EACX9M,IAAGO,MAAM8X,IACbC,EAAQC,YAAc,EACtBD,EAAQE,MAAMH,EAAKvL,IAGduL,EAAIxU,MACRyU,EAAQE,MAAMH,EAAIxU,KAAMiJ,GAEnBwL,GAAP,OAZwB,OAczB,aAASG,YAdgB,K,4BAiB1BC,QAAA,WAEC1U,KAAK8I,WAAyB1Q,EAC9B4H,KAAK2U,QAAQje,OAAiB,EAC9BsJ,KAAK4U,cAAcle,OAAW,EAC9BsJ,KAAK6U,YAAYne,OAAa,EAC9BsJ,KAAK8U,aAAape,OAAY,EAC9BsJ,KAAK+U,SAASre,OAAgB,EAC9BsJ,KAAKgV,cAActe,OAAW,EAC9BsJ,KAAKiV,gBAAgBve,OAAS,EAE9BsJ,KAAKiV,gBAAgBve,OAAS,EAC9BsJ,KAAKkV,WAAWxe,OAAc,EAC9BsJ,KAAKmV,WAAWze,OAAc,EAC9BsJ,KAAKoV,OAAyB,EAC9BpV,KAAKoR,SAAyB,EAC9BpR,KAAKqV,SAAyB,EAC9BrV,KAAKsV,UAAyB,EAC9BnB,GAAoBzY,KAAKsE,O,WArCekD,G,qkBCJ1C,IACClH,GAAW1G,EAAQ,GACnBigB,GAAWjgB,EAAQ,IACnBkgB,GAAW,SAAe1a,GACzB,MAAoB,iBAANA,EAAiBA,EAAIA,EAAI,GAAK,EAAI,EAAIA,GAAMA,EAAIA,EAAI2a,IAAMA,KAEzErG,GAAW5Q,KAAK4Q,IAChBsG,GAAWlX,KAAKkX,MAEhBjX,IADWD,KAAKmX,MACLnX,KAAKC,KAChBC,GAAWF,KAAKE,IAChB9I,GAAW,SAAEC,GAAF,gBAAEA,MAAI,GAAOA,EAAEE,QAAQ,IAyCnC,IASqB6f,G,WAMpB,WAAaC,GACZ,IAAI3I,EAAKlN,KAAKkN,EAAI,GAClBA,EAAE4I,KAAF,SACI9V,KAAKqM,YAAY0J,QACjBF,GAWJ7V,KAAKgW,QAAmB,EACxB9I,EAAErK,IAAsBgT,EAAIthB,OAAS,EACrC2Y,EAAE+I,OAAsB,GACxB/I,EAAEzO,IAAsBoX,EAAIpX,KAAO,EACnCyO,EAAExO,IAAsBmX,EAAInX,KAAO,EACnCwO,EAAEgJ,YAAsB,EACxBhJ,EAAEiJ,eAAsB,EACxBjJ,EAAEkJ,MAAsBlJ,EAAE4I,KAAKM,MAC/BlJ,EAAEmJ,SAAsBnJ,EAAE4I,KAAKO,SAC/BnJ,EAAEoJ,UAAsBpJ,EAAE4I,KAAKQ,UAC/BpJ,EAAEqJ,UAAsBhB,GAASiB,YACjCtJ,EAAEuJ,oBAAsB,EAExBzW,KAAK0W,qB,2BAINC,OAAA,SAAQC,QAAkB,IAAlBA,MAAK/H,KAAKC,OACjB,IAAkB+H,EAAWC,EAAzB5J,EAAMlN,KAAKkN,EAEdrK,EAAMqK,EAAEqJ,WAAWK,EAAK1J,EAAE6J,gBAAkB7J,EAAE8J,gBAAkB9J,EAAE+J,WAEnE,IAAM/J,EAAEvM,QAMP,OAAOuM,EAAErK,IAEV,IACCqU,EAAerU,EAAMqK,EAAEiJ,eA0BxB,GAzBAjJ,EAAEiJ,eAAiBtT,EAEb+T,EAAK1J,EAAE6J,gBAAmB7J,EAAE8J,iBACjC9J,EAAEvM,QAAiBX,KAAKgW,QAAS,EACjC9I,EAAEiJ,eAAiBe,EAAQ,EAC3BhK,EAAE+J,WAAiB,EACd/J,EAAEiK,iBACND,EAAyBhK,EAAEiK,eAAeP,GAAK1J,EAAErK,IAEjDqK,EAAEkK,gBAAuBlK,EAAEiK,eAC3BjK,EAAEmK,qBAAuBnK,EAAEuJ,oBAC3BvJ,EAAEiK,eAAuB,KACzBjK,EAAEuJ,oBAAuB,MAIrBvJ,EAAE4I,KAAKwB,cACXpK,EAAE4I,KAAKwB,aAAapK,EAAErK,IAAKqK,EAAEkK,kBAI/BF,EAAYA,GAAS,EAErBL,EAAY3J,EAAErK,IAAMqU,EAEfA,GAAShK,EAAE4I,KAAKyB,WAEpB,KAAST,EAAO5J,EAAE4I,KAAKyB,WAAWV,EAAWK,IAE5CL,GAAaC,EAOf,OAFA5J,EAAErK,IAAMgU,EAEDA,G,EAGRW,OAAA,SAAQ3U,GACP,IAAIqK,EAAelN,KAAKkN,EACxBA,EAAEvM,SAAiB,EACnBX,KAAKgW,QAAc,EACnB9I,EAAEiJ,eAAiB,EACnBjJ,EAAE+J,WAAiB,EACnB/J,EAAErK,IAAiBA,EACdqK,EAAE4I,KAAKrV,SACXyM,EAAErK,IAAMnE,GAAIwO,EAAErK,IAAKqK,EAAEzO,KACrByO,EAAErK,IAAMpE,GAAIyO,EAAErK,IAAKqK,EAAExO,O,EAIvB+Y,aAAA,SAAcnB,GACCtW,KAAKkN,EACjBoJ,UAAYA,EACdtW,KAAK0W,sB,EAGNgB,SAAA,SAAUC,GACT,IAAIzK,EAAIlN,KAAKkN,EACb,IAAMA,EAAEvM,QACP,OAAOuM,EAAErK,KAAO8U,EAGjBzK,EAAErK,KAAO8U,G,EAIVC,SAAA,SAAUV,EAAOW,QAAW,IAAXA,MAAK,KACrB,IAAI3K,EAAMlN,KAAKkN,EACX4B,EAAMD,KAAKC,MAGf9O,KAAKgW,QAAS,EAGR9I,EAAEvM,SAAW6U,GAAO0B,KAAW1B,GAAOtI,EAAE+J,aAa7C/J,EAAE+J,YAAcC,EAChBhK,EAAE8J,gBAAkBa,EAAK,IAbzB3K,EAAEvM,SAAiB,EACnBuM,EAAEiJ,eAAiB,EACnBjJ,EAAE6J,eACD7J,EAAE4K,cAAgBhJ,EAEnB5B,EAAE+J,WAAiBC,EACnBhK,EAAE8J,eAAiBa,GAcf3K,EAAE4I,KAAKrV,SACLyM,EAAErK,IAAMqK,EAAE+J,WAAc/J,EAAExO,KAE/BwO,EAAE+J,WAAiB/J,EAAExO,IAAMwO,EAAErK,IAC7BqK,EAAE8J,eAAiB5H,GAAmB,GAAflC,EAAE+J,aAEf/J,EAAErK,IAAMqK,EAAE+J,WAAc/J,EAAEzO,MAEpCyO,EAAE+J,WAAiB/J,EAAEzO,IAAMyO,EAAErK,IAC7BqK,EAAE8J,eAAiB5H,GAAmB,GAAflC,EAAE+J,cAG3BjX,KAAK+X,QAAQvC,GAAO0B,GAAQ,M,EAI7BR,mBAAA,WACC,IAEIpjB,EAFA4Z,EAAMlN,KAAKkN,EACXrK,EAAMqK,EAAErK,IAGZ,GAAKqK,EAAEoJ,WAAapJ,EAAEoJ,UAAU5f,OAC/B,IAAMpD,EAAI,EAAGA,EAAI4Z,EAAEoJ,UAAU5f,OAAQpD,IACpC,GAAKsC,GAASsX,EAAEoJ,UAAUhjB,GAAGsjB,MAAQhhB,GAASiN,GAK7C,OAJAqK,EAAEkK,gBAAuBlK,EAAEoJ,UAAUhjB,GACrC4Z,EAAEmK,qBAAuB/jB,EAGlBA,G,EAKXykB,QAAA,SAASC,EAAWC,QAAqB,IAArBA,MAAc,KACjC,IAEIhiB,EACAiiB,EACA5kB,EAJA4Z,EAAMlN,KAAKkN,EACXrK,EAAMqK,EAAE+J,YAAc/J,EAAErK,KAAOqK,EAAEiJ,gBAAkB,IAMvD,GAAKjJ,EAAEoJ,WAAapJ,EAAEoJ,UAAU5f,OAAS,CACxC,IAAMpD,EAAI,EAAGA,EAAI4Z,EAAEoJ,UAAU5f,UACvBwW,EAAEoJ,UAAUhjB,GAAGsjB,GAAK/T,GADWvP,KAgBrC,GAZKA,IAAM4Z,EAAEoJ,UAAU5f,OACtBpD,IAEe,IAANA,EACTA,EAAI,GAGJ4kB,EAAMhL,EAAEoJ,UAAUhjB,EAAI,GAAGsjB,IAAM1J,EAAEoJ,UAAUhjB,GAAGsjB,GAAK1J,EAAEoJ,UAAUhjB,EAAI,GAAGsjB,IAAM,EACvEoB,EAAYA,EAAY,GAAK1kB,IACxBuP,EAAMqV,GAAM5kB,KAGlB4Z,EAAE4I,KAAKqC,SAAWnc,GAAG7E,OAAO+V,EAAEmK,sBAAwB,CAC1D,IAAIzjB,EAAKN,EAAI4Z,EAAEmK,qBAEVjI,GAAIxb,GAAKsZ,EAAE4I,KAAKqC,UAEpB7kB,EAAI4Z,EAAEmK,qBAAuB7B,GAAO5hB,GAAKsZ,EAAE4I,KAAKqC,SAGlDliB,EAASiX,EAAEoJ,UAAUhjB,GAAGsjB,GAEnB1J,EAAE4I,KAAKsC,UACXlL,EAAE4I,KAAKsC,SAAS9kB,EAAG4Z,EAAEoJ,UAAUhjB,IAGhC4Z,EAAEiJ,eAAsBjJ,EAAEiJ,gBAAkB,EAC5ClgB,GAAkCiX,EAAErK,IAAMqK,EAAEiJ,eAC5CjJ,EAAE8J,eAAsBtY,GAAI,GAAID,GAAIwZ,EAAa7I,GAAKlC,EAAE8J,eAAiB9J,EAAE+J,WAAchhB,MAAa,EAEtGiX,EAAE+J,WAAsBhhB,EACxBiX,EAAEiK,eAAsBjK,EAAEoJ,UAAUhjB,GACpC4Z,EAAEuJ,oBAAsBnjB,OAGxB2C,KAAYiX,EAAErK,IAAMqK,EAAEiJ,gBAEhBjJ,EAAE4I,KAAKuC,WACPpiB,EAASiX,EAAExO,KACfzI,EAAmBiX,EAAExO,IAAMzI,EAC3BiX,EAAE8J,eAAiBvY,GAAIwZ,EAAa7I,GAAKlC,EAAE8J,eAAiB9J,EAAE+J,WAAchhB,IAC5EiX,EAAE+J,WAAiBhhB,GAEVA,EAASiX,EAAEzO,MACpBxI,EAAmBiX,EAAEzO,IAAMxI,EAC3BiX,EAAE8J,eAAiBvY,GAAIwZ,EAAa7I,GAAKlC,EAAE8J,eAAiB9J,EAAE+J,WAAchhB,IAC5EiX,EAAE+J,WAAiBhhB,K,EAOvBqiB,UAAA,SAAW7Z,EAAKC,GACf,IAAIwO,EAAIlN,KAAKkN,EAEbA,EAAEzO,IAAMA,EACRyO,EAAExO,IAAMA,G,EAGTgR,UAAA,WACC,IAAIxC,EAAalN,KAAKkN,EACtBA,EAAEqL,OAAerL,EAAEsL,QAAU3J,KAAKC,MAAQ,IAC1C5B,EAAEuL,aAAevL,EAAEwL,cAAgB,EACnCxL,EAAEyL,UAAe,EACjBzL,EAAE0L,QAAe,EACjB5Y,KAAKgW,QAAY,EACjBhW,KAAK6Y,SAAY,EACjB3L,EAAEvM,SAAe,G,EAGlBmP,UAAA,SAAWgJ,GACV,IAAI5L,EAAQlN,KAAKkN,EACbgK,OAA0B9e,IAAlB8U,EAAE6L,YAA4BD,EAAU5L,EAAE6L,YAAc,EAChElW,GAASqK,EAAE+J,YAAc,IAAM/J,EAAErK,KAAOqK,EAAEiJ,gBAAkB,IAAMe;4EAStE;OAAOrU,GAAOqK,EAAEzO,KAAOoE,GAAOqK,EAAExO,K,EAGjCsR,KAAA,SAAM8I,GACL,IAEIhC,EAFA5J,EAAQlN,KAAKkN,EACbgK,OAA0B9e,IAAlB8U,EAAE6L,YAA4BD,EAAU5L,EAAE6L,YAAc,EAKpE,GADA7L,EAAE6L,YAAcD,EACX5B,GAAShK,EAAE4I,KAAKyB,WAKpB,KAAST,EAAO5J,EAAE4I,KAAKyB,WAAWrK,EAAErK,IAAKqU,IAExChK,EAAErK,KAAOiU,EAGX,IAAIhI,EAAeD,KAAKC,MAAQ,IAC5BkK,EAAgBlK,EAAM5B,EAAEqL,OACxB1V,EAAeqK,EAAErK,IAAMqU,EACvB+B,EAAe/B,EAAQ8B,EAK3B9L,EAAEwL,cAAsBO,EACxB/L,EAAEuL,aAAsBQ,EACxB/L,EAAEqL,OAAsBzJ,EACxB5B,EAAE+J,WAAsB,EACxB/J,EAAEiJ,eAAsB,EAExBjJ,EAAEiK,oBAAsB/e,EACxB8U,EAAEuJ,yBAAsBre,EA8CnB8U,EAAE4I,KAAKrV,SACNoC,EAAMqK,EAAExO,IACZmE,EAAMqK,EAAExO,IAECmE,EAAMqK,EAAEzO,MACjBoE,EAAMqK,EAAEzO,MAIVyO,EAAErK,IAAMA,G,EAITpJ,QAAA,WACC,IAAIyT,EAAUlN,KAAKkN,EACLsI,GAAOtI,EAAEuL,cAEvBzY,KAAK6Y,SAAU,EA7ZV,SAAuB3L,GAC7B,IAAIgM,EAAU1D,GAAOtI,EAAEuL,cAElBvL,EAAEmJ,UAGNnJ,EAAEiM,YAAc,EAGhBjM,EAAEkM,YAAiB,EAEnBlM,EAAE+J,WAAiB,EACnB/J,EAAE8J,eAAiB,IAInB9J,EAAEiM,YAAczD,GAAMlX,KAAKnE,IAAI,IAAM+U,GAAIlC,EAAEuL,eAAiBja,KAAKnE,IAAI,KAGrE6S,EAAEkM,aAAkB5a,KAAK6a,IAAI,GAAInM,EAAEiM,aAAe/J,GAAIlC,EAAEuL,gBAAkB,GAAK,GAE/EvL,EAAE+J,WAAkB/J,EAAEkM,YAAclM,EAAE+I,OAASiD,EAAW,KAAQ,EAClEhM,EAAE8J,eAAiB5H,GAAIlC,EAAEiM,YAAcjM,EAAE+I,OAASiD,IAAY,GA0Y9DtJ,CAAa1C,GAEbA,EAAE6L,iBAAc3gB,EAEhB8U,EAAE2L,SAAU,EAEP3L,EAAE4I,KAAKrV,QAAUyM,EAAE4I,KAAKwD,eACtBpM,EAAErK,IAAMqK,EAAE+J,WAAc/J,EAAExO,KAC/BwO,EAAE+J,WAAiB/J,EAAExO,IAAMwO,EAAErK,IAC7BqK,EAAE8J,eAAiB5H,GAAmB,GAAflC,EAAE+J,aAEf/J,EAAErK,IAAMqK,EAAE+J,WAAc/J,EAAEzO,MAEpCyO,EAAE+J,WAAiB/J,EAAEzO,IAAMyO,EAAErK,IAC7BqK,EAAE8J,eAAiB5H,GAAmB,GAAflC,EAAE+J,cAIrB/J,EAAE8J,iBACP9J,EAAE8J,eAAiB,IAGpBhX,KAAKgW,QAAc,EACnB9I,EAAEvM,SAAiB,EACnBuM,EAAEiJ,eAAiB,EACnBjJ,EAAE6J,eACD7J,EAAE4K,cAAgBjJ,KAAKC,MAExB9O,KAAK+X,QAAQ,KAAM,M,0kBAxZAnC,GACbG,OAAS,CACftV,QAAc,EACd6Y,cAAc,GCtChB,IAEIC,GAAOC,GAFPC,GAA4B,IAAIC,SAAS,sDAAb,GAC5BC,GAA0B3d,IAAGO,MACdqd,GAAW,GAGxBC,GAaK,SAASC,IACZ,IAAIxmB,EAAK,EAAMukB,EAAKhJ,KAAKC,MAAOoI,EAAQW,EAAK2B,GAE7C,IADAA,GAAS3B,EACDvkB,EAAIsmB,GAASljB,OAAQpD,IACzBsmB,GAAUtmB,GAAIymB,KAAOvb,KAAKC,IAAIyY,EAAQ0C,GAAUtmB,GAAIymB,KAAMH,GAAUtmB,GAAI8d,UACxEwI,GAAUtmB,GAAIme,MACVmI,GAAUtmB,GAAIymB,KAAMH,GAAUtmB,GAAI8d,UAGjCwI,GAAUtmB,GAAIymB,MAAQH,GAAUtmB,GAAI8d,WAErCwI,GAAUtmB,GAAI0mB,IAAMC,WAAWL,GAAUtmB,GAAI0mB,IAC7CJ,GAAS5R,OAAO1U,EAAG,GAAIA,KAI1BsmB,GAASljB,OACVujB,WAAWH,EAAO,IAGlBP,IAAQ,GAKCW,G,YAEjB,WAAa3kB,GAAQ,OACjB,eAASkf,YAAT,MAsCJzF,KAAO,GAvCc,EA20BrBC,mBAAqB,WACjB,IAAgB5B,EAAZH,EAAI,EAAKA,EAAY1G,EAAK0G,EAAEiN,cAAczjB,OAEzC,EAAK0jB,aACNC,qBAAqB,EAAKD,aAE9B,IAAM,IAAI9mB,EAAI,EAAGkT,EAAKlT,EAAGA,MACrB+Z,EAAUH,EAAEiN,cAAe7mB,IACdqN,QAAQ7F,EAAEkb,QAAU3I,EAAQ1M,QAAQ7F,EAAE+d,WAC/CxL,EAAQpX,OAAOqkB,aAAejN,EAAQ1M,QAAQ7F,EAAE6b,WAE/CtJ,EAAQ1M,QAAQ5F,EAAEib,QAAU3I,EAAQ1M,QAAQ5F,EAAE8d,WAC/CxL,EAAQpX,OAAOskB,YAAclN,EAAQ1M,QAAQ5F,EAAE4b,UAG7CtJ,EAAQ1M,QAAQ7F,EAAEkb,QAAW3I,EAAQ1M,QAAQ5F,EAAEib,QAAW3I,EAAQ1M,QAAQ7F,EAAE+d,SAAYxL,EAAQ1M,QAAQ5F,EAAE8d,UAC5G3L,EAAEiN,cAAchiB,MAAM7E,EAAG,GACzBA,IACAkT,KAIJ,EAAK4T,YADG,IAAP5T,EACkBgU,sBAAsB,EAAKvL,oBAC1B,MAl2BP,EA24BrBwL,MAAQ,GAz4BJ,IAAIvN,EAAoB,EAAKA,EAAI,CAC7BW,KAAa,GACb6M,YAAa,IAJA,OAMjBxN,EAAEtS,IAAsB,CACpBE,EAAG,IACHC,EAAG,IACHC,EAAG,KAEP,EAAK+T,aAAmB,EACxB7B,EAAEyN,SAAsB,EAAKA,SAAS7lB,KAAd,QACxBoY,EAAE0N,QAAsB,EAAKrlB,MAAMsX,cAAgBlN,IAAMyN,YACzDF,EAAEgC,QAAF,IAA0B2L,mBAAmB,GAAWtlB,EAAMulB,gBAAkB,IAChF5N,EAAE6N,YAAsB,GACxB7N,EAAE8N,UAAsB,GACxB9N,EAAE+N,aAAsB,GACxB/N,EAAEgO,WAAsB,GACxBhO,EAAEiO,oBAAsB,GACxBjO,EAAEkO,cAAsB,EACxBlO,EAAEmO,eAAsB,GACxBnO,EAAEoO,kBAAsB,GACxBpO,EAAEqO,gBAAsBrO,EAAEqO,iBAAmB,GAC7CrO,EAAEsO,gBAAsBtO,EAAEsO,iBAAmB,GAC7CtO,EAAEuO,gBAAsBvO,EAAEuO,iBAAmB,GAC7CvO,EAAEwO,aAAsBxO,EAAEwO,cAAgB,GAE1CxO,EAAEyO,WAAgB,GAClBzO,EAAEiN,cAAgB,GAClBV,IAAiB9U,OAAOyD,iBACpB,SACA,EAAK8E,EAAE0O,SAAW,SAAExX,GAAO,UACvB,EAAKyX,aACL,EAAKC,mBACL,UAAA5O,EAAE0N,eAAF,mBAAWvN,eAAX,mBAAoB0O,uBAApB,gBAAsC3X,KAnC7B,E,oCAwDrBX,SAAA,SAAUf,EAAIsZ,EAAaC,EAAWpZ,EAAKqZ,EAAOC,QAAW,IAA/CH,MAAS,SAAsC,IAAlCC,MAAO,IAG9B,IAAI/O,EAAelN,KAAKkN,EACpBvT,EAAe,GAEfiC,EAAW,GAqHf,OApHMsR,EAAE8N,UAAWtY,IACfwK,EAAEuO,gBAAgB/f,KAAKgH,GAKtBwK,EAAE8N,UAAWtY,KACdyZ,GACKjP,EAAEgO,WAAYxY,KAASuZ,IAAS3a,IAAU2a,EAAM/O,EAAEgO,WAAYxY,KAC9DwK,EAAEoO,kBAAmB5Y,KAASsZ,IAAW1a,IAAU0a,EAAQ9O,EAAEoO,kBAAmB5Y,MAKrFwK,EAAEgO,WAAYxY,GAAcuZ,EAC5B/O,EAAEoO,kBAAmB5Y,GAAOsZ,EAE5BC,EAA4BA,GAAQ,GAGpCD,EAAS,SAJTA,EAA4BA,GAAU,IAIbvI,GAAWwI,EAAMtiB,EAAciC,EAAUsR,EAAEqO,gBAAiB7Y,GAAMwK,EAAEwN,YAAahY,IAAM,GAAO,IAKvH1O,OAAOmG,KAAK+S,EAAEmO,eAAgB3Y,IACvBlM,SACG,SAAA3B,GAAG,OAAMqY,EAAE+N,aAAcvY,GAAM7N,IAASqY,EAAEmO,eAAgB3Y,GAAM7N,MAG1Eb,OAAOmG,KAAKyB,GACLpF,SACG,SAAA3B,GAAG,OAAMqY,EAAE+N,aAAcvY,GAAM7N,GAAQmH,IAAG7E,OAAO+V,EAAE+N,aAAcvY,GAAM7N,IAC9BqY,EAAE+N,aAAcvY,GAAM7N,GACtB+G,EAAU/G,MAG7Db,OAAOmG,KAAKR,GACLnD,SACG,SAAA3B,GAAG,OAAMqY,EAAE+N,aAAcvY,GAAM7N,IAAS8E,EAAc9E,MAGhEb,OAAOmG,KAAK+S,EAAEmO,eAAgB3Y,IACvBlM,SACG,SAAA3B,GACIwe,GAAoBxe,EAAKA,EAAKqY,EAAE+N,aAAcvY,GAAMwK,EAAE6N,YAAarY,GAAMwK,EAAEqO,gBAAiB7Y,GAAMwK,EAAEwN,YAAahY,OAG/HwK,EAAEmO,eAAgB3Y,GAAlB,MAA8B/I,GAE9B4Z,GAASrG,EAAE+N,aAAcvY,GAAMwK,EAAE6N,YAAarY,GAAMwK,EAAEwN,YAAahY,GAAMwK,EAAEqO,gBAAiB7Y,GAAMwK,EAAEtS,KACpGoF,KAAK8D,gBAAgBpB,GAAI,IAElBwK,EAAE8N,UAAWtY,GA2DpB6Q,GAASrG,EAAE+N,aAAcvY,GAAMwK,EAAE6N,YAAarY,GAAMwK,EAAEwN,YAAahY,GAAMwK,EAAEqO,gBAAiB7Y,GAAMwK,EAAEtS,MAxDpGsS,EAAEgO,WAAYxY,GAAOuZ,EACrBD,EAAqBA,GAAU,GAC/BC,EAAqBA,GAAQ,GAE7B/O,EAAE8N,UAAWtY,IAAa,EAC1BwK,EAAEwN,YAAahY,GAAWwK,EAAEwN,YAAahY,IAAQ,GACjDwK,EAAEqO,gBAAiB7Y,GAAOwK,EAAEqO,gBAAiB7Y,IAAQ,GAErDwK,EAAEoO,kBAAmB5Y,GAAOsZ,EAE5B9O,EAAE+N,aAAcvY,GAAOwK,EAAE+N,aAAcvY,IAAQ,GAC1CwK,EAAEmO,eAAgB3Y,IAOnBsZ,EAAS,SAAKA,GAAWvI,GAAWwI,EAAMtiB,EAAciC,EAAUsR,EAAEqO,gBAAiB7Y,GAAMwK,EAAEwN,YAAahY,IAAM,GAAO,IAGvH1O,OAAOmG,KAAKyB,GACLpF,SACG,SAAA3B,GAAG,OAAMqY,EAAE+N,aAAcvY,GAAM7N,GAAQmH,IAAG7E,OAAO+V,EAAE+N,aAAcvY,GAAM7N,IAC9BqY,EAAE+N,aAAcvY,GAAM7N,GAAQ+G,EAAU/G,GACxC,KAGnDb,OAAOmG,KAAKR,GACLnD,SACG,SAAA3B,GAAG,OAAMqY,EAAE+N,aAAcvY,GAAM7N,IAAS8E,EAAc9E,QAIhEmnB,EAAS,SAAKA,GAAWvI,GAAWwI,EAAMtiB,EAAciC,EAAUsR,EAAEqO,gBAAiB7Y,GAAMwK,EAAEwN,YAAahY,KAI1G/I,EAAe3F,OAAOooB,OAAO,GAAIxgB,EAAUjC,GAAgB,IAI3D3F,OAAOmG,KAAKR,GACLnD,SACG,SAAA3B,GAAG,OAAMqY,EAAE+N,aAAcvY,GAAM7N,IAAUqY,EAAE+N,aAAcvY,GAAM7N,IAAS,GAAM8E,EAAc9E,OAG1GqY,EAAEmO,eAAgB3Y,GAAlB,MAA8B/I,GAC9BuT,EAAE6N,YAAarY,GAAUsZ,EAEzBzI,GADA5Z,EAAyBuT,EAAE+N,aAAcvY,GAClBsZ,EAAQ9O,EAAEwN,YAAahY,GAAMwK,EAAEqO,gBAAiB7Y,GAAMwK,EAAEtS,MAU9EshB,EACM,CACHvZ,MAAO,MAAKuK,EAAE6N,YAAarY,KAGxB,CACHC,MAAO,MAAKuK,EAAE6N,YAAarY,IAC3BkK,IAAO,SAAAhF,GAAI,OAAMsF,EAAEW,KAAMnL,GAAOkF,K,EAQ5CpF,WAAA,SAAYE,GACH1C,KAAKkN,EAAE8N,UAAWtY,KACnB1C,KAAKkN,EAAEuO,gBAAgBzT,OAAOhI,KAAKkN,EAAEuO,gBAAgBtf,QAAQuG,GAAK,UAC3D1C,KAAKkN,EAAE8N,UAAWtY,UAClB1C,KAAKkN,EAAEwN,YAAahY,UACpB1C,KAAKkN,EAAEqO,gBAAiB7Y,UACxB1C,KAAKkN,EAAEgO,WAAYxY,UACnB1C,KAAKkN,EAAEmO,eAAgB3Y,UACvB1C,KAAKkN,EAAE6N,YAAarY,UACpB1C,KAAKkN,EAAE+N,aAAcvY,UACrB1C,KAAKkN,EAAEW,KAAMnL,K,EAQ5B2Z,eAAA,WAA6B,eACrBnP,EAAIlN,KAAKkN,EADY,mBAAVoP,EAAU,yBAAVA,EAAU,gBAEzBA,EAAQ9lB,SACJ,SAAEhC,GACE,EAAKiP,SAASjP,EAAG0Y,EAAEoO,kBAAmB9mB,GAAK0Y,EAAEgO,WAAY1mB,GAAK,KAAM,MAAM,MAGlFwL,KAAK8b,oB,EAUTS,eAAA,SAAgBtmB,EAAQ0M,EAAO6Z,GAAW,IACPC,EADO,OAClCvP,EAAIlN,KAAKkN,EACb,OAAKyM,GAAQ1jB,IAAW0jB,GAAQhX,GACrB1M,EAAOsC,KAAI,SAAE7E,EAAGJ,GAAL,OAAY,EAAKipB,eAAe7oB,EAAGiP,EAAOrP,GAAKkpB,MAChE7C,GAAQ1jB,GACFA,EAAOsC,KAAI,SAAE7E,GAAF,OAAS,EAAK6oB,eAAe7oB,EAAGiP,EAAO6Z,OAG7DC,EAAUhJ,GAAW9Q,EAAOuK,EAAE+N,aAAchlB,GAPjB,GAOqCiX,EAAEqO,gBAAiBtlB,GAAUiX,EAAEwN,YAAazkB,IAC5GjC,OAAOooB,OAAOlP,EAAE6N,YAAa9kB,GAAUwmB,GACvCzoB,OAAOooB,OAAOlP,EAAEoO,kBAAmBrlB,GAAUwmB,GAC7ClJ,GAASrG,EAAE+N,aAAchlB,GAAUiX,EAAE6N,YAAa9kB,GAAUiX,EAAEwN,YAAazkB,GAAUiX,EAAEqO,gBAAiBtlB,GAAUiX,EAAEtS,UACpHoF,KAAK8D,gBAAgB7N,GAAQ,K,EAQjCymB,gBAAA,SAAiBha,GACb,OAAO1C,KAAKkN,EAAEW,KAAMnL,IAAQoL,IAASC,YAAY/N,KAAKkN,EAAEW,KAAMnL,K,EAOlEia,YAAA,WACI,OAAO3c,KAAKkN,EAAE0N,SAAW5a,KAAK0c,gBAAgB1c,KAAKkN,EAAE0N,UAAY9M,IAASC,YAAY/N,O,EAc1F4c,SAAA,SAAUC,EAAMC,EAAMC,GAAqB,oBAArBA,OAAc,GAChC,IAAIC,EAIAC,EAFA/P,EAAWlN,KAAKkN,EAChBtR,EAAW,GA0Bf,GAvBK+d,GAAQkD,GACTG,EAAKH,GAGLG,EAAUH,EAAK7a,MACL6a,EAAKja,SAGXoa,aAAc9Z,KAElB8Z,EAAKnJ,GAAUmJ,EAAIphB,EAAUoE,KAAKkN,EAAEqO,gBAAiBvb,KAAKkN,EAAEwN,aAC5DsC,EAAK,IAAI9Z,GAAU8Z,EAAIhd,KAAKkN,EAAE+N,cAC9BjnB,OAAOmG,KAAKyB,GACLpF,SACG,SAAAkM,GAAE,OACE,EAAKwK,EAAE+N,aAAcvY,IACrB1O,OAAOooB,OAAO,EAAKlP,EAAE+N,aAAcvY,GAAnC,SACO9G,EAAU8G,IACV,EAAKwK,EAAE+N,aAAcvY,OACpBua,EAAO7iB,QAAQ8D,KAAK,0CAA2CwE,EAAI,OAAQwX,EAAQpN,eAAgB,QAIxHmQ,EAIL,OAAO,IAAIC,SACP,SAAAC,GAGIH,EAAGI,IAAI,EAAKlQ,EAAE+N,cAAc,WACxB,IAAI3nB,EAAI,EAAK4Z,EAAEwO,aAAavf,QAAQ6gB,IACzB,GAAN1pB,GACD,EAAK4Z,EAAEwO,aAAa1T,OAAO1U,EAAG,GAElCU,OAAOmG,KAAKyB,GACLpF,SACG,SAAAkM,GACI1O,OAAOmG,KAAKyB,EAAU8G,IACflM,SACG,SAAA6mB,GAEIhK,GAAoBgK,EAAMA,EAAMnQ,EAAE+N,aAAcvY,GAAMwK,EAAE6N,YAAarY,GAAMwK,EAAEqO,gBAAiB7Y,GAAMwK,EAAEwN,YAAahY,GAAMqa,SAGrJC,EAAGtI,UACHyI,EAAQH,MAGZ,EAAK9P,EAAEwO,aAAahgB,KAAKshB,GAEnB,EAAK9P,EAAEoQ,OACT,EAAKpQ,EAAEoQ,MAAO,EACd9C,sBAAsB,EAAKtN,EAAEyN,SAAW,EAAKzN,EAAEyN,UAAY,EAAKA,SAAS7lB,KAAK,QAGxFgoB,MAAK,SAAAE,GAAE,OAAMF,GAAQA,EAAKE,O,EAWhCO,gBAAA,SAAiB7a,EAAInK,EAAKwK,GAAQ,WAC1BxD,EAAO,GAAI3D,EAAW,GAC1B6X,GAAWlb,EAAKgH,EAAM3D,EAAUoE,KAAKkN,EAAEqO,gBAAiB7Y,GAAM1C,KAAKkN,EAAEwN,YAAahY,IAAM,GACxF1O,OAAOmG,KAAKoF,GAAMhH,KACd,SAAEnD,GAAF,OAAS,EAAK8X,EAAE+N,aAAcvY,GAAMtN,KAAS2N,GAAS,EAAKmK,EAAE+N,aAAcvY,GAAMtN,IAAOwG,EAAUxG,IAAQmK,EAAMnK,O,EAmBxH+L,SAAA,SAAUjB,EAAV,EAOG6C,GAAQ,QANWya,EAMX,EANP7c,QAMO,IALPkP,eAAkB4N,OAKX,MAL6B,EAK7B,EAJWC,EAIX,EAJPtc,iBACkBuc,EAGX,EAHPjd,iBACAG,EAEO,EAFPA,gBACAL,EACO,EADPA,YAKIod,GADmB5d,KAAKkN,EACLlN,KAAKgP,KAAM9O,IAC9BkB,EAAmBsc,EACnBjO,GAAoB1M,GAAS6a,EACRA,EAAInO,UACJ5O,GAAmBO,GAAoBA,EAAiB3C,KAAO,EACpFoR,EAAmBrR,KAAKE,IAAIkf,GAAOA,EAAI/N,gBAAkB,EAAG4N,GAC5D/c,EAAmBlC,KAAKE,IAAIkf,GAAOA,EAAIld,kBAAoB,EAAGid,GAC9DE,EAAmBD,EAAMA,EAAIC,UAAYpO,EACzC9O,EACIid,EAAMA,EAAIjd,QAAU,IAAIiV,GAAJ,OACgBS,UAAWmH,GACNA,GAAY,IAFjC,IAGgBjpB,MAAUkb,KAElDqO,EAAmB,CAEftd,cACA0C,UAAW0a,GAAOA,EAAI1a,WAAa,GACnCuM,YACAoO,YACAld,UACAD,mBACAU,mBACAyO,kBAGR7P,KAAKgP,KAAM9O,GAAQ4d,GAClBN,IAAc7c,EAAQuM,EAAEmJ,UAAW,GAClCmH,GAAc7c,IAAaA,EAAQuM,EAAEoJ,UAAYkH,EAASlH,WAC1DkH,GAAc7c,IAAYA,EAAQqV,SAAYrV,EAAQuM,EAAErK,IAAM4M,GAC3D9O,GAAWS,EACZ,UAAAT,EAAQ2X,iBAAR,cAAA3X,EAAoBS,EAAiB3C,IAAK2C,EAAiB1C,KAE3DiC,IAAO,UAAIA,EAAQ2X,iBAAZ,OAAI,OAAA3X,EAAoB,EAAGkP,K,EAG1CkO,SAAA,SAAU7d,QAAkB,IAAlBA,MAAM,WACZ,IAAIgN,EAAIlN,KAAKkN,EAcb,OAZAlN,KAAKgP,KAAM9O,GAAQF,KAAKgP,KAAM9O,IAAS,CACnCgD,UAAkB,GAClBuM,UAAkBvC,EAAEgC,QAAQ8O,kBAAoB9Q,EAAEgC,QAAQ8O,iBAAkB9d,IAAS,EACrF2d,UAAkB,EAClBnd,iBAAkB,EAClBmP,eAAkB,EAClBlP,QAAkB,IAAIiV,GAAJ,IACgBrhB,MAAO2Y,EAAEgC,QAAQ8O,kBAAoB9Q,EAAEgC,QAAQ8O,iBAAkB9d,IAAS,GACrEgN,EAAEgC,QAAQF,MAAQ9B,EAAEgC,QAAQF,KAAM9O,IAASgN,EAAEgC,QAAQF,KAAM9O,GAAMS,SAAW,MAIhHX,KAAKgP,KAAM9O,I,EAMtB+d,aAAA,SAAc/d,GAAM,WACAJ,GAARE,KAAKkN,EAAW,IAKxB,OAJAlN,KAAKgP,MAAQhb,OAAOmG,KAAK6F,KAAKgP,MACVxY,SACG,SAAA0J,GAAG,OAAMJ,EAAOI,GAAQ,EAAK8O,KAAM9O,GAAM2d,WAAa,EAAK7O,KAAM9O,GAAMuP,aAEvF3P,G,EAGXoe,aAAA,SAAc3T,QAAmB,IAAnBA,MAAO,WACTvK,KAAKkN,EACb,OAAOlN,KAAKgP,KAAMzE,GACTvK,KAAKgP,KAAMzE,GAAOsT,WAAa7d,KAAKgP,KAAMzE,GAAOkF,UACjD,G,EAWb0O,SAAA,SAAUC,EAAQC,EAAQne,EAAiBoe,GAAO,oBAAhCD,MAAK,QAA2B,IAAxBne,MAAM,WAC5B,IAAIgN,EAAIlN,KAAKkN,EACb,OAAO,IAAIgQ,SACL,SAAEC,EAASoB,GACT,GAAK,EAAKvP,MAAQ,EAAKA,KAAM9O,GAAQ,CACjC,IAAIse,EAAS,EAAKxP,KAAM9O,GAAM2d,UAC1BrG,EAAS,SAAA3U,GAAO,gBAGZA,KAAyC,IAANA,GAAkB,IACrD,EAAKmM,KAAM9O,GAAM2d,UAAY,EAAK7O,KAAM9O,GAAMuP,UAAY5M,EAE1D,YAAKmM,YAAL,mBAAa9O,UAAb,mBAAoBS,eAApB,SAA6B6W,OAAO3U,KAE7BA,IAAQ2b,IACX,UAAAtR,EAAE0N,eAAF,mBAAWvN,eAAX,mBAAoBoR,0BAApB,kBAA2C5b,EAAK3C,IACpD,EAAK4b,oBAGbsC,EAAS5f,KAAKE,IAAI,EAAG0f,GACrBA,EAAS5f,KAAKC,IAAI2f,EAAQ,EAAKpP,KAAM9O,GAAM2P,gBAAkB,GAE7D,EAAKb,KAAM9O,GAAM2d,UAAYO,EAEvBC,EAQF,EAAKK,eAAexe,EAAKke,EAAQC,EAAI9I,EAAU+I,GAAQ9G,EAAQ2F,IAP/D,EAAKnO,KAAM9O,GAAMgD,UAAU1M,SACvB,SAAAwmB,GAAE,OAAIA,EAAG2B,KAAKP,EAAQlR,EAAE+N,iBAE5BzD,EAAO4G,GACPjB,KAMEjQ,EAAEoQ,OACJpQ,EAAEoQ,MAAO,EACT9C,sBAAsBtN,EAAEyN,eAG/BmC,MACL,SAAA1nB,GAAK,UACD,YAAK4Z,YAAL,mBAAa9O,UAAb,mBAAoBS,eAApB,SAA6B+V,yB,EAYzClV,kBAAA,SAAmBqb,EAAM3c,EAAiBU,GAAO,sBAAxBV,MAAM,WAC3B,IAAI8c,EACA9P,EAAWlN,KAAKkN,EAChBtR,EAAW,GACXgiB,EAAW5d,KAAK+d,SAAS7d,GA2C7B,OAzCKyZ,GAAQkD,GACTG,EAAKH,GAGLG,EAAOH,EAAK7a,MACL6a,EAAKnmB,QAIRsmB,aAAc9Z,KAClB8Z,EAAKnJ,GAAUmJ,EAAIphB,EAAUoE,KAAKkN,EAAEqO,gBAAiBvb,KAAKkN,EAAEwN,cAE5DsC,EAAc,IAAI9Z,GAAU8Z,EAAI9P,EAAE+N,eAC/Brf,SAAWA,EAEd5H,OAAOmG,KAAKyB,GACLpF,SACG,SAAAkM,GACIwK,EAAEmO,eAAgB3Y,GAAOwK,EAAEmO,eAAgB3Y,IAAQ,GAEnDwK,EAAE+N,aAAcvY,GAAOwK,EAAE+N,aAAcvY,IAAQ,GAC/C1O,OAAOooB,OAAO,EAAKlP,EAAE+N,aAAcvY,GAAnC,SACO9G,EAAU8G,IACV,EAAKwK,EAAE+N,aAAcvY,SAQ9Ckb,EAAI1a,UAAUxH,KAAKshB,GACnBY,EAAInO,UAAiBmO,EAAInO,WAAa,EACtCmO,EAAI/N,eAAiB+N,EAAI/N,gBAAkB,EAC3C+N,EAAI/N,eAAiBrR,KAAKE,IAAIkf,EAAI/N,eAAgBmN,EAAG5L,UAE/CwM,EAAIxc,kBACN,UAAAwc,EAAIjd,eAAJ,SAAa2X,UAAU,EAAGsF,EAAI/N,gBAElCmN,EAAG2B,KAAKf,EAAInO,UAAWzP,KAAKkN,EAAE+N,cAC9Bjb,KAAK8b,mBACEkB,G,EAQX5c,iBAAA,SAAkB4c,EAAI9c,QAAkB,IAAlBA,MAAM,WACxB,IAAkB0e,EAGF,EAHZ1R,EAAMlN,KAAKkN,EACX0Q,EAAM5d,KAAK+d,SAAS7d,GACpB5M,EAAMsqB,EAAI1a,UAAU/G,QAAQ6gB,IACpB,IAAP1pB,IAGDsqB,EAAI1a,UAAU8E,OAAO1U,EAAG,GACxBsqB,EAAI/N,eAAiBrR,KAAKE,IAAL,MAAAF,KAAYof,EAAI1a,UAAU3K,KAAI,SAAAsmB,GAAE,OAAIA,EAAGzN,YAAlC,OAAD,CAA8C,KACjEwM,EAAIxc,kBACN,UAAAwc,EAAIjd,eAAJ,SAAa2X,UAAU,EAAGsF,EAAI/N,gBAAkB,GAEpDmN,EAAG2B,KAAK,EAAG3e,KAAKkN,EAAE+N,cAGlBjnB,OAAOmG,KAAK6iB,EAAGphB,UACRpF,SACG,SAAAkM,GACI1O,OAAOmG,KAAK6iB,EAAGphB,SAAU8G,IAClBlM,SACG,SAAA6mB,GAEIhK,GAAoBgK,EAAMA,EAAMnQ,EAAE+N,aAAcvY,GAAMwK,EAAE6N,YAAarY,GAAMwK,EAAEqO,gBAAiB7Y,GAAMwK,EAAEwN,YAAahY;cAOxIsa,EAAGphB,SACVohB,EAAGtI,UACHkK,GAAQ,EACR5e,KAAK8b,qBAER8C,GAASxkB,QAAQ8D,KAAK,0B,EAc3BwgB,eAAA,SAAgBxe,EAAK4e,EAAIjH,EAAIkH,EAAiBC,EAAMhF,GAAK,oBAA5B+E,MAAS,SAAAjkB,GAAC,OAAIA,IACvC,IAAIqW,EAASnR,KAAKgP,KAAM9O,GAAMuP,UAC1B/Y,EAASooB,EAAK3N,EAElByI,GAASle,KACL,CACI+V,MAAU,SAAE5O,EAAKnE,GACb,IAAI5D,EAAMqW,EAAS4N,EAAOlc,EAAMnE,GAAShI,EACpC,EAAKwW,EAAEkO,eAER,EAAKpM,KAAM9O,GAAMgD,UAAU1M,SACvB,SAAAwmB,GAAE,OAAIA,EAAG2B,KAAK7jB,EAAG,EAAKoS,EAAE+N,iBAE5B+D,GAAQA,EAAKlkB,KAGrBsW,SAAUyG,EACVkC,KAAU,EACVC,OAIFT,KACFA,IAAS,EACTC,GAAS3K,KAAKC,MAEdmL,WAAWJ,GAAc,M,EASjClM,mBAAA,SAAoB/F,GAAO,WACnBgG,EAAaJ,EAAS3B,iBAAiBjE,GAAOsF,EAAIlN,KAAKkN,EAO3D,OANAU,EAAiBV,EAAE0N,SACF1N,EAAE0N,QAAQvN,SACVH,EAAE0N,QAAQvN,QAAQ4R,uBAClB/R,EAAE0N,QAAQvN,QAAQ4R,sBAAsBrR,IACrCA,GAEFrV,KACd,SAAAmK,GAAE,OAAM1G,IAAGC,OAAOyG,GACR,EAAKwK,EAAEW,KAAMnL,IAAQoL,IAASC,YAAY,EAAKb,EAAEW,KAAMnL,KAAS,EAAKmL,KAAMnL,IAAQoC,SAASkJ,eAAetL,GAC3GA,M,EAOlBqN,sBAAA,WAAwB,MAChB7C,EAAIlN,KAAKkN,EACb,QAAOA,EAAE0N,SACF1N,EAAE0N,QAAQvN,SACVH,EAAE0N,QAAQvN,QAAQ0C,yBAClB,EAAA7C,EAAE0N,QAAQvN,SAAQ0C,sBAAlB,QAA2C0E,Y,EAYtD7E,aAAA,SAAcgO,EAAK1d,GAAM,iBACjBpF,EAAI8iB,EAAIjd,QAAQgW,SAAUzJ,EAAIlN,KAAKkN,EAEvClN,KAAKgP,KAAM9O,GAAMgD,UAAU1M,SACvB,SAAAwmB,GACI,EAAKhO,KAAM9O,GAAM2d,UAAY,EAAK7O,KAAM9O,GAAMuP,UAAY3U,EAC1DkiB,EAAG2B,KAAK7jB,EAAG,EAAKoS,EAAE+N,iBAK1B,UAAA/N,EAAE0N,eAAF,mBAAWvN,eAAX,mBAAoBoR,0BAApB,gBAAyC3jB,EAAGoF,GAC5CF,KAAK8b,mBACA8B,EAAIjd,QAAQqV,QAAU4H,EAAIjd,QAAQkY,QACnC+E,EAAIjO,aAAesK,WAAWja,KAAK4P,aAAa9a,KAAKkL,KAAM4d,EAAK1d,GAAM,IAGtE0d,EAAIjO,aAAe,M,EAS3BuP,gBAAA,WAAkB,WACElJ,GAARhW,KAAKkN,GAAY,GAMzB,OALAlN,KAAKgP,MACLhb,OAAOmG,KAAK6F,KAAKgP,MACVxY,SACG,SAAA0J,GAAG,OAAM8V,EAASA,GAAU,EAAKhH,KAAM9O,IAAS,EAAK8O,KAAM9O,GAAMS,QAAQqV,UAE5EA,G,EAGXmJ,eAAA,SAAgBjI,EAAOhX,QAAkB,IAAlBA,MAAM,WACzB,IACI0d,EAAS5d,KAAKgP,KAAM9O,GACpBse,EAASZ,GAAOA,EAAInO,UAGnBmO,GAAOY,IAFCA,EAAStH,IAIlB0G,EAAIjd,QAAQiX,SAASV,EAAO,MAC3B0G,EAAIjO,cAAgB3P,KAAK4P,aAAagO,EAAK1d,K,EAOpDkf,UAAA,SAAW7U,EAAM1U,EAAGuZ,GACNpP,KAAKkN,EAAf,IACI0Q,EAAM5d,KAAKgP,MAAQhP,KAAKgP,KAAMzE,GAC9B1H,EAAMuM,EAAMvZ,EAAI+nB,GAASA,EAAInO,UAAY5Z,EAI7C,OAFAgN,EAAMA,GAAOrE,KAAKmX,MAAM9S,IAEhB+a,IAEGA,EAAIxc,iBAEFyB,GAAO+a,EAAIxc,iBAAiB3C,KAAOoE,GAAO+a,EAAIxc,iBAAiB1C,IAE/DmE,GAAO,GAAKA,GAAO+a,EAAI/N,iB,EAIxCwP,YAAA,SAAappB,EAAQqpB,EAAIC,EAAI1G,GACzB,IAAIlW,EACA6c,EAGAlsB,EAFAmsB,EAAaxpB,EASjB,IAFAupB,EAAQxf,KAAK2N,mBAAmB8R,GAE1BnsB,EAAI,EAAGA,EAAIksB,EAAM9oB,OAAQpD,IAAM,CAEjC,GAAKksB,EAAOlsB,GAAIyb,YAINyQ,EAAOlsB,GAAI8rB,UAAU,UAAWE,IAAUE,EAAOlsB,GAAIyc,wBAAyByP,EAAOlsB,GAAIyc,sBAAsB,UAAWuP,KAC5HE,EAAOlsB,GAAI6rB,eAAeG,EAAI,UAAWzG,GACzCyG,EAAK,GAEHE,EAAOlsB,GAAI8rB,UAAU,UAAWG,IAAUC,EAAOlsB,GAAIyc,wBAAyByP,EAAOlsB,GAAIyc,sBAAsB,UAAWwP,KAC5HC,EAAOlsB,GAAI6rB,eAAeI,EAAI,UAAW1G,GACzC0G,EAAK,QAIR,GAAKvjB,IAAGkM,QAAQsX,EAAOlsB,MACxBqP,EAAQ+c,iBAAiBF,EAAOlsB,GAAK,MAChC,gBAAgBwF,KACjB6J,EAAMgd,iBAAiB,YACrBhd,EAAMgd,iBAAiB,cACvBhd,EAAMgd,iBAAiB,iBAInBJ,EAAK,GAA8B,IAAzBC,EAAOlsB,GAAIinB,WAErBgF,EAAK,GAAKC,EAAOlsB,GAAIinB,YAAgBiF,EAAOlsB,GAAIssB,aAAeJ,EAAOlsB,GAAIusB,eAE5E,OAcZ,IAAMP,IAAOC,EACT,MAGR,GADAvf,KAAKiP,sBACCqQ,IAAOC,EACT,OAAO,G,EAGfO,qBAAA,SAAsBlY,GAClB,IAAIsF,EAAIlN,KAAKkN,EACT5Z,EAAI4Z,EAAEiN,cAAc4F,WAAU,SAAA7O,GAAI,OAAMA,EAAKjb,SAAW2R,KAgB5D,OAfY,IAAPtU,IACD4Z,EAAEiN,cAAcze,KACZ,CACIiF,QAAS,CACL7F,EAAG,IAAI8a,GAAQ,CAAElX,IAAKkJ,EAAKoY,YAAcpY,EAAK0B,WAC3B/U,MAAOqT,EAAK0S,aAE/Bvf,EAAG,IAAI6a,GAAQ,CAAElX,IAAKkJ,EAAKgY,aAAehY,EAAKuB,aAC5B5U,MAAOqT,EAAK2S,aAGnCtkB,OAAS2R,IAEjBtU,EAAI4Z,EAAEiN,cAAczjB,OAAS,GAE1BwW,EAAEiN,cAAe7mB,GAAIqN,S,EAmChC8B,WAAA,SAAYC,GACR1C,KAAKkN,EAAE0N,QAAUlY,G,EAGrBmZ,WAAA,WACI,IAAIjU,EAAO5H,KAAK2c,cACX/U,IACD5H,KAAKkN,EAAEtS,IAAIqlB,QAAS,EACpBjgB,KAAKkN,EAAEtS,IAAIE,EAAS8M,EAAKsB,YACzBlJ,KAAKkN,EAAEtS,IAAIG,EAAS6M,EAAKuB,e,EAIjCwR,SAAA,WACI3a,KAAK8b,mBACA9b,KAAKkN,EAAEwO,aAAahlB,OACrB8jB,sBAAsBxa,KAAKkN,EAAEyN,UAI7B3a,KAAKkN,EAAEoQ,MAAO,G,EAItBxB,iBAAA,WACI,GAAK9b,KAAKkN,EAAEkO,aACR,IAAM,IAAWnlB,EAAP3C,EAAI,EAAwBA,EAAI0M,KAAKkN,EAAEuO,gBAAgB/kB,OAAQpD,IACrE2C,EAAS+J,KAAKkN,EAAEuO,gBAAiBnoB,GACxB0M,KAAK8D,gBAAgB7N,I,EAO1C6N,gBAAA,SAAiB7N,EAAQiqB,GACrB,IAAItY,EAAMuY,EAAOngB,KAAKya,MAItB,GAHAza,KAAKkN,EAAE6N,YAAa9kB,IACpBsd,GAASvT,KAAKkN,EAAE+N,aAAchlB,GAAUkqB,EAAMngB,KAAKkN,EAAEwN,YAAazkB,GAAU+J,KAAKkN,EAAEqO,gBAAiBtlB,GAAU+J,KAAKkN,EAAEtS,KACrHgN,EAAO5H,KAAK0c,gBAAgBzmB,GAChB,CACR,IAAM,IAAIlC,KAAKiM,KAAKkN,EAAE6N,YAAa9kB,QACZmC,IAAd+nB,EAAMpsB,KACP6T,EAAKjF,MAAO5O,GAAMiM,KAAKkN,EAAE6N,YAAa9kB,GAAUlC,IAIxD,IAAM,IAAIA,KAAKosB,EACNngB,KAAKkN,EAAE6N,YAAa9kB,GAASd,eAAepB,MACxCmsB,GAASC,EAAMpsB,KAAQiM,KAAKkN,EAAE6N,YAAa9kB,GAAUlC,MAEtD6T,EAAKjF,MAAO5O,GAAMiM,KAAKkN,EAAE6N,YAAa9kB,GAAUlC,GAAMosB,EAAMpsB,IAG1C,UAEfosB,EAAMpsB,IAKzB,OAAOiM,KAAKkN,EAAE6N,YAAa9kB,I,EAS/B8J,qBAAA,WAAuB,WACRC,KAAK2c,cACX3c,KAAKkN,EAAEkO,eACRpb,KAAKkN,EAAEkO,cAAe,EACtBzW,OAAOgE,oBAAoB,SAAU3I,KAAKkN,EAAE0O,UAE5C5nB,OAAOmG,KAAK6F,KAAKgP,MAAMxY,SACnB,SAAA0J,GACI,EAAK8O,KAAM9O,GAAMyP,cACjByQ,aAAa,EAAKpR,KAAM9O,GAAMyP,kBAI1C,YAAM5P,sBAAN,YAAoCA,qBAApC,WAA4D0U,Y,EAGhEhH,kBAAA,WAAoB,WACZ4S,EAAUrgB,KAAKqM,YAEnBrM,KAAKkN,EAAEoT,UAAW,EACbtgB,KAAKkN,EAAEkO,eAERpb,KAAK6b,aACL7b,KAAK8b,oBAEJuE,EAAQE,iBACJvkB,IAAGO,MAAM8jB,EAAQE,gBAClBvgB,KAAKwB,kBAAkB6e,EAAQE,gBAE/BvsB,OAAOmG,KAAKkmB,EAAQE,gBACb/pB,SACG,SAAA0J,GAAG,OAAI,EAAKsB,kBAAkB6e,EAAQE,eAAgBrgB,GAAOA,OAO/E,YAAMuN,mBAAN,YAAiCA,kBAAjC,WAAsDgH,Y,EAG1D+L,mBAAA,SAAoBC,EAAWC,GAEtB1gB,KAAKkN,EAAEkO,eACRpb,KAAK6b,aACL7b,KAAK8b,oBAET,YAAM0E,oBAAN,YAAkCA,mBAAlC,WAAwD/L,Y,EAG5DnU,OAAA,WAAS,aAC6BN,KAAKzK,MAA/BiX,EADH,EACGA,cAAemU,EADlB,EACkBA,OACvB,OAAO,kBAAC,EAAe5f,SAAhB,MAEC,SAAAsC,GAEI,OADA,EAAKud,eAAiBvd,EACf,kBAAC,EAAewd,SAAhB,CAAyBtsB,MAAQ,GACpC,kBAACiY,EAAD,OAAoBmU,EAApB,CAA6B/T,IAAM,EAAKM,EAAE0N,QAC3B5Z,QAAU,U,GA5+BZrB,IAAM+B,W,qkBClE3C,I,GAAM0K,GAAsB,GAAKC,YAOlB,SAASyU,KAAqB,2BAAPvU,EAAO,yBAAPA,EAAO,gBAEzC,IAAIC,IAAmBD,EAAM,IAAOA,EAAM,GAAIrX,qBAAqByK,IAAM+B,WAAa6K,EAAM,KAAQ5M,IAAM+B,YAAe6K,EAAKE,QAC1HyC,IAAmB3C,EAAM,IAAOA,EAAM,aAAeH,KAAuBG,EAAKE,SAAW,GAEhG,IAAMD,EACF,OAAO,SAAWA,GACd,OAAOsU,GAAUtU,EAAe0C,IAIxCA,EAAU,IACN6R,WAAgB,EAChB5R,WAAgB,IAChBE,eAAgB,IACbH,GAIP,IAAInC,EAAkBpN,IAAMqN,YAAW,SAAEzX,EAAOqX,GAC5C,OAAO,kBAAC,GAAD,CAAS+T,OAASprB,EAAQsX,aAAeD,EAChCJ,cAAgBA,EAChBsO,eAAiB5L,OAGrC,OADAnC,EAAQD,YAAckU,OAAOC,aAAa,MAAQ,QAAYzU,EAAcM,aAAeN,EAAc3Y,MAClGkZ,E,ICvBLrL,GADLV,G,6FAEAV,OAAA,WACC,OAAON,KAAKzK,MAAMgL,U,GAFIZ,IAAM+B,a,GAMf,WAACV,WAASkgB,QAAOC,WRRjB,WACd,OAAOxhB,IAAMyhB,WAAW1hB,IQOmB2hB,QAAOpU,YAAWvL,aAAWQ,OAAMof,UAASzhB,OAAM0hB","file":"react-voodoo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n","module.exports = require(\"is\");","module.exports = require(\"react\");","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst props = {\n\t\"margin\"                     : { \"properties\": [\"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\"] },\n\t\"marginBottom\"               : { \"types\": [\"length\"] },\n\t\"marginLeft\"                 : { \"types\": [\"length\"] },\n\t\"marginRight\"                : { \"types\": [\"length\"] },\n\t\"marginTop\"                  : { \"types\": [\"length\"] },\n\t\"padding\"                    : { \"properties\": [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\"] },\n\t\"paddingBottom\"              : { \"types\": [\"length\"] },\n\t\"paddingLeft\"                : { \"types\": [\"length\"] },\n\t\"paddingRight\"               : { \"types\": [\"length\"] },\n\t\"paddingTop\"                 : { \"types\": [\"length\"] },\n\t\"bottom\"                     : { \"types\": [\"length-percentage-calc\"] },\n\t\"left\"                       : { \"types\": [\"length-percentage-calc\"] },\n\t\"right\"                      : { \"types\": [\"length-percentage-calc\"] },\n\t\"top\"                        : { \"types\": [\"length-percentage-calc\"] },\n\t\"zIndex\"                     : { \"types\": [\"integer\"] },\n\t\"width\"                      : { \"types\": [\"length-percentage-calc\"] },\n\t\"maxWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n\t\"minWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n\t\"height\"                     : { \"types\": [\"length-percentage-calc\"] },\n\t\"maxHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"minHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"lineHeight\"                 : { \"types\": [\"number\", \"length\"] },\n\t\"verticalAlign\"              : { \"types\": [\"length\"] },\n\t\"visibility\"                 : { \"types\": [\"visibility\"] },\n\t\"borderSpacing\"              : { \"types\": [\"length\"], \"multiple\": true },\n\t\"color\"                      : { \"types\": [\"color\"] },\n\t\"opacity\"                    : { \"types\": [\"number\"] },\n\t\"background\"                 : { \"properties\": [\"backgroundColor\", \"backgroundPosition\", \"backgroundSize\"] },\n\t\"backgroundColor\"            : { \"types\": [\"color\"] },\n\t\"backgroundPosition\"         : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"backgroundSize\"             : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"border\"                     : { \"properties\": [\"borderColor\", \"borderWidth\"] },\n\t\"borderBottom\"               : { \"properties\": [\"borderBottomColor\", \"borderBottomWidth\"] },\n\t\"borderLeft\"                 : { \"properties\": [\"borderLeftColor\", \"borderLeftWidth\"] },\n\t\"borderRight\"                : { \"properties\": [\"borderRightColor\", \"borderRightWidth\"] },\n\t\"borderTop\"                  : { \"properties\": [\"borderTopColor\", \"borderTopWidth\"] },\n\t\"borderColor\"                : { \"properties\": [\"borderTopColor\", \"borderRightColor\", \"borderBottomColor\", \"borderLeftColor\"] },\n\t\"borderWidth\"                : { \"properties\": [\"borderTopWidth\", \"borderRightWidth\", \"borderBottomWidth\", \"borderLeftWidth\"] },\n\t\"borderBottomColor\"          : { \"types\": [\"color\"] },\n\t\"borderLeftColor\"            : { \"types\": [\"color\"] },\n\t\"borderRightColor\"           : { \"types\": [\"color\"] },\n\t\"borderTopColor\"             : { \"types\": [\"color\"] },\n\t\"borderBottomWidth\"          : { \"types\": [\"length\"] },\n\t\"borderLeftWidth\"            : { \"types\": [\"length\"] },\n\t\"borderRightWidth\"           : { \"types\": [\"length\"] },\n\t\"borderTopWidth\"             : { \"types\": [\"length\"] },\n\t\"borderRadius\"               : { \"properties\": [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomRightRadius\", \"borderBottomLeftRadius\"] },\n\t\"borderTopLeftRadius\"        : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderTopRightRadius\"       : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderBottomRightRadius\"    : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"borderBottomLeftRadius\"     : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"boxShadow\"                  : { \"types\": [\"shadow-list\"] },\n\t\"caretColor\"                 : { \"types\": [\"color\"] },\n\t\"outline\"                    : { \"properties\": [\"outlineColor\", \"outlineWidth\"] },\n\t\"outlineColor\"               : { \"types\": [\"color\"] },\n\t\"outlineWidth\"               : { \"types\": [\"length\"] },\n\t\"outlineOffset\"              : { \"types\": [\"length\"] },\n\t\"flex\"                       : { \"properties\": [\"flexGrow\", \"flexShrink\", \"flexBasis\"] },\n\t\"flexGrow\"                   : { \"types\": [\"number\"] },\n\t\"flexShrink\"                 : { \"types\": [\"number\"] },\n\t\"flexBasis\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"order\"                      : { \"types\": [\"integer\"] },\n\t\"font\"                       : { \"properties\": [\"fontWeight\", \"fontStretch\", \"fontSize\", \"lineHeight\"] },\n\t\"fontWeight\"                 : { \"types\": [\"font-weight\"] },\n\t\"fontStretch\"                : { \"types\": [\"font-stretch\"] },\n\t\"fontSize\"                   : { \"types\": [\"length\"] },\n\t\"fontSizeAdjust\"             : { \"types\": [\"number\"] },\n\t\"gridTemplateColumns\"        : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"gridTemplateRows\"           : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"gridTemplate\"               : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n\t\"grid\"                       : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n\t\"gridRowGap\"                 : { \"types\": [\"length-percentage-calc\"] },\n\t\"gridColumnGap\"              : { \"types\": [\"length-percentage-calc\"] },\n\t\"gridGap\"                    : { \"properties\": [\"gridRowGap\", \"gridColumnGap\"] },\n\t\"clip\"                       : { \"types\": [\"rectangle\"] },\n\t\"clipPath\"                   : { \"types\": [\"basic-shape\"] },\n\t\"mask\"                       : { \"properties\": [\"maskPosition\", \"maskSize\"] },\n\t\"maskPosition\"               : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"maskSize\"                   : { \"types\": [\"length-percentage-calc\"], \"multiple\": true, \"repeatable\": true },\n\t\"shapeOutside\"               : { \"types\": [\"basic-shape\"] },\n\t\"shapeMargin\"                : { \"types\": [\"length-percentage-calc\"] },\n\t\"shapeImageThreshold\"        : { \"types\": [\"number\"] },\n\t\"scrollPadding\"              : { \"properties\": [\"scrollPaddingTop\", \"scrollPaddingRight\", \"scrollPaddingBottom\", \"scrollPaddingLeft\"] },\n\t\"scrollPaddingTop\"           : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingRight\"         : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBottom\"        : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingLeft\"          : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBlock\"         : { \"properties\": [\"scrollPaddingBlockStart\", \"scrollPaddingBlockEnd\"] },\n\t\"scrollPaddingBlockStart\"    : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingBlockEnd\"      : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingInline\"        : { \"properties\": [\"scrollPaddingInlineStart\", \"scrollPaddingInlineEnd\"] },\n\t\"scrollPaddingInlineStart\"   : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollPaddingInlineEnd\"     : { \"types\": [\"length-percentage-calc\"] },\n\t\"scrollSnapMargin\"           : { \"properties\": [\"scrollSnapMarginTop\", \"scrollSnapMarginRight\", \"scrollSnapMarginBottom\", \"scrollSnapMarginLeft\"] },\n\t\"scrollSnapMarginTop\"        : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginRight\"      : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBottom\"     : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginLeft\"       : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBlock\"      : { \"properties\": [\"scrollSnapMarginBlockStart\", \"scrollSnapMarginBlockEnd\"] },\n\t\"scrollSnapMarginBlockStart\" : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginBlockEnd\"   : { \"types\": [\"length\"] },\n\t\"scrollSnapMarginInline\"     : { \"properties\": [\"scrollSnapMarginInlineStart\", \"scrollSnapMarginInlineEnd\"] },\n\t\"scrollSnapMarginInlineStart\": { \"types\": [\"length\"] },\n\t\"scrollSnapMarginInlineEnd\"  : { \"types\": [\"length\"] },\n\t\"textDecoration\"             : { \"properties\": [\"textDecorationColor\"] },\n\t\"textDecorationColor\"        : { \"types\": [\"color\"] },\n\t\"textEmphasis\"               : { \"properties\": [\"textEmphasisColor\"] },\n\t\"textEmphasisColor\"          : { \"types\": [\"color\"] },\n\t\"textShadow\"                 : { \"types\": [\"shadow-list\"] },\n\t\"columns\"                    : { \"properties\": [\"columnWidth\", \"columnCount\"] },\n\t\"columnWidth\"                : { \"types\": [\"length\"] },\n\t\"columnCount\"                : { \"types\": [\"integer\"] },\n\t\"columnGap\"                  : { \"types\": [\"length-percentage-calc\"] },\n\t\"columnRule\"                 : { \"properties\": [\"columnRuleColor\", \"columnRuleWidth\"] },\n\t\"columnRuleColor\"            : { \"types\": [\"color\"] },\n\t\"columnRuleWidth\"            : { \"types\": [\"length\"] },\n\t\"letterSpacing\"              : { \"types\": [\"length\"] },\n\t\"tabSize\"                    : { \"types\": [\"length\"] },\n\t\"textIndent\"                 : { \"types\": [\"length-percentage-calc\"] },\n\t\"wordSpacing\"                : { \"types\": [\"length-percentage-calc\"] },\n\t\"transform\"                  : { \"types\": [\"transform\"] },\n\t\"transformOrigin\"            : { \"types\": [\"length-percentage-calc\"], \"multiple\": true },\n\t\"perspective\"                : { \"types\": [\"length\"] },\n\t\"perspectiveOrigin\"          : { \"types\": [\"length-percentage-calc\"], \"multiple\": true }\n}\n\n//\n///**\n// * List of animatable types used by properties, with descriptions of how to interpolate each type.\n// * Data taken from https://www.w3.org/TR/css3-transitions/#animatable-types and some other W3C specs.\n// *\n// * @type {Object}\n// */\n//exports.types = {\n//\t'color'                 : {\n//\t\tname: 'color',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-color'\n//\t},\n//\t'length'                : {\n//\t\tname: 'length',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-length'\n//\t},\n//\t'percentage'            : {\n//\t\tname: 'percentage',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-percentage'\n//\t},\n//\t'length-percentage-calc': {\n//\t\tname: 'length, percentage, or calc',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-lpcalc'\n//\t},\n//\t'integer'               : {\n//\t\tname: 'integer',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-integer'\n//\t},\n//\t'font-weight'           : {\n//\t\tname: 'font weight',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-font-weight'\n//\t},\n//\t'number'                : {\n//\t\tname: 'number',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-number'\n//\t},\n//\t'rectangle'             : {\n//\t\tname: 'rectangle',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-rect'\n//\t},\n//\t'visibility'            : {\n//\t\tname: 'visibility',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-visibility'\n//\t},\n//\t'shadow-list'           : {\n//\t\tname: 'shadow list',\n//\t\thref: 'https://www.w3.org/TR/css3-transitions/#animtype-shadow-list'\n//\t},\n//\t// Other specs\n//\t'transform'             : {\n//\t\tname: 'transform',\n//\t\thref: 'https://www.w3.org/TR/css3-transforms/#interpolation-of-transforms'\n//\t},\n//\t'font-stretch'          : {\n//\t\tname: 'font stretch',\n//\t\thref: 'https://www.w3.org/TR/css3-fonts/#font-stretch-animation'\n//\t},\n//\t'basic-shape'           : {\n//\t\tname: 'basic shape',\n//\t\thref: 'https://www.w3.org/TR/css-shapes-1/#basic-shape-interpolation'\n//\t},\n//};\n//\n\nexport const units    = ['', 'deg', 'box', 'bz', 'bh', 'bw', 'deg', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'];\nexport const unitsRe  = new RegExp(\n\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t['\\\\w+', 'deg', 'bz', 'bh', 'bw', 'cap', 'ch', 'deg', 'em', 'ic', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t+ \")\"\n);\nexport const floatCut = ( v = 0 ) => Number(v.toFixed(3));\n\nexport function expandShorthandProperty( property, value, target = {} ) {\n\tlet type       = props[property],\n\t    childProps = type && type.properties,\n\t    values     = value.split(' ');\n\t\n\tif ( type.multiple )\n\t\tchildProps && childProps.forEach(\n\t\t\t( k, i ) => {\n\t\t\t\ttarget[k] = values[i % values.length];\n\t\t\t}\n\t\t)\n\telse\n\t\tchildProps && childProps.forEach(\n\t\t\t( k, i ) => {\n\t\t\t\tif ( values[i] )\n\t\t\t\t\ttarget[k] = values[i];\n\t\t\t}\n\t\t)\n\treturn target;\n};\n\nexport function isShorthandProperty( property ) {\n\tlet type       = props[property],\n\t    childProps = type && type.properties;\n\treturn childProps && !!childProps.length;\n};\n\n\nexport function isValidDeclaration( property, value ) {\n\treturn !!props[property];\n};\n\n/**\n * Check if a CSS property can be animated\n * @param  {string} property CSS property name\n * @return {boolean}         True if the property can be animated\n */\nexport function canAnimate( property ) {\n\treturn props.hasOwnProperty(property);\n};\n\n/**\n * Get a definition of how a CSS property can be animated\n * @param  {string} property CSS property name\n * @param  {boolean} expand  Expand definitions for sub-properties, when available\n * @return {object}          Property definition, or null if it can't be animated\n */\nexport function getProperty( property, expand ) {\n\tif ( !exports.canAnimate(property) ) {\n\t\treturn null;\n\t}\n\tvar prop = props[property];\n\tvar ret  = { name: property };\n\tObject.keys(prop).forEach(function ( key ) {\n\t\tvar value = prop[key];\n\t\tif ( Array.isArray(value) ) {\n\t\t\tif ( key === 'properties' && expand ) {\n\t\t\t\tvalue = value.map(function ( subProp ) {\n\t\t\t\t\treturn exports.getProperty(subProp, expand);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvalue = value.slice(); // clone\n\t\t\t}\n\t\t}\n\t\tret[key] = value;\n\t});\n\treturn ret;\n};\n","/* This is a virtual file generated by layer-pack */\nlet req, _exports = {}, walknSetExport=require('layer-pack/etc/utils/indexUtils.js').walknSetExport;\nconst _react_voodoo_utils_css_demux_typed_int_js = require(\"react-voodoo/utils/css/demux/typed/int.js\");\nwalknSetExport(_exports, \"int\", _react_voodoo_utils_css_demux_typed_int_js);\nconst _react_voodoo_utils_css_demux_typed_bool_js = require(\"react-voodoo/utils/css/demux/typed/bool.js\");\nwalknSetExport(_exports, \"bool\", _react_voodoo_utils_css_demux_typed_bool_js);\nconst _react_voodoo_utils_css_demux_typed_color_js = require(\"react-voodoo/utils/css/demux/typed/color.js\");\nwalknSetExport(_exports, \"color\", _react_voodoo_utils_css_demux_typed_color_js);\nconst _react_voodoo_utils_css_demux_typed_multi_js = require(\"react-voodoo/utils/css/demux/typed/multi.js\");\nwalknSetExport(_exports, \"multi\", _react_voodoo_utils_css_demux_typed_multi_js);\nconst _react_voodoo_utils_css_demux_typed_ratio_js = require(\"react-voodoo/utils/css/demux/typed/ratio.js\");\nwalknSetExport(_exports, \"ratio\", _react_voodoo_utils_css_demux_typed_ratio_js);\nconst _react_voodoo_utils_css_demux_typed_number_js = require(\"react-voodoo/utils/css/demux/typed/number.js\");\nwalknSetExport(_exports, \"number\", _react_voodoo_utils_css_demux_typed_number_js);\nconst _react_voodoo_utils_css_demux_typed_shadow_js = require(\"react-voodoo/utils/css/demux/typed/shadow.js\");\nwalknSetExport(_exports, \"shadow\", _react_voodoo_utils_css_demux_typed_shadow_js);\n\nexport const bool = _exports.bool;\n\nexport const color = _exports.color;\n\nexport const int = _exports.int;\n\nexport const multi = _exports.multi;\n\nexport const number = _exports.number;\n\nexport const ratio = _exports.ratio;\n\nexport const shadow = _exports.shadow;\nexport default _exports;","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/inheritsLoose\");","module.exports = require(\"prop-types\");","module.exports = require(\"fast-deep-equal\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"react-dom\");","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../../cssUtils\";\nimport {bool, color}              from \"./(*).js\";\n\n\nconst cssShadowParser = (() => {\n\tconst VALUES_REG = /,(?![^\\(]*\\))/\n\tconst PARTS_REG  = /\\s(?![^(]*\\))/\n\tconst LENGTH_REG = /^[0-9]+[a-zA-Z%]+?$/\n\t\n\tconst parseValue = str => {\n\t\tconst parts = str.split(PARTS_REG)\n\t\tconst inset = parts.includes('inset')\n\t\tconst last  = parts.slice(-1)[0]\n\t\tconst color = !isLength(last) ? last : undefined\n\t\t\n\t\tconst nums                                         = parts\n\t\t\t.filter(n => n !== 'inset')\n\t\t\t.filter(n => n !== color)\n\t\t\t.map(toNum)\n\t\tconst [offsetX, offsetY, blurRadius, spreadRadius] = nums\n\t\t\n\t\treturn {\n\t\t\tinset,\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\tblurRadius,\n\t\t\tspreadRadius,\n\t\t\tcolor\n\t\t}\n\t}\n\t\n\tconst stringifyValue = obj => {\n\t\tconst {\n\t\t\t      inset,\n\t\t\t      offsetX    = 0,\n\t\t\t      offsetY    = 0,\n\t\t\t      blurRadius = 0,\n\t\t\t      spreadRadius,\n\t\t\t      color\n\t\t      } = obj || {}\n\t\t\n\t\treturn [\n\t\t\t(inset ? 'inset' : null),\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\tblurRadius,\n\t\t\tspreadRadius,\n\t\t\tcolor\n\t\t].filter(v => v !== null && v !== undefined)\n\t\t .map(toPx)\n\t\t .map(s => ('' + s).trim())\n\t\t .join(' ')\n\t}\n\t\n\tconst isLength = v => v === '0' || LENGTH_REG.test(v)\n\tconst toNum    = v => {\n\t\tif ( !/px$/.test(v) && v !== '0' ) return v\n\t\tconst n = parseFloat(v)\n\t\treturn !isNaN(n) ? n : v\n\t}\n\tconst toPx     = n => typeof n === 'number' && n !== 0 ? (n + 'px') : n\n\t\n\tconst parse     = str => str.split(VALUES_REG).map(s => s.trim()).map(parseValue)\n\tconst stringify = arr => arr.map(stringifyValue).join(', ')\n\t\n\treturn {\n\t\tparse,\n\t\tstringify\n\t}\n})()\n\n\nconst defaultUnits  = {\n\t      perspective: 'px',\n      },\n      defaultBox    = {\n\t      translateX: 'x',\n      },\n      defaultMuxers = {\n\t      //blurRadius  : number,\n\t      inset: bool,\n\t      //offsetX     : number,\n\t      //offsetY     : number,\n\t      //spreadRadius: number,\n\t      color: color\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tif ( path.length > 2 ) {\n\t\t// dec count on transform\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\tif ( defaultMuxers[path[2]] ) {\n\t\t\tdefaultMuxers[path[2]].release(twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues)\n\t\t\tif ( !dataMap[tmpKey] ) {\n\t\t\t\t//console.log(\"dec\", tmpKey, dataMap[path[0]][path[1]][path[2]])\n\t\t\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\t\tdelete dataMap[path[0]];\n\t\t\t\tdelete muxerMap[path[0]];\n\t\t\t\tdelete cssMap[path[0]];\n\t\t\t\t//console.log(\"delete color\", twKey)\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//console.log(\"dec\", twKey, dataMap[path[0]])\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t//if ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t//\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\t// free transform layers\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\t//tmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t// units\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\t//dataMap[path[0]][path[3]] = undefined;\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//console.log(\"delete\", tmpKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[tmpKey].length === 0 && !keepValues )\n\t\t\tdelete dataMap[tmpKey];\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !Object.keys(dataMap[path[0]][dataMap[path[0]].length - 1]).length )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t\t//console.log(\"delete\", path[0])\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitIndex, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitIndex] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t//console.log(key)\n\tlet shadows                                                         = [],\n\t    tmpValue                                                        = {};\n\tlet ti = 0, shadowMap, fkey, unitKey, unitIndex, dkey, u, iValue, y = 0, value;\n\tfor ( ; ti < data[key].length; ti++ ) {\n\t\tshadowMap = data[key][ti];\n\t\ttmpValue  = {};\n\t\tfor ( fkey in shadowMap )\n\t\t\tif ( shadowMap.hasOwnProperty(fkey) ) {\n\t\t\t\tdkey = key + '_' + ti + '_' + fkey;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif ( defaultMuxers[fkey] ) {\n\t\t\t\t\tvalue = defaultMuxers[fkey].demux(dkey, tweenable, undefined, data, box);\n\t\t\t\t\t//continue;\n\t\t\t\t\t//console.log(dkey, tweenable[dkey])\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t\ty     = 0;\n\t\t\t\t\tfor ( unitIndex = 0; unitIndex < data[dkey].length; unitIndex++ )\n\t\t\t\t\t\tif ( data[dkey][unitIndex] ) {\n\t\t\t\t\t\t\tunitKey = dkey + \"_\" + unitIndex;\n\t\t\t\t\t\t\tiValue  = demuxOne(unitIndex, dkey, tweenable[unitKey], fkey, data, box);\n\t\t\t\t\t\t\tif ( y && iValue[0] === '-' )\n\t\t\t\t\t\t\t\tiValue = \" - \" + iValue.substr(1);\n\t\t\t\t\t\t\telse if ( y )\n\t\t\t\t\t\t\t\tiValue = \" + \" + iValue;\n\t\t\t\t\t\t\tvalue += iValue;\n\t\t\t\t\t\t\ty++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ( y > 1 )\n\t\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\ttmpValue[fkey] = (value || 0);\n\t\t\t}\n\t\tshadows.push(tmpValue);\n\t}\n\t\n\ttarget[key] = cssShadowParser.stringify(shadows);\n\t//console.log(key, shadows, target[key]);\n\t\n}\n\nexport function muxOne( key, baseKey, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[baseKey] || \"px\",\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', data[key][unitKey], value, noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\t//console.warn(key, ':', data[key][unitKey], value, noPropLock)\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\nexport const mux = ( key, value, target, data, initials, noPropLock, reOrder ) => {\n\t\n\tdata[key] = data[key] || [];\n\t//initials[key] = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\tlet ti = 0, shadowMap, tFnKey, baseData, fValue, dkey, u, seenUnits;\n\tfor ( ; ti < value.length; ti++ ) {\n\t\tshadowMap = value[ti];\n\t\tif ( is.string(shadowMap) )\n\t\t\tshadowMap = cssShadowParser.parse(shadowMap)[0];\n\t\tbaseData = reOrder ? {} : { ...(data[key][ti] || {}) };\n\t\tfor ( tFnKey in shadowMap ) {\n\t\t\tif ( shadowMap.hasOwnProperty(tFnKey) ) {\n\t\t\t\tfValue = shadowMap[tFnKey];\n\t\t\t\tdkey   = key + '_' + ti + '_' + tFnKey;\n\t\t\t\t\n\t\t\t\tbaseData[tFnKey] = baseData[tFnKey] || data[key][ti] && data[key][ti][tFnKey] || 0;\n\t\t\t\t!noPropLock && baseData[tFnKey]++;\n\t\t\t\tif ( defaultMuxers[tFnKey] ) {\n\t\t\t\t\tdefaultMuxers[tFnKey].mux(dkey, fValue, target, data, initials, noPropLock, reOrder);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t\n\t\t\t\t\tseenUnits = {};\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tdata[dkey] = data[dkey] || [];\n\t\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\t\tfor ( u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue[u] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue || 0, target, data, initials, noPropLock)\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdata[key][ti] =\n\t\t\treOrder\n\t\t\t? { ...baseData, ...(data[key][ti] || {}), ...baseData }\n\t\t\t:\n\t\t\tbaseData;\n\t\t//console.log(key, reOrder, data[key][ti], baseData)\n\t}\n\treturn demux;\n}","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../../cssUtils\";\n\nconst defaultUnits    = {\n\t      left       : 'px',\n\t      right      : 'px',\n\t      top        : 'px',\n\t      bottom     : 'px',\n\t      width      : 'px',\n\t      height     : 'px',\n\t      perspective: 'px',\n      },\n      defaultBox      = {\n\t      left  : 'x',\n\t      right : 'x',\n\t      top   : 'y',\n\t      bottom: 'y',\n\t      width : 'x',\n\t      height: 'y',\n      }, defaultValue = {\n\t      opacity: 0\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\t\n\tif ( path.length === 2 ) {\n\t\t//console.log(\"dec\", twKey, dataMap[path[0]][path[1]], keepValues)\n\t\tif ( !--dataMap[path[0]][path[1]] && !keepValues ) {\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//dataMap[path[0]][path[1]] = undefined;\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tif ( cssMap ) delete cssMap[path[0]];\n\t\t\t//console.log(\"delete\", path[0])\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitKey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitKey] || defaultUnits[baseKey] || \"px\";\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t\t\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box, baseKey ) {\n\tlet value, i = 0, y, rKey;\n\t\n\tvalue = \"\";\n\t\n\t//if ( key==\"height\" )\n\t//\tdebugger;\n\t\n\tfor ( y = 0; y < data[key].length; y++ )\n\t\tif ( data[key][y] ) {\n\t\t\trKey = key + \"_\" + y;\n\t\t\tif ( tweenable[rKey] < 0 )\n\t\t\t\tvalue += (i ? \" - \" : \"-\") + demuxOne(y, -tweenable[rKey], baseKey || key, data, box);\n\t\t\telse\n\t\t\t\tvalue += (i ? \" + \" : \"\") + demuxOne(y, tweenable[rKey], baseKey || key, data, box);\n\t\t\ti++;\n\t\t}\n\tif ( i > 1 )\n\t\tvalue = \"calc(\" + value + \")\";\n\t\n\t//console.log(key, ':', value)\n\treturn target ? target[key] = value : value;\n}\n\nexport function muxer( key, value, target, data, initials, noPropLock ) {\n\t\n\tdata[key]     = data[key] || [];\n\tlet seenUnits = [];\n\tif ( is.array(value) ) {\n\t\tfor ( let i = 0; i < value.length; i++ ) {\n\t\t\tmuxOne(key, value[i] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t}\n\t}\n\telse {\n\t\tmuxOne(key, value || 0, target, data, initials, noPropLock)\n\t}\n\t\n\treturn demux;\n}\n\nexport function muxOne( key, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[key] || \"px\",\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[key] || 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', data[key][unitKey], value, noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\t//console.warn(key, ':', data[key][unitKey], value, noPropLock)\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\n\nexport const mux = muxer;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport rgba from \"color-rgba\";\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path   = twKey.split('_'),\n\t    tmpKey = path.slice(0, path.length - 1).join('_');\n\t\n\t//console.log(\"dec\", tmpKey, path, dataMap[twKey])\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\t//delete muxerMap[twKey];\n\t\t//delete cssMap[twKey];\n\t\t//console.log(\"delete\", twKey, path)\n\t}\n\tif ( !--dataMap[tmpKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\t//delete muxerMap[twKey];\n\t\t//delete cssMap[twKey];\n\t\t//console.log(\"delete\", tmpKey)\n\t}\n\t//}\n}\n\nexport function demux( key, tweenable, target, data ) {\n\tlet value = \"rgba(\" + tweenable[key + '_r'] + \", \" + tweenable[key + '_g'] + \", \" + tweenable[key + '_b'] + \", \" + tweenable[key + '_a'] + \")\";\n\treturn target ?\n\t       target[key] = value : value;\n}\n\nexport function mux( key, value, target, data, initials, noPropLock ) {\n\tlet vect = rgba(value);\n\t\n\tdata[key]        = data[key] || 0;\n\tdata[key + '_r'] = data[key + '_r'] || 0;\n\tdata[key + '_g'] = data[key + '_g'] || 0;\n\tdata[key + '_b'] = data[key + '_b'] || 0;\n\tdata[key + '_a'] = data[key + '_a'] || 0;\n\tif ( !noPropLock ) {\n\t\tdata[key] += 4;\n\t\tdata[key + '_r']++;\n\t\tdata[key + '_g']++;\n\t\tdata[key + '_b']++;\n\t\tdata[key + '_a']++;\n\t}\n\t\n\ttarget[key + '_r'] = vect[0];\n\ttarget[key + '_g'] = vect[1];\n\ttarget[key + '_b'] = vect[2];\n\ttarget[key + '_a'] = vect[3];\n\t\n\tinitials[key] = 0;\n\t\n\tinitials[key + '_r'] = 0;\n\tinitials[key + '_g'] = 0;\n\tinitials[key + '_b'] = 0;\n\tinitials[key + '_a'] = 1;\n\t\n\treturn demux;\n}\n","module.exports = require(\"d3-ease\");","module.exports = require(\"layer-pack/etc/utils/indexUtils.js\");","module.exports = require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\");","module.exports = require(\"shortid\");","module.exports = require(\"color-rgba\");","module.exports = require(\"tween-axis\");","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is                  from \"is\";\nimport {floatCut, unitsRe} from \"../cssUtils\";\n\nconst\n\tdefaultUnits = {\n\t\tblur      : 'px',\n\t\tbrightness: '%',\n\t\tcontrast  : '%',\n\t\tdropShadow: true,\n\t\tgrayscale : '%',\n\t\thueRotate : 'deg',\n\t\tinvert    : \"%\",\n\t\topacity   : \"%\",\n\t\tsaturate  : \"%\",\n\t\tsepia     : \"%\"\n\t};\nconst filters    = {};\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tconsole.log(\"dec\", twKey, path)\n\tif ( path.length === 4 ) {\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t\n\t\tif ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t//console.warn(\"free\", dataMap, path, tweenableMap[twKey])\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\tdelete tweenableMap[twKey];\n\t\t\tconsole.log(\"delete\", twKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[path[0] + \"_\" + path[1] + \"_\" + path[2]].length === 0 && !keepValues )\n\t\t\tdelete dataMap[path[0] + \"_\" + path[1] + \"_\" + path[2]];\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t\n\tif ( data[\"filter_head\"] === key ) {\n\t\tlet filters = \"\";\n\t\tObject.keys(data[key]).forEach(\n\t\t\tfkey => {\n\t\t\t\tlet dkey        = key + '_' + fkey;\n\t\t\t\tdata[key][fkey] = true;\n\t\t\t\tfilters += fkey + \"(\" + floatCut(tweenable[dkey], 2) + data[dkey] + \") \";\n\t\t\t}\n\t\t)\n\t\ttarget.filter = filters;\n\t}\n\t\n}\n\n\nexport const mux = ( key, value, target, data, initials ) => {\n\t\n\tdata[\"filter_head\"] = data[\"filter_head\"] || key;\n\tdata[key]           = data[key] || {};\n\t//initials[key]       = 0;\n\t\n\tObject.keys(value).forEach(\n\t\tfkey => {\n\t\t\tlet fValue      = value[fkey],\n\t\t\t    dkey        = key + '_' + fkey,\n\t\t\t    match       = is.string(fValue) ? fValue.match(unitsRe) : false;\n\t\t\tdata[key][fkey] = true;\n\t\t\tinitials[dkey]  = 0;\n\t\t\tif ( match ) {\n\t\t\t\tif ( data[dkey] && data[dkey] !== match[2] ) {\n\t\t\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", dkey, \"present:\" + data[dkey], \"new:\" + match[2]);\n\t\t\t\t\ttarget[dkey] = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdata[dkey]   = match[2];\n\t\t\t\t\ttarget[dkey] = parseFloat(match[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttarget[dkey] = fValue;\n\t\t\t\tif ( !data[dkey] && fkey in defaultUnits )\n\t\t\t\t\tdata[dkey] = defaultUnits[fkey];\n\t\t\t}\n\t\t}\n\t)\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nexport * from \"./typed/shadow\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst defaultUnits = { opacity: 1 };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\ttarget[key] = ~~(tweenable[key]);// + defaultUnits[key];\n\t\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\t\n\tinitials[key] = 0;\n\ttarget[key]   = ~~value;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst defaultUnits = { opacity: 1 };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\tlet value = !!(tweenable[key]);\n\treturn target ? target[key] = value : value;\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\tinitials[key] = defaultUnits[key] || 0;\n\ttarget[key]   = value === false ? 0 : 1;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is          from \"is\";\nimport * as number from \"./number\";\n\nconst\n\talias = {\n\t\ttop   : '0%',\n\t\tbottom: '100%',\n\t\tcenter: '50%',\n\t\tleft  : '0%',\n\t\tright : '100%'\n\t};\n\nfunction demux( key, tweenable, target, data, box, offset ) {\n\t\n\tlet count = data[\"_\" + key], v = '', nowhere = {};\n\t\n\tfor ( let i = 0; i < count; i++ ) {\n\t\tnumber.demux(key + '_' + i, tweenable, nowhere, data, box, offset);\n\t\tv += nowhere[key + '_' + i] + ' ';\n\t}\n\t\n\ttarget[key] = v;\n}\n\n\nfunction release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\t\n\t//if ( path.length === 2 ) {\n\t//\tconsole.log(\"dec\", twKey, dataMap[path[0]][path[1]])\n\t//\tif ( !--dataMap[path[0]][path[1]] && !keepValues ) {\n\t//\t\tdelete tweenableMap[twKey];\n\t//\t\tdelete dataMap[path[0]][path[1]];\n\t//\t}\n\t//\n\t//\tif ( !keepValues )\n\t//\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t//\t\t\tdataMap[path[0]].pop();\n\t//\n\t//\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t//\t\tdelete dataMap[path[0]];\n\t//\t\tdelete muxerMap[path[0]];\n\t//\t\tdelete cssMap[path[0]];\n\t//\t\tconsole.log(\"delete\", path[0])\n\t//\t}\n\t//}\n\t//else {\n\t//console.log(\"wtf\", path)\n\t//}\n}\n\nexport default ( count ) => ({\n\tmux: ( key, value, target, data, initials, noPropLock ) => {\n\t\tlet values = value.split(' '), v;\n\t\t\n\t\tdata[key] = data[key] || 0;\n\t\tnoPropLock && data[key]++;\n\t\tdata[\"_\" + key] = count;\n\t\t\n\t\tfor ( let i = 0; i < count; i++ ) {\n\t\t\tv = values[i % values.length];\n\t\t\tv = is.string(v) && alias[v] || v;\n\t\t\tnumber.mux(key + '_' + i, v, target, data, initials, noPropLock)\n\t\t}\n\t\t\n\t\treturn demux;\n\t}, demux, release\n})","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst defaultUnits = { opacity: 1 };\nimport {floatCut} from \"../../cssUtils\";\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\ttarget[key] = Math.min(1, Math.max(0, floatCut(tweenable[key])));\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\t\n\tinitials[key] = defaultUnits[key] || 0;\n\ttarget[key]   = value;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../cssUtils\";\n\nconst defaultUnits    = {\n\t      //matrix     : true,\n\t      //translate  : 'px',\n\t      translateX : 'px',\n\t      translateY : 'px',\n\t      translateZ : 'px',\n\t      scale      : '',\n\t      scaleZ     : '',\n\t      scaleX     : '',\n\t      scaleY     : '',\n\t      rotate     : 'deg',\n\t      //skew       : 'deg',\n\t      skewX      : 'deg',\n\t      skewY      : 'deg',\n\t      //matrix3d   : true,\n\t      //translate3d: true,\n\t      //scale3d    : true,\n\t      //rotate3d   : true,\n\t      rotateX    : 'deg',\n\t      rotateY    : 'deg',\n\t      rotateZ    : 'deg',\n\t      perspective: 'px',\n      },\n      defaultBox      = {\n\t      translateX: 'x',\n\t      translateY: 'y',\n\t      translateZ: 'z',\n\t      rotateX   : 'x',\n\t      rotateY   : 'y',\n\t      rotateZ   : 'z',\n\t      left      : 'x',\n\t      right     : 'x',\n\t      top       : 'y',\n\t      bottom    : 'y',\n\t      width     : 'x',\n\t      height    : 'y',\n      }, defaultValue = {\n\t      //skew  : 1,\n\t      //skewX : 1,\n\t      //skewY : 1,\n\t      scale : 1,\n\t      scaleX: 1,\n\t      scaleY: 1,\n\t      scaleZ: 1\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tif ( path.length === 4 ) {\n\t\t//console.warn(\"dec\", twKey, dataMap[path[0]][path[1]][path[2]])\n\t\t// dec count on transform\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t//if ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t//\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\t// free transform layers\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\t//dataMap[path[0]][path[3]] = undefined;\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//console.log(\"delete\", twKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[tmpKey].length === 0 && !keepValues )\n\t\t\tdelete dataMap[tmpKey];\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitIndex, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitIndex] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t//console.log(key)\n\tlet transforms                                                 = \"\",\n\t    tmpValue                                                   = {};\n\tlet ti = 0, tmap, fkey, unitKey, unitIndex, dkey, u, iValue, y = 0, value;\n\tfor ( ; ti < data[key].length; ti++ ) {\n\t\ttmap = data[key][ti];\n\t\tfor ( fkey in tmap )\n\t\t\tif ( tmap.hasOwnProperty(fkey) ) {\n\t\t\t\tdkey  = key + '_' + ti + '_' + fkey;\n\t\t\t\tvalue = \"\";\n\t\t\t\ty     = 0;\n\t\t\t\tfor ( unitIndex = 0; unitIndex < data[dkey].length; unitIndex++ )\n\t\t\t\t\tif ( data[dkey][unitIndex] ) {\n\t\t\t\t\t\tunitKey = dkey + \"_\" + unitIndex;\n\t\t\t\t\t\t//console.log(\"mux \", key, dkey, unitKey)\n\t\t\t\t\t\t\n\t\t\t\t\t\t//if ( !tweenable[unitKey] )\n\t\t\t\t\t\t//\tcontinue;\n\t\t\t\t\t\tiValue = demuxOne(unitIndex, dkey, tweenable[unitKey], fkey, data, box);\n\t\t\t\t\t\t//console.log(unitKey, tweenable[unitKey], iValue)\n\t\t\t\t\t\tif ( y && iValue[0] === '-' )\n\t\t\t\t\t\t\tiValue = \" - \" + iValue.substr(1);\n\t\t\t\t\t\telse if ( y )\n\t\t\t\t\t\t\tiValue = \" + \" + iValue;\n\t\t\t\t\t\tvalue += iValue;\n\t\t\t\t\t\ty++;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( y > 1 )\n\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\n\t\t\t\tif ( y > 0 )\n\t\t\t\t\ttransforms += fkey + \"(\" + (value || \"0\") + \") \";\n\t\t\t}\n\t}\n\ttarget.transform = transforms;\n\t\n}\n\nexport function muxOne( key, baseKey, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[baseKey],\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[baseKey] || 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', realKey, data[key][unitKey], initials[realKey], noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\nexport const mux = ( key, value, target, data, initials, noPropLock, reOrder ) => {\n\t\n\tdata[key] = data[key] || [];\n\t//initials[key] = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\tlet ti = 0, tmap, tFnKey, baseData, fValue, dkey, u, seenUnits;\n\tfor ( ; ti < value.length; ti++ ) {\n\t\ttmap     = value[ti];\n\t\tbaseData = reOrder ? {} : { ...(data[key][ti] || {}) };\n\t\tfor ( tFnKey in tmap )\n\t\t\tif ( tmap.hasOwnProperty(tFnKey) ) {\n\t\t\t\tfValue    = tmap[tFnKey];\n\t\t\t\tseenUnits = {};\n\t\t\t\tdkey      = key + '_' + ti + '_' + tFnKey;\n\t\t\t\t\n\t\t\t\tbaseData[tFnKey] = baseData[tFnKey] || data[key][ti] && data[key][ti][tFnKey] || 0;\n\t\t\t\t!noPropLock && baseData[tFnKey]++;\n\t\t\t\t\n\t\t\t\t//console.warn(\"set \", key, dkey, noPropLock, baseData[tFnKey])\n\t\t\t\t\n\t\t\t\tdata[dkey] = data[dkey] || [];\n\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\tfor ( u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue[u] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmuxOne(dkey, tFnKey, fValue || 0, target, data, initials, noPropLock)\n\t\t\t\t}\n\t\t\t}\n\t\tdata[key][ti] =\n\t\t\treOrder\n\t\t\t? { ...baseData, ...(data[key][ti] || {}), ...baseData }\n\t\t\t:\n\t\t\tbaseData;\n\t\t//console.log(key, reOrder, data[key][ti], baseData)\n\t}\n\treturn demux;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nexport * from \"./typed/shadow\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nexport * from \"./typed/color\";","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\n\nconst TweenerContext = React.createContext(null);\nexport default TweenerContext","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport PropTypes from \"prop-types\";\nimport React     from 'react';\n\nimport TweenerContext from \"./TweenerContext\";\n\nexport default class Axis extends React.Component {\n\tstatic propTypes = {\n\t\taxe            : PropTypes.string.isRequired,\n\t\titems          : PropTypes.array,\n\t\tbounds         : PropTypes.object,\n\t\tinertia        : PropTypes.any,\n\t\tdefaultPosition: PropTypes.number,\n\t\tsize           : PropTypes.any\n\t};\n\tstate            = {};\n\t\n\tcomponentWillUnmount() {\n\t\t\n\t\tif ( this._tweenLines ) {\n\t\t\tObject.keys(this._tweenLines)\n\t\t\t      .forEach(axe => this._previousTweener.rmScrollableAnim(this._tweenLines[axe], axe));\n\t\t\t\n\t\t}\n\t\tdelete this._previousTweener;\n\t\tdelete this._previousScrollable;\n\t}\n\t\n\trender() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    axe, scrollFirst, bounds,\n\t\t\t    scrollableWindow, inertia, size, defaultPosition,\n\t\t\t    items = [],\n\t\t    } = this.props;\n\t\treturn <TweenerContext.Consumer>\n\t\t\t{\n\t\t\t\ttweener => {\n\t\t\t\t\tif ( !this._previousAxis || this._previousAxis !== axe ) {//....\n\t\t\t\t\t\tthis._previousAxis    = axe;\n\t\t\t\t\t\tthis._previousInertia = inertia;\n\t\t\t\t\t\ttweener.initAxis(axe, {\n\t\t\t\t\t\t\tinertia,\n\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\tscrollableWindow,\n\t\t\t\t\t\t\tdefaultPosition,\n\t\t\t\t\t\t\tscrollFirst,\n\t\t\t\t\t\t\tscrollableBounds: bounds\n\t\t\t\t\t\t}, true);\n\t\t\t\t\t}\n\t\t\t\t\telse if ( !this._previousInertia || this._previousInertia !== inertia ) {//....\n\t\t\t\t\t\tthis._previousInertia = inertia;\n\t\t\t\t\t\tthis._previousAxis    = axe;\n\t\t\t\t\t\ttweener.initAxis(axe, {\n\t\t\t\t\t\t\tinertia,\n\t\t\t\t\t\t\tsize,\n\t\t\t\t\t\t\tscrollableWindow,\n\t\t\t\t\t\t\tdefaultPosition,\n\t\t\t\t\t\t\tscrollFirst,\n\t\t\t\t\t\t\tscrollableBounds: bounds\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif ( !this._previousTweener || this._previousTweener !== tweener ) {// mk axe not modifiable\n\t\t\t\t\t\tthis._previousTweener && this._lastTL && this._previousTweener.rmScrollableAnim(this._lastTL, this._previousAxis);\n\t\t\t\t\t\tif ( items.length )\n\t\t\t\t\t\t\tthis._lastTL = tweener.addScrollableAnim(items, axe, size);\n\t\t\t\t\t\tthis._previousTweener = tweener;\n\t\t\t\t\t\tthis._previousTweens  = items;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( this._previousTweens !== items && !(this._previousTweens && deepEqual(items, this._previousTweens)) ) {\n\t\t\t\t\t\tthis._lastTL && this._previousTweener && this._previousTweener.rmScrollableAnim(this._lastTL, this._previousAxis);\n\t\t\t\t\t\tthis._lastTL = null;\n\t\t\t\t\t\tif ( items.length )\n\t\t\t\t\t\t\tthis._lastTL = tweener.addScrollableAnim(items, axe, size);\n\t\t\t\t\t\tthis._previousTweens = items;\n\t\t\t\t\t}\n\t\t\t\t\treturn <React.Fragment/>;\n\t\t\t\t}\n\t\t\t}\n\t\t</TweenerContext.Consumer>;\n\t}\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport is        from \"is\";\nimport React     from 'react';\nimport shortid   from 'shortid';\n\nimport TweenerContext from \"./TweenerContext\";\n\nfunction setTarget( anims, target ) {\n\treturn anims.map(\n\t\ttween => ({\n\t\t\t...tween,\n\t\t\ttarget\n\t\t})\n\t)\n}\n\nexport default class Node extends React.Component {\n\t\n\tstatic propTypes = {};\n\tstate            = {};\n\t__tweenableId    = shortid.generate();\n\t\n\tcomponentWillUnmount() {\n\t\tif ( this._tweenAxisObj ) {\n\t\t\tObject.keys(this._tweenAxisObj)\n\t\t\t      .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxisObj[axe], axe));\n\t\t\t\n\t\t}\n\t\tif ( this._currentTweener ) {\n\t\t\tthis._currentTweener.rmTweenRef(this.__tweenableId)\n\t\t\tthis._currentTweener.setRootRef(undefined);\n\t\t}\n\t\tdelete this._currentTweener;\n\t\tdelete this._tweenAxisObj;\n\t\tdelete this._previousScrollable;\n\t}\n\t\n\trender() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    id            = this.__tweenableId,\n\t\t\t    style, initial, pos, noRef, reset, tweener,\n\t\t\t    isRoot,\n\t\t\t    tweenLines,\n\t\t\t    tweenAxis     = tweenLines,\n\t\t\t    onClick       = children && children.props && children.props.onClick,\n\t\t\t    onDoubleClick = children && children.props && children.props.onDoubleClick\n\t\t    } = this.props;\n\t\treturn <TweenerContext.Consumer>\n\t\t\t{\n\t\t\t\tparentTweener => {//@todo : must be better method\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tparentTweener = tweener || parentTweener;\n\t\t\t\t\t\n\t\t\t\t\tif ( !parentTweener ) {\n\t\t\t\t\t\tconsole.error(\"No voodoo tweener found in the context, is there any parent with asTweener ?\")\n\t\t\t\t\t\treturn <React.Fragment/>;\n\t\t\t\t\t}\n\t\t\t\t\t//console.warn(\"render : \", this.__tweenableId, this._currentTweener, parentTweener,\n\t\t\t\t\t// this._currentTweener !== parentTweener)\n\t\t\t\t\tlet twRef = parentTweener.tweenRef(id, children.props && children.props.style, style || initial,\n\t\t\t\t\t                                   pos, noRef),\n\t\t\t\t\t    axisItemsChange;\n\t\t\t\t\t\n\t\t\t\t\t//console.warn(\"render2 : \", this.__tweenableId, this._currentTweener, parentTweener,\n\t\t\t\t\t// this._currentTweener !== parentTweener)\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif ( this._currentTweener !== parentTweener || this._previousScrollable !== tweenAxis ) {\n\t\t\t\t\t\taxisItemsChange = this._tweenAxis !== tweenAxis && !(this._tweenAxis && deepEqual(tweenAxis, this._tweenAxis));\n\t\t\t\t\t\tif ( this._currentTweener && axisItemsChange ) {\n\t\t\t\t\t\t\tthis._tweenAxisObj && Object.keys(this._tweenAxisObj)\n\t\t\t\t\t\t\t                            .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxisObj[axe], axe));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//console.log(twRef, axisItemsChange, this._tweenAxis, tweenAxis)\n\t\t\t\t\t\tif ( this._currentTweener && this._currentTweener !== parentTweener ) {\n\t\t\t\t\t\t\tthis._currentTweener.rmTweenRef(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( axisItemsChange ) {\n\t\t\t\t\t\t\tthis._tweenAxis = tweenAxis;\n\t\t\t\t\t\t\tif ( tweenAxis && is.array(tweenAxis) )\n\t\t\t\t\t\t\t\tthis._tweenAxisObj = { scrollY: parentTweener.addScrollableAnim(setTarget(tweenAxis, id)) };\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tthis._tweenAxisObj = tweenAxis && Object.keys(tweenAxis)\n\t\t\t\t\t\t\t\t                                        .reduce(( h, axe ) => (h[axe] = parentTweener.addScrollableAnim(setTarget(tweenAxis[axe], id), axe), h), {});\n\t\t\t\t\t\t\ttwRef = parentTweener.tweenRef(id, children.props && children.props.style, style || initial,\n\t\t\t\t\t\t\t                               pos, noRef)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\ttwRef.style = { ...parentTweener._updateTweenRef(id, true) };\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( this.props.hasOwnProperty(\"isRoot\") ) {\n\t\t\t\t\t\t\tthis._currentTweener && this._currentTweener.setRootRef(undefined);\n\t\t\t\t\t\t\ttweener.setRootRef(id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis._currentTweener     = parentTweener;\n\t\t\t\t\t\tthis._previousScrollable = tweenAxis;\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\telse if ( twRef ) {\n\t\t\t\t\t\ttwRef.style = { ...parentTweener._updateTweenRef(id, true) };\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet refChild = React.Children.only(children);\n\t\t\t\t\t\n\t\t\t\t\tif ( refChild && React.isValidElement(refChild) ) {\n\t\t\t\t\t\trefChild      = React.cloneElement(\n\t\t\t\t\t\t\trefChild,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...twRef,\n\t\t\t\t\t\t\t\tonDoubleClick: onDoubleClick && (e => onDoubleClick(e, parentTweener)),\n\t\t\t\t\t\t\t\tonClick      : onClick && (e => onClick(e, parentTweener))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._lastRef = twRef;\n\t\t\t\t\t\treturn refChild;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconsole.error(\"Invalid voodoo Node child : \", id)\n\t\t\t\t\t}\n\t\t\t\t\treturn <div>Invalid</div>;\n\t\t\t\t}\n\t\t\t}\n\t\t</TweenerContext.Consumer>;\n\t}\n}\n\nNode.div = ( { children, className, ...props } ) => {\n\treturn <Node {...props}>\n\t\t<div className={className}>{children}</div>\n\t</Node>;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\nlet\n\tis        = require('is'),\n\tisBrowser = typeof window !== 'undefined',\n\tisTouch   = isBrowser && (function is_touch_device() {\n\t\tvar prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n\t\tvar mq       = function ( query ) {\n\t\t\treturn window.matchMedia&&window.matchMedia(query).matches;\n\t\t}\n\t\t\n\t\tif ( ('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch ) {\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\t// include the 'heartz' as a way to have a non matching MQ to help terminate the join\n\t\t// https://git.io/vznFH\n\t\tvar query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n\t\treturn mq(query);\n\t}()),\n\t_dom      = isBrowser ? {\n\t\tprefix      : (/webkit/i).test(navigator.appVersion) ? 'webkit' :\n\t\t              (/firefox/i).test(navigator.userAgent) ? 'Moz' :\n\t\t              (/trident/i).test(navigator.userAgent) ? 'ms' :\n\t\t              'opera' in window ? 'O' : '',\n\t\tdashedPrefix: (/webkit/i).test(navigator.appVersion) ? '-webkit-' :\n\t\t              (/firefox/i).test(navigator.userAgent) ? '-moz-' :\n\t\t              (/trident/i).test(navigator.userAgent) ? '-ms-' :\n\t\t              'opera' in window ? '-o-' : ''\n\t} : {\n\t\tprefix      : '',\n\t\tdashedPrefix: ''\n\t},\n\t__        = {\n\t\tonPageHided      : [],\n\t\tonPageShown      : [],\n\t\tdragging         : [],\n\t\tdragEnabled      : [],\n\t\tdragEnabledDesc  : [],\n\t\tfingers          : {},\n\t\tnbFingers        : 0,\n\t\tdragstartAnywhere: function ( e ) {\n\t\t\tlet o,\n\t\t\t    me            = __,\n\t\t\t    i             = me.dragEnabled.indexOf(this),\n\t\t\t    finger,\n\t\t\t    desc, fingers = [];\n\t\t\t\n\t\t\tif ( i === -1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//e.preventDefault();\n\t\t\t//e.stopPropagation();\n\t\t\t\n\t\t\tif ( !me.nbFingers ) {\n\t\t\t\tDom.addEvent(document,\n\t\t\t\t             {\n\t\t\t\t\t             'touchmove': me.dragAnywhere,\n\t\t\t\t\t             'mousemove': me.dragAnywhere,\n\t\t\t\t\t             'touchend' : me.dropAnywhere,\n\t\t\t\t\t             'mouseup'  : me.dropAnywhere,\n\t\t\t\t             });\n\t\t\t\tDom.addEvent(this,\n\t\t\t\t             {\n\t\t\t\t\t             'click': me.dropWithoutClick\n\t\t\t\t             }, null, null, true);\n\t\t\t}\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( let t = 0, ln = fingers.length; t < ln; t++ ) {\n\t\t\t\tfinger = fingers[t];\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc = me.dragEnabledDesc[i];\n\t\t\t\t\n\t\t\t\tif ( desc.nbFingers ) continue;\n\t\t\t\t\n\t\t\t\tme.nbFingers++;\n\t\t\t\t\n\t\t\t\tme.fingers[finger.identifier] = me.fingers[finger.identifier] || [];\n\t\t\t\tme.fingers[finger.identifier].push(desc);\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc.nbFingers++;\n\t\t\t\t\n\t\t\t\tdesc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\tdesc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\tdesc._startTs    = e.timeStamp;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\n\t\t\t\tfor ( o = 0; o < desc.dragstart.length; o++ )\n\t\t\t\t\tdesc.dragstart[o][0].call(desc.dragstart[o][1] ||\n\t\t\t\t\t\t                          this, e, finger, desc);\n\t\t\t}\n\t\t},\n\t\tdragAnywhere     : function ( e ) {\n\t\t\tlet o,\n\t\t\t    me              = __,\n\t\t\t    finger, fingers = [], stopped,\n\t\t\t    desc            = __.dragging[0];\n\t\t\t\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( let i = 0, ln = fingers.length; i < ln; i++ ) {\n\t\t\t\tfinger = fingers[i];\n\t\t\t\tdesc   = me.fingers[finger.identifier];\n\t\t\t\tme.fingers[finger.identifier] &&\n\t\t\t\tme.fingers[finger.identifier].forEach(\n\t\t\t\t\tdesc => {\n\t\t\t\t\t\tif ( stopped ) {\n\t\t\t\t\t\t\tdesc._lastPos.x = desc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\t\tdesc._lastPos.y = desc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor ( o = 0; o < desc.drag.length; o++ )\n\t\t\t\t\t\t\tstopped = desc.drag[o][0].call(desc.drag[o][1] || this, e,\n\t\t\t\t\t\t\t                               finger,\n\t\t\t\t\t\t\t                               desc) === false;\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tdropWithoutClick : function ( e ) {\n\t\t\tif ( __.preventNextClick ) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t__.preventNextClick = false;\n\t\t\t}\n\t\t\tDom.removeEvent(this,\n\t\t\t                {\n\t\t\t\t                'click': this.dropWithoutClick\n\t\t\t                });\n\t\t},\n\t\tdropAnywhere     : function ( e ) {\n\t\t\tlet o,\n\t\t\t    me = __, finger, fingers = [],\n\t\t\t    prevent;\n\t\t\t\n\t\t\tif ( e.changedTouches && e.changedTouches.length ) {\n\t\t\t\tfingers = e.changedTouches\n\t\t\t}\n\t\t\telse fingers.push(e);\n\t\t\t\n\t\t\tfor ( let i = 0, ln = fingers.length; i < ln; i++ ) {\n\t\t\t\tfinger = fingers[i];\n\t\t\t\tme.nbFingers--;\n\t\t\t\tme.fingers[finger.identifier] &&\n\t\t\t\tme.fingers[finger.identifier].forEach(\n\t\t\t\t\tdesc => {\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tdesc.nbFingers--;\n\t\t\t\t\t\tprevent         = prevent || desc.mouseDrag && (e.timeStamp - desc._startTs > 250);\n\t\t\t\t\t\tdesc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n\t\t\t\t\t\tdesc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor ( o = 0; o < desc.dropped.length; o++ )\n\t\t\t\t\t\t\tdesc.dropped[o][0].call(desc.dropped[o][1] ||\n\t\t\t\t\t\t\t\t                        this, e,\n\t\t\t\t\t\t\t                        finger, desc);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\tme.fingers[finger.identifier] = null;\n\t\t\t}\n\t\t\tif ( prevent ) {\n\t\t\t\tme.preventNextClick = true;\n\t\t\t}\n\t\t\tif ( !me.nbFingers ) {\n\t\t\t\tDom.removeEvent(document,\n\t\t\t\t                {\n\t\t\t\t\t                'touchmove': me.dragAnywhere,\n\t\t\t\t\t                'mousemove': me.dragAnywhere,\n\t\t\t\t\t                'touchend' : me.dropAnywhere,\n\t\t\t\t\t                'mouseup'  : me.dropAnywhere\n\t\t\t\t                });\n\t\t\t}\n\t\t},\n\t\tgetDraggable     : function ( node, mouseDrag ) {\n\t\t\tlet i = this.dragEnabled.indexOf(node), desc;\n\t\t\tif ( i === -1 ) {\n\t\t\t\tthis.dragEnabled.push(node);\n\t\t\t\tthis.dragEnabledDesc.push(\n\t\t\t\t\tdesc = {\n\t\t\t\t\t\tmouseDrag,\n\t\t\t\t\t\tnbFingers: 0,\n\t\t\t\t\t\tlocks    : 0,\n\t\t\t\t\t\t_startPos: {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\t_lastPos : {\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdragstart: [],\n\t\t\t\t\t\tdrag     : [],\n\t\t\t\t\t\tdragEnd  : [],\n\t\t\t\t\t\tdropped  : []\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\t//debugger;\n\t\t\t\tDom.addEvent(node,\n\t\t\t\t             {\n\t\t\t\t\t             'mousedown' : mouseDrag && this.dragstartAnywhere,\n\t\t\t\t\t             'touchstart': this.dragstartAnywhere\n\t\t\t\t             }, null, null, true);\n\t\t\t}\n\t\t\telse desc = this.dragEnabledDesc[i];\n\t\t\treturn desc;\n\t\t},\n\t\tfreeDraggable    : function ( node ) {\n\t\t\tlet i = this.dragEnabled.indexOf(node), desc;\n\t\t\tif ( i !== -1 ) {\n\t\t\t\tthis.dragEnabled.splice(i, 1);\n\t\t\t\tthis.dragEnabledDesc.splice(i, 1);\n\t\t\t\t\n\t\t\t\tDom.removeEvent(node,\n\t\t\t\t                {\n\t\t\t\t\t                'mousedown' : this.dragstartAnywhere,\n\t\t\t\t\t                'touchstart': this.dragstartAnywhere\n\t\t\t\t                });\n\t\t\t}\n\t\t},\n\t\taddOverflowEvent : function addFlowListener( element, fn ) {\n\t\t\t\n\t\t\tlet type = 'over', flow = type == 'over';\n\t\t\t\n\t\t\telement.addEventListener('OverflowEvent' in window ? 'overflowchanged' : type + 'flow',\n\t\t\t                         function ( e ) {\n\t\t\t\t                         if ( e.type == (type + 'flow') ||\n\t\t\t\t\t                         ((e.orient == 0 && e.horizontalOverflow == flow) ||\n\t\t\t\t\t\t                         (e.orient == 1 && e.verticalOverflow == flow) ||\n\t\t\t\t\t\t                         (e.orient == 2 && e.horizontalOverflow == flow &&\n\t\t\t\t\t\t\t                         e.verticalOverflow == flow)) ) {\n\t\t\t\t\t                         return fn.call(this, e);\n\t\t\t\t                         }\n\t\t\t                         }, false);\n\t\t\t\n\t\t},\n\t\taddEvent         : function ( node, type, fn, bubble ) {\n\t\t\tif ( node.addEventListener ) {\n\t\t\t\tnode.addEventListener(type, fn, bubble);\n\t\t\t}\n\t\t\telse if ( node.attachEvent ) {\n\t\t\t\tnode.attachEvent('on' + type,\n\t\t\t\t                 fn.related = function ( e ) {\n\t\t\t\t\t                 return fn.call(node, e);\n\t\t\t\t                 });\n\t\t\t}\n\t\t},\n\t\tremoveEvent      : function ( node, type, fn, bubble ) {\n\t\t\tif ( node.removeEventListener ) {\n\t\t\t\tnode.removeEventListener(type, fn, bubble);\n\t\t\t}\n\t\t\telse if ( node.attachEvent ) {\n\t\t\t\tnode.detachEvent('on' + type, fn.related);\n\t\t\t}\n\t\t},\n\t\trmDragFn         : function ( arr, fn, scope ) {\n\t\t\tfor ( let i = 0, ln = arr.length; i < ln; i++ ) {\n\t\t\t\tif ( arr[i][0] === fn )\n\t\t\t\t\treturn arr.splice(i, 1);\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Rm event : Listener not found !!\");\n\t\t},\n\t},\n\tDom       = {\n\t\taddEvent     : function ( node, type, fn, mouseDrag, bubble ) {\n\t\t\tif ( is.object(type) ) {\n\t\t\t\tfor ( let o in type )\n\t\t\t\t\tif ( type.hasOwnProperty(o) && type[o] )\n\t\t\t\t\t\tthis.addEvent(node, o, type[o], mouseDrag, bubble);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if ( type == 'dragstart' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).dragstart.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse if ( type == 'drag' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).drag.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse if ( type == 'dropped' ) {\n\t\t\t\t__.getDraggable(node, mouseDrag).dropped.push([fn, mouseDrag]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( node.addEventListener ) {\n\t\t\t\t\tnode.addEventListener(type, fn, { passive: false });\n\t\t\t\t}\n\t\t\t\telse if ( node.attachEvent ) {\n\t\t\t\t\tnode.attachEvent('on' + type,\n\t\t\t\t\t                 fn.related = function ( e ) {\n\t\t\t\t\t\t                 return fn.call(node, e);\n\t\t\t\t\t                 });\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tremoveEvent  : function ( node, type, fn, scope, bubble ) {\n\t\t\tlet i, desc;\n\t\t\t\n\t\t\tif ( is.object(type) ) {\n\t\t\t\tfor ( let o in type )\n\t\t\t\t\tif ( type.hasOwnProperty(o) )\n\t\t\t\t\t\tthis.removeEvent(node, o, type[o], scope);\n\t\t\t\t\n\t\t\t}\n\t\t\telse if ( /^(drag|drop)/.test(type) ) {\n\t\t\t\tdesc = __.getDraggable(node);\n\t\t\t\t__.rmDragFn(desc[type], fn, scope);\n\t\t\t\tif ( !desc.dragstart.length\n\t\t\t\t\t&& !desc.drag.length\n\t\t\t\t\t&& !desc.dragEnd.length\n\t\t\t\t\t&& !desc.dropped.length )\n\t\t\t\t\t__.freeDraggable(node);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( node.removeEventListener ) {\n\t\t\t\t\tnode.removeEventListener(type, fn, bubble);\n\t\t\t\t}\n\t\t\t\telse if ( node.attachEvent ) {\n\t\t\t\t\tnode.detachEvent('on' + type, fn.related);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t},\n\t\toffset       : function ( elem ) {// @todo\n\t\t\tlet dims = { top: 0, left: 0, width: elem.offsetWidth, height: elem.offsetHeight };\n\t\t\twhile ( elem ) {\n\t\t\t\tdims.top  = dims.top + parseInt(elem.offsetTop);\n\t\t\t\tdims.left = dims.left + parseInt(elem.offsetLeft);\n\t\t\t\telem      = elem.offsetParent;\n\t\t\t}\n\t\t\treturn dims;\n\t\t},\n\t\taddWheelEvent: isBrowser && (function ( window, document ) {\n\t\t\t\n\t\t\tlet prefix = \"\", _addEventListener, _rmEventListener, onwheel, support;\n\t\t\t\n\t\t\t// detect event model\n\t\t\tif ( window.addEventListener ) {\n\t\t\t\t_addEventListener = \"addEventListener\";\n\t\t\t\t_rmEventListener  = \"removeEventListener\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_addEventListener = \"attachEvent\";\n\t\t\t\t_rmEventListener  = \"detachEvent\";\n\t\t\t\tprefix            = \"on\";\n\t\t\t}\n\t\t\t\n\t\t\t// detect available wheel event\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\n\t\t\t\n\t\t\tconst addWheelListener = function ( elem, callback, scope, useCapture ) {\n\t\t\t\t_addWheelListener(elem, support, callback, scope, useCapture);\n\t\t\t\t\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\n\t\t\t\t\t_addWheelListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\n\t\t\t\t}\n\t\t\t};\n\t\t\t// Reasonable defaults\n\t\t\tlet PIXEL_STEP         = 10;\n\t\t\tlet LINE_HEIGHT        = 40;\n\t\t\tlet PAGE_HEIGHT        = 800;\n\t\t\t\n\t\t\tfunction normalizeWheel( /*object*/ event ) /*object*/ {\n\t\t\t\tlet sX = 0, sY = 0,       // spinX, spinY\n\t\t\t\t    pX         = 0, pY = 0;       // pixelX, pixelY\n\t\t\t\t\n\t\t\t\t// Legacy\n\t\t\t\tif ( 'detail' in event ) {\n\t\t\t\t\tsY = event.detail;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDelta' in event ) {\n\t\t\t\t\tsY = -event.wheelDelta / 120;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDeltaY' in event ) {\n\t\t\t\t\tsY = -event.wheelDeltaY / 120;\n\t\t\t\t}\n\t\t\t\tif ( 'wheelDeltaX' in event ) {\n\t\t\t\t\tsX = -event.wheelDeltaX / 120;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// side scrolling on FF with DOMMouseScroll\n\t\t\t\tif ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\n\t\t\t\t\tsX = sY;\n\t\t\t\t\tsY = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tpX = sX * PIXEL_STEP;\n\t\t\t\tpY = sY * PIXEL_STEP;\n\t\t\t\t\n\t\t\t\tif ( 'deltaY' in event ) {\n\t\t\t\t\tpY = event.deltaY;\n\t\t\t\t}\n\t\t\t\tif ( 'deltaX' in event ) {\n\t\t\t\t\tpX = event.deltaX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( (pX || pY) && event.deltaMode ) {\n\t\t\t\t\tif ( event.deltaMode == 1 ) {          // delta in LINE units\n\t\t\t\t\t\tpX *= LINE_HEIGHT;\n\t\t\t\t\t\tpY *= LINE_HEIGHT;\n\t\t\t\t\t}\n\t\t\t\t\telse {                             // delta in PAGE units\n\t\t\t\t\t\tpX *= PAGE_HEIGHT;\n\t\t\t\t\t\tpY *= PAGE_HEIGHT;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Fall-back if spin cannot be determined\n\t\t\t\tif ( pX && !sX ) {\n\t\t\t\t\tsX = (pX < 1) ? -1 : 1;\n\t\t\t\t}\n\t\t\t\tif ( pY && !sY ) {\n\t\t\t\t\tsY = (pY < 1) ? -1 : 1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn {\n\t\t\t\t\tspinX : sX,\n\t\t\t\t\tspinY : sY,\n\t\t\t\t\tpixelX: pX,\n\t\t\t\t\tpixelY: pY\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tfunction _addWheelListener( elem, eventName, callback, scope, useCapture ) {\n\t\t\t\telem[_addEventListener](prefix + eventName, callback._wheelList = function ( originalEvent ) {\n\t\t\t\t\t!originalEvent && (originalEvent = window.event);\n\t\t\t\t\t\n\t\t\t\t\t// create a normalized event object\n\t\t\t\t\tlet event = {\n\t\t\t\t\t\t// keep a ref to the original event object\n\t\t\t\t\t\toriginalEvent : originalEvent,\n\t\t\t\t\t\ttarget        : originalEvent.target || originalEvent.srcElement,\n\t\t\t\t\t\ttype          : \"wheel\",\n\t\t\t\t\t\tdeltaMode     : originalEvent.type == \"MozMousePixelScroll\" ? 0 : 1,\n\t\t\t\t\t\tdeltaX        : 0,\n\t\t\t\t\t\tdelatZ        : 0,\n\t\t\t\t\t\tpreventDefault: function () {\n\t\t\t\t\t\t\toriginalEvent.preventDefault ?\n\t\t\t\t\t\t\toriginalEvent.preventDefault() :\n\t\t\t\t\t\t\toriginalEvent.returnValue = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnormalized    : normalizeWheel(originalEvent)\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// calculate deltaY (and deltaX) according to the event\n\t\t\t\t\tif ( support == \"mousewheel\" ) {\n\t\t\t\t\t\tevent.deltaY = -1 / 40 * originalEvent.wheelDelta;\n\t\t\t\t\t\t// Webkit also support wheelDeltaX\n\t\t\t\t\t\t//                            originalEvent.wheelDeltaX && ( event.deltaX = - 1/40 *\n\t\t\t\t\t\t// originalEvent.wheelDeltaX );\n\t\t\t\t\t}\n\t\t\t\t\telse if ( support == \"wheel\" && _dom.prefix == \"Moz\" ) {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 3;\n\t\t\t\t\t}\n\t\t\t\t\telse if ( support == \"wheel\" ) {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY / 100;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tevent.deltaY = originalEvent.deltaY;\n\t\t\t\t\t}\n\t\t\t\t\t//                        if (typeof originalEvent.wheelDeltaY !== 'number')\n\t\t\t\t\t//                            event.wheelDeltaY = originalEvent.deltaY/100;\n\t\t\t\t\t\n\t\t\t\t\t//                        event.wheelDelta = deltaY*120;\n\t\t\t\t\t\n\t\t\t\t\t// it's time to fire the callback\n\t\t\t\t\treturn callback.call(scope || this, event);\n\t\t\t\t\t\n\t\t\t\t}, useCapture || false);\n\t\t\t}\n\t\t\t\n\t\t\treturn addWheelListener;\n\t\t})(window, document),\n\t\trmWheelEvent : isBrowser && (function ( window, document ) {\n\t\t\t\n\t\t\tlet prefix = \"\", _rmEventListener, onwheel, support;\n\t\t\t\n\t\t\t// detect event model\n\t\t\tif ( addEventListener ) {\n\t\t\t\t_rmEventListener = \"removeEventListener\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_rmEventListener = \"detachEvent\";\n\t\t\t\tprefix           = \"on\";\n\t\t\t}\n\t\t\t\n\t\t\t// detect available wheel event\n\t\t\tsupport = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : // Modern browsers support \"wheel\"\n\t\t\t          document.onmousewheel !== undefined ? \"mousewheel\" : // Webkit and IE support at least \"mousewheel\"\n\t\t\t          \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\n\t\t\t\n\t\t\tlet rmWheelListener = function ( elem, callback, scope, useCapture ) {\n\t\t\t\t_EventListener(elem, support, callback, scope, useCapture);\n\t\t\t\t\n\t\t\t\t// handle MozMousePixelScroll in older Firefox\n\t\t\t\tif ( support == \"DOMMouseScroll\" ) {\n\t\t\t\t\t_EventListener(elem, \"MozMousePixelScroll\", callback, scope, useCapture);\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tfunction _EventListener( elem, eventName, callback, scope, useCapture ) {\n\t\t\t\telem[_rmEventListener](prefix + eventName, callback._wheelList);\n\t\t\t}\n\t\t\t\n\t\t\treturn rmWheelListener;\n\t\t})(window, document),\n\t\t\n\t\t\n\t\t/**\n\t\t * Find the react component that generate element dom node\n\t\t * @param element\n\t\t * @returns {[React.Component]}\n\t\t */\n\t\tfindReactParents( element ) {\n\t\t\tlet fiberNode, comps = [element];\n\t\t\tfor ( const key in element ) {\n\t\t\t\t\n\t\t\t\tif ( key.startsWith('__reactInternalInstance$') ) {\n\t\t\t\t\tfiberNode = element[key];\n\t\t\t\t\twhile ( fiberNode.return ) {\n\t\t\t\t\t\tif ( fiberNode.stateNode && !comps.includes(fiberNode.stateNode) )\n\t\t\t\t\t\t\tcomps.push(fiberNode.stateNode)\n\t\t\t\t\t\tfiberNode = fiberNode.return;\n\t\t\t\t\t}\n\t\t\t\t\treturn comps;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn element.parentNode && this.findReactParents(element.parentNode);\n\t\t}\n\t\t\n\t};\nexport default Dom;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from \"react\";\nimport is    from \"is\";\n\nimport TweenerContext from \"../comps/TweenerContext\";\n\n\nconst SimpleObjectProto = ({}).constructor;\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function withTweener( ...argz ) {\n\t\n\tlet BaseComponent = (!argz[0] || argz[0].prototype instanceof React.Component || argz[0] === React.Component) && argz.shift(),\n\t    opts          = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !(BaseComponent && (BaseComponent.prototype instanceof React.Component || BaseComponent === React.Component)) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn withTweener(BaseComponent, opts)\n\t\t}\n\t}\n\t\n\tclass TweenerToProps extends React.Component {\n\t\tstatic displayName = (BaseComponent.displayName || BaseComponent.name);\n\t\t\n\t\trender() {\n\t\t\treturn <TweenerContext.Consumer>\n\t\t\t\t{\n\t\t\t\t\ttweener => {\n\t\t\t\t\t\treturn <BaseComponent { ...this.props } tweener={ tweener } ref={ this.props.forwardedRef }/>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</TweenerContext.Consumer>;\n\t\t}\n\t}\n\t\n\t\n\tlet withRef         = React.forwardRef(( props, ref ) => {\n\t\treturn <TweenerToProps { ...props } forwardedRef={ ref }/>;\n\t});\n\twithRef.displayName = TweenerToProps.displayName;\n\treturn withRef;\n}\n","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2019. Wise Wild Web\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport is        from \"is\";\nimport PropTypes from \"prop-types\";\nimport React     from 'react';\nimport ReactDom  from \"react-dom\";\nimport domUtils  from \"../utils/dom\";\n\nimport withTweener from \"../spells/withTweener\";\n\n@withTweener\nexport default class Draggable extends React.Component {\n\tstatic propTypes    = {\n\t\txAxis: PropTypes.string,\n\t\tyAxis: PropTypes.string,\n\t};\n\tstatic defaultProps = {\n\t\tComp: 'div',\n\t};\n\tstate               = {};\n\t_                   = {};\n\troot                = React.createRef();\n\t\n\tcomponentWillUnmount() {\n\t\tlet node = this.root?.current;\n\t\tif ( this._.scrollEnabled ) {\n\t\t\tthis._.scrollEnabled = false;\n\t\t\t\n\t\t\t//this._.axes          = undefined;\n\t\t\tnode && this._.dragList && domUtils.removeEvent(node\n\t\t\t\t, this._.dragList)\n\t\t}\n\t}\n\t\n\tcomponentDidMount() {\n\t\tthis._registerScrollListeners();\n\t}\n\t\n\t/**\n\t * Return scrollable parent node list basing a dom node\n\t * @param node\n\t * @returns {T[]}\n\t */\n\tgetScrollableNodes( node ) {\n\t\tlet scrollable = domUtils.findReactParents(node), _ = this._;\n\t\t\n\t\treturn scrollable.map(\n\t\t\tid => (is.string(id)\n\t\t\t       ? this._.refs[id] && ReactDom.findDOMNode(this._.refs[id]) || this.refs[id] || document.getElementById(id)\n\t\t\t       : id));\n\t}\n\t\n\t/**\n\t * todo rewrite or use lib\n\t * Init touch & scroll listeners\n\t * Drive scroll & drag values updates\n\t * @private\n\t */\n\t_registerScrollListeners() {\n\t\tlet rootNode                  = this.root?.current,\n\t\t    { xAxis, yAxis, tweener } = this.props,\n\t\t    lastStartTm,\n\t\t    cLock, dX,\n\t\t    parents,\n\t\t    dY, parentsState,\n\t\t    _                         = tweener._;\n\t\tif ( rootNode ) {\n\t\t\tdomUtils.addEvent(\n\t\t\t\trootNode, this._.dragList = {\n\t\t\t\t\t'dragstart': ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\tlet pTweener,\n\t\t\t\t\t\t    x,\n\t\t\t\t\t\t    y, i, style;\n\t\t\t\t\t\t\n\t\t\t\t\t\tparents      = this.getScrollableNodes(e.target);\n\t\t\t\t\t\t//console.log(\"start\")\n\t\t\t\t\t\tlastStartTm  = Date.now();\n\t\t\t\t\t\tdX           = 0;\n\t\t\t\t\t\tdY           = 0;\n\t\t\t\t\t\tparentsState = [];\n\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\tpTweener = parents[i];\n\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\tif ( pTweener.__isTweener ) {\n\t\t\t\t\t\t\t\tx = xAxis && pTweener.axes?.[xAxis];\n\t\t\t\t\t\t\t\ty = yAxis && pTweener.axes?.[yAxis];\n\t\t\t\t\t\t\t\tpTweener._updateNodeInertia()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//tweener._updateNodeInertia()\n\t\t\t\t\t\t//e.stopPropagation();\n\t\t\t\t\t\t//e.preventDefault();\n\t\t\t\t\t},\n\t\t\t\t\t'click'    : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\tif ( lastStartTm &&\n\t\t\t\t\t\t\t!((lastStartTm > Date.now() - _.options.maxClickTm) &&\n\t\t\t\t\t\t\t\tMath.abs(dY) < _.options.maxClickOffset &&\n\t\t\t\t\t\t\t\tMath.abs(dX) < _.options.maxClickOffset)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t//console.log(\"prevented click\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t//console.log(':o ' + (lastStartTm - Date.now()) + ' ' + dX + ' ' + dY)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//else console.log(\"click\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\n\t\t\t\t\t},\n\t\t\t\t\t'drag'     : ( e, touch, descr ) => {//@todo\n\t\t\t\t\t\tlet pTweener,\n\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\n\t\t\t\t\t\tdX = -(descr._lastPos.x - descr._startPos.x);\n\t\t\t\t\t\tdY = -(descr._lastPos.y - descr._startPos.y);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( lastStartTm && ((lastStartTm > Date.now() - _.options.maxClickTm) && Math.abs(dY) < _.options.maxClickOffset && Math.abs(dX) < _.options.maxClickOffset) )// skip tap & click\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t//console.log(':u ' + (lastStartTm - Date.now()) + ' ' + dX + ' ' + dY)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\txDispatched = !dX;\n\t\t\t\t\t\t\tyDispatched = !dY;\n\t\t\t\t\t\t\tif ( _.options.dragDirectionLock ) {\n\t\t\t\t\t\t\t\tif ( cLock === \"Y\" || !cLock && Math.abs(dY * .5) > Math.abs(dX) ) {\n\t\t\t\t\t\t\t\t\tcLock = \"Y\";\n\t\t\t\t\t\t\t\t\tdX    = 0;\n\t\t\t\t\t\t\t\t\t//xDispatched = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if ( cLock === \"X\" || !cLock && Math.abs(dX * .5) > Math.abs(dY) ) {\n\t\t\t\t\t\t\t\t\tcLock = \"X\";\n\t\t\t\t\t\t\t\t\tdY    = 0;\n\t\t\t\t\t\t\t\t\t//yDispatched = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\t\tpTweener = parents[i];\n\t\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\t\tif ( pTweener.__isTweener ) {\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tx = xAxis && pTweener.axes?.[xAxis];\n\t\t\t\t\t\t\t\t\ty = yAxis && pTweener.axes?.[yAxis];\n\t\t\t\t\t\t\t\t\t//console.log(\"drag\", dX, dY, x);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif ( !parentsState[i] ) {\n\t\t\t\t\t\t\t\t\t\tparentsState[i] = { x: x?.scrollPos, y: y?.scrollPos };\n\t\t\t\t\t\t\t\t\t\tx?.inertia?.startMove();\n\t\t\t\t\t\t\t\t\t\ty?.inertia?.startMove();\n\t\t\t\t\t\t\t\t\t\txAxis && !x.inertiaFrame && pTweener.applyInertia(x, xAxis);\n\t\t\t\t\t\t\t\t\t\tyAxis && !y.inertiaFrame && pTweener.applyInertia(y, yAxis);\n\t\t\t\t\t\t\t\t\t\t//console.warn('Draggable::drag:190: ');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif ( x )\n\t\t\t\t\t\t\t\t\t\tdeltaX = dX && (dX / pTweener._.box.x) * (x.scrollableWindow || x.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\tif ( y )\n\t\t\t\t\t\t\t\t\t\tdeltaY = dY && (dY / pTweener._.box.y) * (y.scrollableWindow || y.scrollableArea) || 0;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t//console.log('Draggable::drag:178: ', parentsState[i].x + deltaX,\n\t\t\t\t\t\t\t\t\t// x?.inertia?._.max, x?.inertia?.isInbound(parentsState[i].x + deltaX));\n\t\t\t\t\t\t\t\t\tif ( !xDispatched && deltaX && x?.inertia?.isInbound(parentsState[i].x + deltaX)\n\t\t\t\t\t\t\t\t\t\t&& (pTweener.componentShouldScroll(xAxis, deltaX)) ) {\n\t\t\t\t\t\t\t\t\t\tx.inertia.hold(parentsState[i].x + deltaX);\n\t\t\t\t\t\t\t\t\t\txDispatched = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//console.log(\"scrollY\", yDispatched, y?.inertia?.isInbound(parentsState[i].y + deltaY), parentsState[i].y + deltaY);\n\t\t\t\t\t\t\t\t\tif ( !yDispatched && deltaY && y?.inertia?.isInbound(parentsState[i].y + deltaY)\n\t\t\t\t\t\t\t\t\t\t&& (pTweener.componentShouldScroll(yAxis, deltaY)) ) {\n\t\t\t\t\t\t\t\t\t\ty.inertia.hold(parentsState[i].y + deltaY);\n\t\t\t\t\t\t\t\t\t\t//console.log('Draggable::drag:190: ', parentsState[i].y,deltaY);\n\t\t\t\t\t\t\t\t\t\tyDispatched = true;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( yDispatched && xDispatched ) {\n\t\t\t\t\t\t\t\t//e.stopPropagation();\n\t\t\t\t\t\t\t\t//e.cancelable && e.preventDefault();\n\t\t\t\t\t\t\t\t//return;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//dX = 0;\n\t\t\t\t\t\t\t//dY = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t,\n\t\t\t\t\t'dropped': ( e, touch, descr ) => {\n\t\t\t\t\t\tlet pTweener,\n\t\t\t\t\t\t    x, deltaX, xDispatched, vX,\n\t\t\t\t\t\t    y, deltaY, yDispatched, vY,\n\t\t\t\t\t\t    cState, i;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcLock = undefined;\n\t\t\t\t\t\t//lastStartTm                     = undefined;\n\t\t\t\t\t\t//document.body.style.userSelect  = '';\n\t\t\t\t\t\t//document.body.style.touchAction = '';\n\t\t\t\t\t\tfor ( i = 0; i < parents.length; i++ ) {\n\t\t\t\t\t\t\tpTweener = parents[i];\n\t\t\t\t\t\t\t// react comp with tweener support\n\t\t\t\t\t\t\tif ( pTweener.__isTweener && parentsState[i] ) {\n\t\t\t\t\t\t\t\t//console.log('Draggable::dropped:228: ', pTweener._getAxis(xAxis)?.inertia);\n\t\t\t\t\t\t\t\tpTweener.axes?.[xAxis]?.inertia?.release();\n\t\t\t\t\t\t\t\tpTweener.axes?.[yAxis]?.inertia?.release();\n\t\t\t\t\t\t\t\t//pTweener._updateNodeInertia()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//else if ( is.element(tweener) ) {\n\t\t\t\t\t\t\t//\tcState = parentsState[i];\n\t\t\t\t\t\t\t//\tif ( cState ) {\n\t\t\t\t\t\t\t//\t\tcState.inertia.x.release();\n\t\t\t\t\t\t\t//\t\tcState.inertia.y.release();\n\t\t\t\t\t\t\t//\t}\n\t\t\t\t\t\t\t//}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( lastStartTm && !((lastStartTm > Date.now() - _.options.maxClickTm) && Math.abs(dY)\n\t\t\t\t\t\t\t< _.options.maxClickOffset && Math.abs(dX) < _.options.maxClickOffset) )// skip tap\n\t\t\t\t\t\t// &\n\t\t\t\t\t\t// click\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\te.cancelable && e.preventDefault();\n\t\t\t\t\t\t\t//console.log(\"prevented\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t\t//return;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//else {\n\t\t\t\t\t\t//console.log(\"not prevented\", Math.abs(dX), Math.abs(dY))\n\t\t\t\t\t\t//}\n\t\t\t\t\t\t//lastStartTm = 0;\n\t\t\t\t\t\tparents = parentsState = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tnull,\n\t\t\t\t_.options.enableMouseDrag\n\t\t\t)\n\t\t\tthis._.doRegister = !!rootNode;\n\t\t}\n\t\telse {\n\t\t\tthis._.doRegister = true;\n\t\t}\n\t}\n\t\n\tgetProps() {\n\t\tlet props = this.props;\n\t\tprops     = { ...props };\n\t\tdelete props.Comp;\n\t\tdelete props.xAxis;\n\t\tdelete props.yAxis;\n\t\tdelete props.tweener;\n\t\tdelete props.forwardedRef;\n\t\treturn props;\n\t}\n\t\n\trender() {\n\t\tlet {\n\t\t\t    children,\n\t\t\t    Comp,\n\t\t\t    forwardedRef,\n\t\t\t    items = [],\n\t\t    } = this.props;\n\t\tif ( forwardedRef ) {\n\t\t\t//this.root =  forwardedRef;\n\t\t}\n\t\treturn <Comp {...this.getProps()} ref={this.root}>{children}</Comp>;\n\t}\n}\nDraggable.div = ( props ) => {\n\treturn <Draggable {...props}/>;\n}","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2019. Wise Wild Web\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\nimport React from \"react\";\r\nimport TweenerContext from \"../comps/TweenerContext\";\r\n\r\nexport default ()=>{\r\n\treturn React.useContext(TweenerContext)\r\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is from \"is\";\n\nexport const re_cssValueWithUnit = new RegExp(\n\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t['box', 'bz', 'bh', 'bw', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t+ \")\"\n);\n\n/**\n * add any css val with it unit ( todo: optims&use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssAdd( val1, val2, ...argz ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\tif ( !is.array(val2) )\n\t\tval2 = [val2];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    units2             = val2.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 0;\n\t\tremap[units1[i][2]] += parseFloat(units1[i][1]);\n\t\ti++;\n\t}\n\ti = 0;\n\twhile ( i < units2.length ) {\n\t\tremap[units2[i][2]] = remap[units2[i][2]] || 0;\n\t\tremap[units2[i][2]] += parseFloat(units2[i][1]);\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn argz.length ? cssAdd(result, ...argz) : result;\n}\n\n/**\n * Multiply any css val with it unit ( todo: optims & use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssMult( val1, val ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 1;\n\t\tremap[units1[i][2]] = parseFloat(units1[i][1]) * val;\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn result;\n}\n\nexport function offset( items, start = 0 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom: item.from + start\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function scale( items, duration = 0, withOffset ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\t\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\titems = items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom    : (item.from / iDuration) * duration,\n\t\t\t\tduration: (item.duration / iDuration) * duration\n\t\t\t}\n\t\t)\n\t)\n\treturn withOffset ? offset(items, withOffset) : items\n}\n\nfunction inverseValues( v ) {\n\tif ( is.number(v) )\n\t\treturn -v;\n\tif ( is.object(v) )\n\t\treturn Object.keys(v).reduce(( h, key ) => (h[key] = inverseValues(v[key]), h), {});\n\tif ( is.array(v) )\n\t\treturn v.map(( item ) => (inverseValues(item)));\n\t\n\tlet values = v.split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig);\n\t\n\treturn values.map(\n\t\t( val, i ) => (i % 2 ? -parseFloat(val) : val)\n\t).join(\"\");\n}\n\nexport function reverse( items ) {\n\titems         = is.array(items) ? items : items && [items] || items;\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\treturn items.map(\n\t\titem => {\n\t\t\titem =\n\t\t\t\t{\n\t\t\t\t\t...item,\n\t\t\t\t\tfrom: iDuration - (item.from + item.duration),\n\t\t\t\t\t...(item.apply ? { apply: inverseValues(item.apply) } : undefined)\n\t\t\t\t};\n\t\t\treturn item;\n\t\t}\n\t)\n}\n\nconst MultiCssProps = { \"transform\": true, \"filter\": true, \"textShadow\": true, \"boxShadow\": true }\n\nexport function addCss( target, ...sources ) {\n\tlet source = sources.shift();\n\t\n\tfor ( const key in source ) {\n\t\tif ( !source.hasOwnProperty(key) )\n\t\t\tcontinue;\n\t\t\n\t\tif ( MultiCssProps[key] ) {\n\t\t\tif ( !target[key] ) {\n\t\t\t\ttarget[key] = [];\n\t\t\t}\n\t\t\tif ( !is.array(source[key]) ) {\n\t\t\t\taddCss(target[key], [source[key]]);\n\t\t\t}\n\t\t\telse addCss(target[key], source[key]);\n\t\t}\n\t\telse {\n\t\t\t// adding units\n\t\t\tif ( is.array(source[key]) ) {\n\t\t\t\tif ( !target[key] ) {\n\t\t\t\t\ttarget[key] = [];\n\t\t\t\t}\n\t\t\t\tif ( !is.array(target[key]) ) {\n\t\t\t\t\ttarget[key] = [...source[key], target[key]];\n\t\t\t\t}\n\t\t\t\telse target[key].push(...source[key]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( !target[key] ) {\n\t\t\t\t\tif ( !is.object(source[key]) ) {\n\t\t\t\t\t\ttarget[key] = source[key];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttarget[key] = { ...source[key] };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( is.object(target[key]) && is.object(source[key]) ) {\n\t\t\t\t\taddCss(target[key], source[key]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//else target[key].push(...source[key]);\n\t\t\t\t\ttarget[key] = addAllType(target[key], source[key])\n\t\t\t\t\t//console.log(key, target[key])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\treturn sources.length && addCss(target, ...sources) || target;\n}\n\nfunction addAllType( v1, v2 ) {\n\tif ( !v1 )\n\t\treturn v2;\n\tif ( !v2 )\n\t\treturn v1;\n\tlet values1 = ('' + v1).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    values2 = ('' + v2).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    r       = values1.map(\n\t\t    ( val, i ) => (i % 2 ? parseFloat(val) + parseFloat(values2[i] || 0) : val)\n\t    ).filter(i => (i !== ''));\n\t\n\treturn r.length === 1 ? parseInt(r[0]) : r.join(\"\")\n}\n\nexport function extractCss( items, inverse ) {\n\tlet css = {};\n\titems   = is.array(items) ? items : items && [items] || items;\n\titems.forEach(\n\t\titem => {\n\t\t\taddCss(css, item.apply)\n\t\t}\n\t);\n\tif ( inverse )\n\t\tcss = inverseValues(css);\n\t\n\t\n\t//if ( inverse && css.hasOwnProperty('opacity') )\n\t//\tcss.opacity -= 1;\n\treturn css;\n}\n\nexport function target( items, target ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\ttarget\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function shiftTransforms( items, shift = 1 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => {\n\t\t\tlet t = item.apply && item.apply.transform;\n\t\t\tif ( t ) {\n\t\t\t\tt = is.array(t) ? t : [t];\n\t\t\t\tfor ( let i = 0; i < shift; i++ )\n\t\t\t\t\tt.unshift({});\n\t\t\t\t\n\t\t\t\titem = { ...item, apply: { ...item.apply, transform: t } };\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t)\n}","/* This is a virtual file generated by layer-pack */\nlet req, _exports = {}, walknSetExport=require('layer-pack/etc/utils/indexUtils.js').walknSetExport;\nconst _react_voodoo_utils_css_demux_filter_js = require(\"react-voodoo/utils/css/demux/filter.js\");\nwalknSetExport(_exports, \"filter\", _react_voodoo_utils_css_demux_filter_js);\nconst _react_voodoo_utils_css_demux_boxShadow_js = require(\"react-voodoo/utils/css/demux/boxShadow.js\");\nwalknSetExport(_exports, \"boxShadow\", _react_voodoo_utils_css_demux_boxShadow_js);\nconst _react_voodoo_utils_css_demux_transform_js = require(\"react-voodoo/utils/css/demux/transform.js\");\nwalknSetExport(_exports, \"transform\", _react_voodoo_utils_css_demux_transform_js);\nconst _react_voodoo_utils_css_demux_textShadow_js = require(\"react-voodoo/utils/css/demux/textShadow.js\");\nwalknSetExport(_exports, \"textShadow\", _react_voodoo_utils_css_demux_textShadow_js);\nconst _react_voodoo_utils_css_demux_backgroundColor_js = require(\"react-voodoo/utils/css/demux/backgroundColor.js\");\nwalknSetExport(_exports, \"backgroundColor\", _react_voodoo_utils_css_demux_backgroundColor_js);\n\nexport const backgroundColor = _exports.backgroundColor;\n\nexport const boxShadow = _exports.boxShadow;\n\nexport const filter = _exports.filter;\n\nexport const textShadow = _exports.textShadow;\n\nexport const transform = _exports.transform;\nexport default _exports;","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\nimport {addCss}                                                           from \"../tweenTools\";\nimport {expandShorthandProperty, isShorthandProperty, isValidDeclaration} from \"./cssUtils\";\nimport cssDemuxers                                                        from \"./demux/(*).js\";\n\nimport {int, multi, number, ratio} from \"./demux/typed/(*).js\";\n\nconst cssDemux = {\n\t...cssDemuxers,\n\theight         : number,\n\twidth          : number,\n\ttop            : number,\n\tleft           : number,\n\tright          : number,\n\tbottom         : number,\n\tmarginTop      : number,\n\tmarginLeft     : number,\n\tmarginRight    : number,\n\tmarginBottom   : number,\n\tpaddingTop     : number,\n\tpaddingLeft    : number,\n\tpaddingRight   : number,\n\tpaddingBottom  : number,\n\tborderRadius   : number,\n\ttransformOrigin: multi(2),\n\tzIndex         : int,\n\topacity        : ratio,\n};\n\n\nexport function clearTweenableValue( cssKey, twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tcssDemux[path[0]]\n\t&& cssDemux[path[0]].release(twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues)\n}\n\nexport function muxToCss( tweenable, css, demuxers, data, box ) {\n\tObject.keys(demuxers)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      demuxers[key].demux(key, tweenable, css, data, box)\n\t\t      }\n\t      )\n}\n\nexport function deMuxTween( tween, deMuxedTween, initials, data, demuxers, noPropLock, reOrder ) {\n\tlet fTween = {}, excluded = {};\n\tObject.keys(tween)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      if ( cssDemux[key] )\n\t\t\t\t      fTween[key] = tween[key];\n\t\t\t      else if ( isValidDeclaration(key, tween[key]) ) {\n\t\t\t\t      if ( isShorthandProperty(key) ) {\n\t\t\t\t\t      expandShorthandProperty(key, tween[key], fTween);\n\t\t\t\t      }\n\t\t\t\t      else fTween[key] = tween[key];\n\t\t\t      }\n\t\t\t      else excluded[key] = tween[key];\n\t\t      });\n\t\n\tObject.keys(fTween)\n\t      .forEach(\n\t\t      ( key ) => {\n\t\t\t      if ( cssDemux[key] ) {//key, value, target, data, initials\n\t\t\t\t      (demuxers[key] = cssDemux[key]).mux(key, fTween[key], deMuxedTween, data, initials, noPropLock, reOrder)\n\t\t\t      }\n\t\t\t      else\n\t\t\t\t      (demuxers[key] = number).mux(key, fTween[key], deMuxedTween, data, initials, noPropLock, reOrder)\n\t\t      }\n\t      );\n\treturn excluded;\n}\n\nexport function deMuxLine( tweenLine, initials, data, demuxers, noPropLock ) {\n\tnoPropLock       = noPropLock && {};\n\tlet allPropsById = {},\n\t    twAxis       = tweenLine.reduce(\n\t\t    ( line, tween ) => {\n\t\t\t    let demuxedTween       = {};\n\t\t\t    demuxers[tween.target] = demuxers[tween.target] || {};\n\t\t\t    initials[tween.target] = initials[tween.target] || {};\n\t\t\t    data[tween.target]     = data[tween.target] || {};\n\t\t\t\n\t\t\t    if ( !tween.type || tween.type === \"Tween\" ) {\n\t\t\t\t    !noPropLock && addCss(allPropsById[tween.target] = allPropsById[tween.target] || {}, tween.apply);\n\t\t\t\t    //console.log(\"merged\", tween.apply)\n\t\t\t\t    deMuxTween(tween.apply, demuxedTween, initials[tween.target], data[tween.target], demuxers[tween.target], true);\n\t\t\t\t    line.push(\n\t\t\t\t\t    {\n\t\t\t\t\t\t    ...tween,\n\t\t\t\t\t\t    apply: demuxedTween\n\t\t\t\t\t    });\n\t\t\t    }\n\t\t\t    else line.push({ ...tween });\n\t\t\t    return line\n\t\t    },\n\t\t    []\n\t    );\n\t//console.log(allPropsById)\n\t!noPropLock && Object.keys(allPropsById)\n\t                     .forEach(\n\t\t                     id => deMuxTween(allPropsById[id], {}, {}, data[id], demuxers[id])\n\t                     )\n\t;\n\treturn twAxis;\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport is        from \"is\";\nimport tweenAxis from \"tween-axis\";\n//export default tweenAxis\nconst recyclableTweenAxis = [];\nexport default class CssTweenAxis extends tweenAxis {\n\t\n\tconstructor( cfg, scope ) {\n\t\tif ( recyclableTweenAxis.length ) {\n\t\t\tlet recyled   = recyclableTweenAxis.pop();\n\t\t\trecyled.scope = scope;\n\t\t\tif ( is.array(cfg) ) {\n\t\t\t\trecyled.localLength = 1;\n\t\t\t\trecyled.mount(cfg, scope);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( cfg.Axis )\n\t\t\t\t\trecyled.mount(cfg.Axis, scope);\n\t\t\t}\n\t\t\treturn recyled;\n\t\t}\n\t\tsuper(...arguments)\n\t}\n\t\n\tdestroy() {\n\t\t\n\t\tthis.scope                  = undefined;\n\t\tthis.__marks.length         = 0;\n\t\tthis.__marksLength.length   = 0;\n\t\tthis.__marksKeys.length     = 0;\n\t\tthis.__processors.length    = 0;\n\t\tthis.__config.length        = 0;\n\t\tthis.__activeForks.length   = 0;\n\t\tthis.__activeProcess.length = 0;\n\t\t\n\t\tthis.__activeProcess.length = 0;\n\t\tthis.__outgoing.length      = 0;\n\t\tthis.__incoming.length      = 0;\n\t\tthis.__cPos                 = 0;\n\t\tthis.duration               = 0;\n\t\tthis.__cIndex               = 0;\n\t\tthis.__cMaxKey              = 1;\n\t\trecyclableTweenAxis.push(this);\n\t}\n}","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst\n\tis       = require('is'),\n\teasingFn = require('d3-ease'),\n\tsignOf   = function sign( x ) {\n\t\treturn typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? x : NaN : NaN;\n\t},\n\tabs      = Math.abs,\n\tfloor    = Math.floor,\n\tround    = Math.round,\n\tmin      = Math.min,\n\tmax      = Math.max,\n\tfloatCut = ( v = 0 ) => v.toFixed(3),\n\t\n\tconsts   = {\n\t\tvelocityResetTm: 150,\n\t\tclickTm        : 250\n\t};\n\n// this is a mess\n\n\n/**\n * Predict the inertia\n * @param _\n */\nexport function applyInertia( _ ) {\n\tlet velSign = signOf(_.lastVelocity);\n\t\n\tif ( _.disabled ) {\n\t\t// calc momentum distance...\n\t\t// get nb loop needed to get vel < .05\n\t\t_.loopsTarget = 0;\n\t\t\n\t\t// get velocity sum basing on nb loops needed\n\t\t_.loopsVelSum    = 0;\n\t\t// deduce real dist of momentum\n\t\t_.targetDist     = 0;\n\t\t_.targetDuration = 0;\n\t}\n\telse {\n\t\t// get nb loop needed to get vel < .05\n\t\t_.loopsTarget = floor(Math.log(.05 / abs(_.lastVelocity)) / Math.log(.9));\n\t\t\n\t\t// get velocity sum basing on nb loops needed\n\t\t_.loopsVelSum    = (Math.pow(.9, _.loopsTarget) - abs(_.lastVelocity)) / (.9 - 1);\n\t\t// deduce real dist of momentum\n\t\t_.targetDist     = (_.loopsVelSum * _.refFPS * velSign) / 1000 || 0;\n\t\t_.targetDuration = abs(_.loopsTarget * _.refFPS * velSign) || 0;\n\t}\n\t\n}\n\nconst inertiaByNode = {\n\tnodes  : [],\n\tinertia: []\n};\n/**\n * Main inertia class\n * @class Caipi slideshow\n * @type {module.exports}\n */\nexport default class Inertia {\n\tstatic config = {\n\t\tbounds      : true,\n\t\tsnapToBounds: true\n\t};\n\t\n\tconstructor( opt ) {\n\t\tlet _  = this._ = {};\n\t\t_.conf = {\n\t\t\t...this.constructor.config,\n\t\t\t...opt,\n\t\t\t//get lastInertiaPos() {\n\t\t\t//\treturn this._lastInertiaPos\n\t\t\t//},\n\t\t\t//set lastInertiaPos( v ) {\n\t\t\t//\tif ( v === NaN )\n\t\t\t//\t\tdebugger\n\t\t\t//\tthis._lastInertiaPos = v;\n\t\t\t//}\n\t\t};\n\t\t\n\t\tthis.active           = false;\n\t\t_.pos                 = opt.value || 0;\n\t\t_.refFPS              = 16;\n\t\t_.min                 = opt.min || 0;\n\t\t_.max                 = opt.max || 0;\n\t\t_.currentStop         = 0;\n\t\t_.lastInertiaPos      = 0;\n\t\t_.stops               = _.conf.stops;\n\t\t_.disabled            = _.conf.disabled;\n\t\t_.wayPoints           = _.conf.wayPoints;\n\t\t_.inertiaFn           = easingFn.easePolyOut;\n\t\t_.targetWayPointIndex = 0;\n\t\t\n\t\tthis._detectCurrentSnap()\n\t\t\n\t}\n\t\n\tupdate( at = Date.now() ) {\n\t\tlet _   = this._, nextValue, loop;\n\t\tlet\n\t\t\tpos = _.inertiaFn((at - _.inertiaStartTm) / _.targetDuration) * _.targetDist;\n\t\t\n\t\tif ( !_.inertia ) {\n\t\t\t//if ( _.conf.shouldLoop ) {\n\t\t\t//\twhile ( (loop = _.conf.shouldLoop(_.pos, 0)) ) {\n\t\t\t//\t\tthis.teleport(loop);\n\t\t\t//\t}\n\t\t\t//}\n\t\t\treturn _.pos;\n\t\t}\n\t\tlet\n\t\t\tdelta        = pos - _.lastInertiaPos;\n\t\t_.lastInertiaPos = pos;\n\t\t\n\t\tif ( (at - _.inertiaStartTm) >= _.targetDuration ) {\n\t\t\t_.inertia        = this.active = false;\n\t\t\t_.lastInertiaPos = delta = 0;\n\t\t\t_.targetDist     = 0;\n\t\t\tif ( _.targetWayPoint ) {\n\t\t\t\tdelta                  = _.targetWayPoint.at - _.pos;\n\t\t\t\t//console.log(\"snap done \", _.targetWayPoint, _.pos + delta);\n\t\t\t\t_.currentWayPoint      = _.targetWayPoint;\n\t\t\t\t_.currentWayPointIndex = _.targetWayPointIndex;\n\t\t\t\t_.targetWayPoint       = null;\n\t\t\t\t_.targetWayPointIndex  = null;\n\t\t\t\t//_.lastSnapTm           = Date.now();\n\t\t\t}\n\t\t\t\n\t\t\tif ( _.conf.onInertiaEnd ) {\n\t\t\t\t_.conf.onInertiaEnd(_.pos, _.currentWayPoint)\n\t\t\t}\n\t\t}\n\t\t\n\t\tdelta     = delta || 0;\n\t\t//console.log(_.pos + delta);\n\t\tnextValue = _.pos + delta;\n\t\t\n\t\tif ( delta && _.conf.shouldLoop ) {\n\t\t\t\n\t\t\twhile ( (loop = _.conf.shouldLoop(nextValue, delta)) ) {\n\t\t\t\t//console.warn(\"loop update\", loop);\n\t\t\t\tnextValue += loop;\n\t\t\t\t//this.teleport(loop);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = nextValue;\n\t\t\n\t\treturn nextValue;\n\t}\n\t\n\tsetPos( pos ) {\n\t\tlet _            = this._, nextValue;\n\t\t_.inertia        = false;\n\t\tthis.active      = false;\n\t\t_.lastInertiaPos = 0;\n\t\t_.targetDist     = 0;\n\t\t_.pos            = pos;\n\t\tif ( _.conf.bounds ) {\n\t\t\t_.pos = max(_.pos, _.min);\n\t\t\t_.pos = min(_.pos, _.max);\n\t\t}\n\t}\n\t\n\tsetWayPoints( wayPoints ) {\n\t\tlet _       = this._, nextValue;\n\t\t_.wayPoints = wayPoints;\n\t\tthis._detectCurrentSnap();\n\t}\n\t\n\tteleport( loopDist ) {\n\t\tlet _ = this._, nextValue;\n\t\tif ( !_.inertia )\n\t\t\treturn _.pos += loopDist;\n\t\t\n\t\t//_.lastInertiaPos += loopDist;\n\t\t_.pos += loopDist\n\t\t//console.log(\"setPos\", _.lastInertiaPos);\n\t}\n\t\n\tdispatch( delta, tm = 500 ) {\n\t\tlet _   = this._,\n\t\t    now = Date.now(),\n\t\t    pos;\n\t\t\n\t\tthis.active = true;\n\t\t\n\t\t// if no inertia has started || if direction has change\n\t\tif ( !_.inertia || signOf(delta) !== signOf(_.targetDist) ) {\n\t\t\t_.inertia        = true;\n\t\t\t_.lastInertiaPos = 0;\n\t\t\t_.inertiaStartTm =\n\t\t\t\t_.inertiaLastTm = now;\n\t\t\t\n\t\t\t_.targetDist     = delta;\n\t\t\t_.targetDuration = tm;\n\t\t}\n\t\telse {\n\t\t\t//_.inertiaStartTm =\n\t\t\t//_.inertiaLastTm = now;\n\t\t\t//_.lastInertiaPos = 0;\n\t\t\t_.targetDist += delta;\n\t\t\t_.targetDuration += tm / 2;\n\t\t}\n\t\t//\n\t\t//if ( _.conf.maxJump ) {\n\t\t//\n\t\t//}\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( (_.pos + _.targetDist) > _.max ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t\telse if ( (_.pos + _.targetDist) < _.min ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.min - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t}\n\t\tthis._doSnap(signOf(delta), 750)\n\t}\n\t\n\t\n\t_detectCurrentSnap() {\n\t\tlet _   = this._,\n\t\t    pos = _.pos,\n\t\t    i;\n\t\t\n\t\tif ( _.wayPoints && _.wayPoints.length ) {\n\t\t\tfor ( i = 0; i < _.wayPoints.length; i++ )\n\t\t\t\tif ( floatCut(_.wayPoints[i].at) === floatCut(pos) ) {\n\t\t\t\t\t_.currentWayPoint      = _.wayPoints[i];\n\t\t\t\t\t_.currentWayPointIndex = i;\n\t\t\t\t\t//console.warn(\"snap set\", i);\n\t\t\t\t\t\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t}\n\t}\n\t\n\t_doSnap( forceSnap, maxDuration = 2000 ) {\n\t\tlet _   = this._,\n\t\t    pos = _.targetDist + (_.pos - (_.lastInertiaPos || 0)),\n\t\t    target,\n\t\t    mid,\n\t\t    i,\n\t\t    i2;\n\t\t\n\t\tif ( _.wayPoints && _.wayPoints.length ) {\n\t\t\tfor ( i = 0; i < _.wayPoints.length; i++ )\n\t\t\t\tif ( _.wayPoints[i].at > pos )\n\t\t\t\t\tbreak;\n\t\t\t\n\t\t\tif ( i === _.wayPoints.length ) {\n\t\t\t\ti--\n\t\t\t}\n\t\t\telse if ( i === 0 ) {\n\t\t\t\ti = 0;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tmid = _.wayPoints[i - 1].at + (_.wayPoints[i].at - _.wayPoints[i - 1].at) / 2;\n\t\t\t\tif ( forceSnap ) forceSnap < 0 && i--;\n\t\t\t\telse if ( pos < mid ) i--;\n\t\t\t}\n\t\t\t\n\t\t\tif ( _.conf.maxJump && is.number(_.currentWayPointIndex) ) {\n\t\t\t\tlet d = (i - _.currentWayPointIndex);\n\t\t\t\t//console.log('Inertia::_doSnap:154: ', i, d);\n\t\t\t\tif ( abs(d) > _.conf.maxJump ) {\n\t\t\t\t\t//console.log('max: ', i, d);\n\t\t\t\t\ti = _.currentWayPointIndex + signOf(d) * _.conf.maxJump;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttarget = _.wayPoints[i].at;\n\t\t\t\n\t\t\tif ( _.conf.willSnap ) {\n\t\t\t\t_.conf.willSnap(i, _.wayPoints[i]);\n\t\t\t}\n\t\t\t\n\t\t\t_.lastInertiaPos      = _.lastInertiaPos || 0;\n\t\t\ttarget                = target - (_.pos - _.lastInertiaPos);\n\t\t\t_.targetDuration      = max(50, min(maxDuration, abs((_.targetDuration / _.targetDist) * target))) || 0;\n\t\t\t//console.log(\"do snap\", i, target, _.targetDist, _.targetDuration);\n\t\t\t_.targetDist          = target;\n\t\t\t_.targetWayPoint      = _.wayPoints[i];\n\t\t\t_.targetWayPointIndex = i;\n\t\t}\n\t\telse {\n\t\t\ttarget = ~~(_.pos - _.lastInertiaPos);\n\t\t\t\n\t\t\tif ( !_.conf.infinite ) {\n\t\t\t\tif ( target > _.max ) {\n\t\t\t\t\ttarget           = _.max - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t\telse if ( target < _.min ) {\n\t\t\t\t\ttarget           = _.min - target;\n\t\t\t\t\t_.targetDuration = min(maxDuration, abs((_.targetDuration / _.targetDist) * target));\n\t\t\t\t\t_.targetDist     = target;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tsetBounds( min, max ) {\n\t\tlet _ = this._;\n\t\t//console.log('Inertia::setBounds:245: ', min, max);\n\t\t_.min = min;\n\t\t_.max = max;\n\t}\n\t\n\tstartMove() {\n\t\tlet _          = this._;\n\t\t_.baseTS       = _.startTS = Date.now() / 1000;\n\t\t_.lastVelocity = _.lastIVelocity = 0;\n\t\t_.lastAccel    = 0;\n\t\t_.posDiff      = 0;\n\t\tthis.active    = true;\n\t\tthis.holding   = true;\n\t\t_.inertia      = false;\n\t}\n\t\n\tisInbound( nextPos ) {\n\t\tlet _     = this._, loop,\n\t\t    delta = _.lastHoldPos !== undefined ? nextPos - _.lastHoldPos : 0,\n\t\t    pos   = (_.targetDist || 0) + (_.pos - (_.lastInertiaPos || 0)) + delta;\n\t\t//if ( _.conf.infinite ) return false;\n\t\t//\n\t\t//if ( _.conf.shouldLoop ) {\n\t\t//\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n\t\t//!(pos >= _.min && pos <= _.max) && console.warn(\"out\", _.pos, pos, delta);\n\t\t//\t\tpos += loop;\n\t\t//\t}\n\t\t//}\n\t\treturn pos >= _.min && pos <= _.max;\n\t}\n\t\n\thold( nextPos ) {\n\t\tlet _     = this._,\n\t\t    delta = _.lastHoldPos !== undefined ? nextPos - _.lastHoldPos : 0,\n\t\t    loop;\n\t\t\n\t\t//_.holding     = true;\n\t\t_.lastHoldPos = nextPos;\n\t\tif ( delta && _.conf.shouldLoop ) {\n\t\t\t//while ( (loop = _.conf.shouldLoop(pos, delta)) ) {\n\t\t\t//\t//console.warn(\"loop\", loop);\n\t\t\t//\tpos += loop;\n\t\t\t//}\n\t\t\twhile ( (loop = _.conf.shouldLoop(_.pos, delta)) ) {\n\t\t\t\t//console.warn(\"loop\", loop);\n\t\t\t\t_.pos += loop;\n\t\t\t}\n\t\t}\n\t\tlet now          = Date.now() / 1000,//e.timeStamp,\n\t\t    sinceLastPos = (now - _.baseTS),\n\t\t    pos          = _.pos + delta,\n\t\t    iVel         = delta / sinceLastPos;\n\t\t\n\t\t//if (is.nan(pos))\n\t\t//\tdebugger\n\t\t//console.log(\"hold\", delta, sinceLastPos);\n\t\t_.lastIVelocity       = iVel;\n\t\t_.lastVelocity        = iVel;\n\t\t_.baseTS              = now;\n\t\t_.targetDist          = 0;\n\t\t_.lastInertiaPos      = 0;\n\t\t// clear snap\n\t\t_.targetWayPoint      = undefined;\n\t\t_.targetWayPointIndex = undefined;\n\t\t\n\t\t\n\t\t\n\t\t//if ( tdiff < 3 ) {\n\t\t//\t// skip/ignore\n\t\t//}\n\t\t//else if (\n\t\t//\t(\n\t\t//\t\t(\n\t\t//\t\t\tiVel <= 0 && _.lastVelocity > 0) ||\n\t\t//\t\t(iVel >= 0 && _.lastVelocity < 0)\n\t\t//\t\t||\n\t\t//\t\tabs(iVel) < abs(_.lastVelocity * 0.2)\n\t\t//\t) &&\n\t\t//\t(now - _.lastDraggingTm) > consts.velocityResetTm\n\t\t//) {\n\t\t//\t_.lastVelocity   = 0;\n\t\t//\t_.lastIVelocity  = 0;\n\t\t//\t_.lastDraggingTm = now;\n\t\t//\t_.baseTS         = _.startTS = now;\n\t\t//\t// console.log('reset');\n\t\t//\t_.refPos.x       = _.pos.x;\n\t\t//\t_.refPos.y       = _.pos.y;\n\t\t//\n\t\t//\t_.lastPos.x = _.pos.x;\n\t\t//\t_.lastPos.y = _.pos.y;\n\t\t//}\n\t\t//else {\n\t\t//\t_.lastDraggingTm = now;\n\t\t//\n\t\t//\tiVel = ((3 * _.lastIVelocity + 5 * iVel) / 8) || 0;\n\t\t//\n\t\t//\t_.lastAccel = (_.lastAccel + (iVel - _.lastVelocity)) / 2;\n\t\t//\n\t\t//\t_.lastVelocity  = (_.posDiff[_.posProperty] && stdiff) ? _.posDiff[_.posProperty] / (stdiff) : 0;\n\t\t//\t_.lastIVelocity = iVel;\n\t\t//\t_.baseTS        = now;\n\t\t//\n\t\t//\t_.lastPos.x = _.pos.x;\n\t\t//\t_.lastPos.y = _.pos.y;\n\t\t//}\n\t\t//\n\t\t\n\t\t\n\t\t\n\t\tif ( _.conf.bounds ) {\n\t\t\tif ( pos > _.max ) {\n\t\t\t\tpos = _.max// + min((pos - _.max) / 10, 10);\n\t\t\t}\n\t\t\telse if ( pos < _.min ) {\n\t\t\t\tpos = _.min// - min((_.min - pos) / 10, 10);\n\t\t\t}\n\t\t}\n\t\t\n\t\t_.pos = pos;\n\t\t\n\t}\n\t\n\trelease() {\n\t\tlet _       = this._,\n\t\t    velSign = signOf(_.lastVelocity);\n\t\t\n\t\tthis.holding = false;\n\t\t\n\t\t// calc momentum distance...\n\t\tapplyInertia(_);\n\t\t\n\t\t_.lastHoldPos = undefined;\n\t\t\n\t\t_.holding = false;\n\t\t\n\t\tif ( _.conf.bounds && _.conf.snapToBounds ) {\n\t\t\tif ( (_.pos + _.targetDist) > _.max ) {\n\t\t\t\t_.targetDist     = _.max - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t\telse if ( (_.pos + _.targetDist) < _.min ) {\n\t\t\t\t\n\t\t\t\t_.targetDist     = _.min - _.pos;\n\t\t\t\t_.targetDuration = abs(_.targetDist * 10);\n\t\t\t}\n\t\t}\n\t\t//else {\n\t\tif ( !_.targetDuration )\n\t\t\t_.targetDuration = 50;\n\t\t\n\t\t//console.log(_);\n\t\tthis.active      = true;\n\t\t_.inertia        = true;\n\t\t_.lastInertiaPos = 0;\n\t\t_.inertiaStartTm =\n\t\t\t_.inertiaLastTm = Date.now();\n\t\t//}\n\t\tthis._doSnap(null, 500)\n\t}\n}\n","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2019. Wise Wild Web\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport * as easingFn                                            from \"d3-ease\";\r\nimport deepEqual                                                from \"fast-deep-equal\";\r\nimport is                                                       from \"is\";\r\nimport React                                                    from \"react\";\r\nimport ReactDom                                                 from \"react-dom\";\r\nimport TweenerContext\r\n                                                                from \"../comps/TweenerContext\";\r\nimport { clearTweenableValue, deMuxLine, deMuxTween, muxToCss } from \"../utils/css\";\r\nimport tweenAxis\r\n                                                                from \"../utils/CssTweenAxis\";\r\nimport domUtils                                                 from \"../utils/dom\";\r\nimport Inertia                                                  from '../utils/inertia';\r\n\r\n/**\r\n * @todo : clean & comments\r\n */\r\n\r\n\r\nlet isBrowserSide           = ( new Function(\"try {return this===window;}catch(e){ return false;}\") )(),\r\n    isArray                 = is.array,\r\n    _live, lastTm, _running = [];\r\n\r\n\r\nconst Runner = {\r\n    run  : function ( tl, ctx, duration, cb ) {\r\n        let apply = ( pos, size ) => tl.go(pos / size, ctx);\r\n        _running.push({ apply, duration, cpos: 0, cb });\r\n        tl.go(0, ctx, true);//reset tl\r\n        \r\n        if ( !_live ) {\r\n            _live  = true;\r\n            lastTm = Date.now();\r\n            // console.log(\"TL runner On\");\r\n            setTimeout(this._tick, 16);\r\n        }\r\n    },\r\n    _tick: function _tick() {\r\n        let i  = 0, o, tm = Date.now(), delta = tm - lastTm;\r\n        lastTm = tm;\r\n        for ( ; i < _running.length; i++ ) {\r\n            _running[ i ].cpos = Math.min(delta + _running[ i ].cpos, _running[ i ].duration);//cpos\r\n            _running[ i ].apply(\r\n                _running[ i ].cpos, _running[ i ].duration\r\n            );\r\n            // console.log(\"TL runner \",_running[i][3]);\r\n            if ( _running[ i ].cpos == _running[ i ].duration ) {\r\n                \r\n                _running[ i ].cb && setTimeout(_running[ i ].cb);\r\n                _running.splice(i, 1), i--;\r\n            }\r\n            \r\n        }\r\n        if ( _running.length )\r\n            setTimeout(_tick, 16);\r\n        else {\r\n            // console.log(\"TL runner Off\");\r\n            _live = false;\r\n        }\r\n    },\r\n};\r\n\r\nexport default class Tweener extends React.Component {\r\n    \r\n    constructor( props ) {\r\n        super(...arguments);\r\n        let _                 = this._ = {\r\n            refs       : {},\r\n            muxByTarget: {},\r\n        };\r\n        _.box                 = {\r\n            x: 100,\r\n            y: 100,\r\n            z: 800\r\n        };\r\n        this.__isTweener      = true;\r\n        _._rafLoop            = this._rafLoop.bind(this);\r\n        _.rootRef             = this.props.forwardedRef || React.createRef();\r\n        _.options             = { enableMouseScroll: true, ...( props.tweenerOptions || {} ) };\r\n        _.tweenRefCSS         = {};\r\n        _.tweenRefs           = {};\r\n        _.tweenRefMaps        = {};\r\n        _.iMapOrigin          = {};\r\n        _.tweenRefInitialData = {};\r\n        _.tweenEnabled        = true;\r\n        _.tweenRefOrigin      = {};\r\n        _.tweenRefOriginCss   = {};\r\n        _.muxDataByTarget     = _.muxDataByTarget || {};\r\n        _.tweenRefDemuxed     = _.tweenRefDemuxed || {};\r\n        _.tweenRefTargets     = _.tweenRefTargets || [];\r\n        _.runningAnims        = _.runningAnims || [];\r\n        \r\n        _.scrollHook    = [];\r\n        _.activeInertia = [];\r\n        isBrowserSide && window.addEventListener(\r\n            \"resize\",\r\n            this._.onResize = ( e ) => {//@todo\r\n                this._updateBox();\r\n                this._updateTweenRefs();\r\n                _.rootRef?.current?.windowDidResize?.(e);\r\n            });\r\n    }\r\n    \r\n    axes = {};\r\n    \r\n    // ------------------------------------------------------------\r\n    // -------------------- TweenRefs utils -----------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    /**\r\n     * Register tweenable element\r\n     * return its current style\r\n     * @param id\r\n     * @param iStyle\r\n     * @param iMap\r\n     * @param pos\r\n     * @param noref\r\n     * @param mapReset\r\n     * @returns {style,ref}\r\n     */\r\n    tweenRef( id, iStyle = {}, iMap = {}, pos, noref, mapReset ) {// ref initial style\r\n        \r\n        \r\n        let _            = this._,\r\n            tweenableMap = {};\r\n        \r\n        let initials = {};\r\n        if ( !_.tweenRefs[ id ] )\r\n            _.tweenRefTargets.push(id);\r\n        \r\n        //debugger\r\n        //console.warn('ref ', id, { ...iMap })\r\n        \r\n        if ( _.tweenRefs[ id ] && (\r\n            mapReset\r\n            || ( _.iMapOrigin[ id ] !== iMap && !deepEqual(iMap, _.iMapOrigin[ id ]) )\r\n            || ( _.tweenRefOriginCss[ id ] !== iStyle && !deepEqual(iStyle, _.tweenRefOriginCss[ id ]) )\r\n        ) ) {\r\n            // hot switch initial values\r\n            //console.warn('ref exist & style is !==', id, iStyle,\r\n            //             _.tweenRefOriginCss[id], mapReset)\r\n            _.iMapOrigin[ id ]        = iMap;\r\n            _.tweenRefOriginCss[ id ] = iStyle;\r\n            iStyle                    = iStyle || {};\r\n            iMap                      = iMap || {};\r\n            \r\n            \r\n            iStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[ id ], _.muxByTarget[ id ], false, true) };\r\n            \r\n            //console.log(\"update ref\", id)\r\n            \r\n            // minus initial values\r\n            Object.keys(_.tweenRefOrigin[ id ])\r\n                  .forEach(\r\n                      key => ( _.tweenRefMaps[ id ][ key ] -= _.tweenRefOrigin[ id ][ key ] )\r\n                  );\r\n            // set defaults values in case of\r\n            Object.keys(initials)\r\n                  .forEach(\r\n                      key => ( _.tweenRefMaps[ id ][ key ] = is.number(_.tweenRefMaps[ id ][ key ])\r\n                                                             ? _.tweenRefMaps[ id ][ key ]\r\n                                                             : initials[ key ] )\r\n                  );\r\n            // add new initial values\r\n            Object.keys(tweenableMap)\r\n                  .forEach(\r\n                      key => ( _.tweenRefMaps[ id ][ key ] += tweenableMap[ key ] )\r\n                  );\r\n            \r\n            Object.keys(_.tweenRefOrigin[ id ])// unset\r\n                  .forEach(\r\n                      key => {\r\n                          clearTweenableValue(key, key, _.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxDataByTarget[ id ], _.muxByTarget[ id ])\r\n                      }\r\n                  );\r\n            _.tweenRefOrigin[ id ] = { ...tweenableMap };\r\n            \r\n            muxToCss(_.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxByTarget[ id ], _.muxDataByTarget[ id ], _.box);\r\n            this._updateTweenRef(id, true);\r\n        }\r\n        else if ( !_.tweenRefs[ id ] ) {\r\n            //console.log(\"init ref\", id)\r\n            \r\n            _.iMapOrigin[ id ] = iMap;\r\n            iStyle             = iStyle || {};\r\n            iMap               = iMap || {};\r\n            \r\n            _.tweenRefs[ id ]       = true;\r\n            _.muxByTarget[ id ]     = _.muxByTarget[ id ] || {};\r\n            _.muxDataByTarget[ id ] = _.muxDataByTarget[ id ] || {};\r\n            \r\n            _.tweenRefOriginCss[ id ] = iStyle;\r\n            \r\n            _.tweenRefMaps[ id ] = _.tweenRefMaps[ id ] || {};\r\n            if ( _.tweenRefOrigin[ id ] ) {\r\n                //debugger\r\n                // minus initial values from axis pre init\r\n                //Object.keys(_.tweenRefOrigin[id])\r\n                //      .forEach(\r\n                //\t      key => (_.tweenRefMaps[id][key] -= _.tweenRefOrigin[id][key])\r\n                //      );\r\n                iStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[ id ], _.muxByTarget[ id ], false, true) };\r\n                \r\n                //// set defaults values in case of\r\n                Object.keys(initials)\r\n                      .forEach(\r\n                          key => ( _.tweenRefMaps[ id ][ key ] = is.number(_.tweenRefMaps[ id ][ key ])\r\n                                                                 ? _.tweenRefMaps[ id ][ key ] - initials[ key ]\r\n                                                                 : 0 )\r\n                      );\r\n                //// add new initial values\r\n                Object.keys(tweenableMap)\r\n                      .forEach(\r\n                          key => ( _.tweenRefMaps[ id ][ key ] += tweenableMap[ key ] )\r\n                      );\r\n            }\r\n            else {\r\n                iStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[ id ], _.muxByTarget[ id ]) };\r\n                \r\n                \r\n                // init / reset or get the tweenable view\r\n                tweenableMap = Object.assign({}, initials, tweenableMap || {});\r\n                \r\n                // set defaults values in case of\r\n                // add new initial values\r\n                Object.keys(tweenableMap)\r\n                      .forEach(\r\n                          key => ( _.tweenRefMaps[ id ][ key ] = ( _.tweenRefMaps[ id ][ key ] || 0 ) + tweenableMap[ key ] )\r\n                      );\r\n            }\r\n            _.tweenRefOrigin[ id ] = { ...tweenableMap };\r\n            _.tweenRefCSS[ id ]    = iStyle;\r\n            tweenableMap           = _.tweenRefMaps[ id ];\r\n            muxToCss(tweenableMap, iStyle, _.muxByTarget[ id ], _.muxDataByTarget[ id ], _.box);\r\n            \r\n        }\r\n        else {\r\n            //console.log(\"maj ref\", id)\r\n            \r\n            muxToCss(_.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxByTarget[ id ], _.muxDataByTarget[ id ], _.box);\r\n        }\r\n        //console.log('tweenRef::tweenRef:519: ', id, { ..._.muxDataByTarget[id] }, {\r\n        // ..._.tweenRefCSS[id] });\r\n        if ( noref )\r\n            return {\r\n                style: { ..._.tweenRefCSS[ id ] }\r\n            };\r\n        else\r\n            return {\r\n                style: { ..._.tweenRefCSS[ id ] },\r\n                ref  : node => ( _.refs[ id ] = node )\r\n            };\r\n    }\r\n    \r\n    /**\r\n     * Delete tweenable element\r\n     * @param id\r\n     */\r\n    rmTweenRef( id ) {\r\n        if ( this._.tweenRefs[ id ] ) {\r\n            this._.tweenRefTargets.splice(this._.tweenRefTargets.indexOf(id), 1);\r\n            delete this._.tweenRefs[ id ];\r\n            delete this._.muxByTarget[ id ];\r\n            delete this._.muxDataByTarget[ id ];\r\n            delete this._.iMapOrigin[ id ];\r\n            delete this._.tweenRefOrigin[ id ];\r\n            delete this._.tweenRefCSS[ id ];\r\n            delete this._.tweenRefMaps[ id ];\r\n            delete this._.refs[ id ];\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Reset tweenRefs\r\n     * @param targets\r\n     */\r\n    resetTweenable( ...targets ) {\r\n        let _ = this._;\r\n        targets.forEach(\r\n            ( t ) => {\r\n                this.tweenRef(t, _.tweenRefOriginCss[ t ], _.iMapOrigin[ t ], null, null, true)\r\n            }\r\n        );\r\n        this._updateTweenRefs();\r\n    }\r\n    \r\n    /**\r\n     * Update tweenRefs style ( anims & axis will still update the ref )\r\n     * @param target\r\n     * @param style\r\n     * @param postPone\r\n     * @returns {*}\r\n     */\r\n    updateRefStyle( target, style, postPone ) {\r\n        let _ = this._, initials = {}, pureCss;\r\n        if ( isArray(target) && isArray(style) )\r\n            return target.map(( m, i ) => this.updateRefStyle(m, style[ i ], postPone));\r\n        if ( isArray(target) )\r\n            return target.map(( m ) => this.updateRefStyle(m, style, postPone));\r\n        \r\n        //if ( !this._.tweenRefCSS )\r\n        pureCss = deMuxTween(style, _.tweenRefMaps[ target ], initials, _.muxDataByTarget[ target ], _.muxByTarget[ target ]);\r\n        Object.assign(_.tweenRefCSS[ target ], pureCss);\r\n        Object.assign(_.tweenRefOriginCss[ target ], pureCss);\r\n        muxToCss(_.tweenRefMaps[ target ], _.tweenRefCSS[ target ], _.muxByTarget[ target ], _.muxDataByTarget[ target ], _.box);\r\n        this._updateTweenRef(target, true);\r\n    }\r\n    \r\n    /**\r\n     * Retrieve the tween ref dom node\r\n     * @param id\r\n     * @returns {*}\r\n     */\r\n    getTweenableRef( id ) {\r\n        return this._.refs[ id ] && ReactDom.findDOMNode(this._.refs[ id ]);\r\n    }\r\n    \r\n    /**\r\n     * Get the root dom node of the tweener element\r\n     * @returns {*}\r\n     */\r\n    getRootNode() {\r\n        return this._.rootRef && this.getTweenableRef(this._.rootRef) || ReactDom.findDOMNode(this);\r\n    }\r\n    \r\n    // ------------------------------------------------------------\r\n    // -------------------- Pushable anims ------------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    /**\r\n     * Push anims\r\n     * @param anim\r\n     * @param then\r\n     * @param skipInit\r\n     * @returns {tweenAxis}\r\n     */\r\n    pushAnim( anim, then, keepResults = true ) {\r\n        let sl,\r\n            initial,\r\n            _        = this._,\r\n            initials = {},\r\n            fail;\r\n        \r\n        if ( isArray(anim) ) {\r\n            sl = anim;\r\n        }\r\n        else {\r\n            sl      = anim.anims;\r\n            initial = anim.initial;\r\n        }\r\n        \r\n        if ( !( sl instanceof tweenAxis ) ) {\r\n            // tweenLine, initials, data, demuxers\r\n            sl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\r\n            sl = new tweenAxis(sl, this._.tweenRefMaps);\r\n            Object.keys(initials)\r\n                  .forEach(\r\n                      id => (\r\n                          this._.tweenRefMaps[ id ] &&\r\n                          Object.assign(this._.tweenRefMaps[ id ], {\r\n                              ...initials[ id ],\r\n                              ...this._.tweenRefMaps[ id ]\r\n                          }) || ( fail = console.warn(\"react-voodoo : Can't find tween target \", id, \" in \", Tweener.displayName) || true )\r\n                      )\r\n                  )\r\n        }\r\n        if ( fail )\r\n            return;\r\n        \r\n        \r\n        return new Promise(\r\n            resolve => {\r\n                \r\n                // start timer launch @todo\r\n                sl.run(this._.tweenRefMaps, () => {\r\n                    let i = this._.runningAnims.indexOf(sl);\r\n                    if ( i != -1 )\r\n                        this._.runningAnims.splice(i, 1);\r\n                    //console.log( _.muxDataByTarget)\r\n                    Object.keys(initials)// unset\r\n                          .forEach(\r\n                              id => {\r\n                                  Object.keys(initials[ id ])// unset\r\n                                        .forEach(\r\n                                            rkey => {\r\n                                                // todo\r\n                                                clearTweenableValue(rkey, rkey, _.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxDataByTarget[ id ], _.muxByTarget[ id ], keepResults)\r\n                                            })\r\n                              });\r\n                    sl.destroy();\r\n                    resolve(sl);\r\n                });\r\n                \r\n                this._.runningAnims.push(sl);\r\n                \r\n                if ( !this._.live ) {\r\n                    this._.live = true;\r\n                    requestAnimationFrame(this._._rafLoop = this._._rafLoop || this._rafLoop.bind(this));\r\n                }\r\n            }\r\n        ).then(sl => ( then && then(sl) ));\r\n        \r\n    }\r\n    \r\n    \r\n    /**\r\n     * Update tweenRef raw tweened values\r\n     * @param id\r\n     * @param map\r\n     * @param reset\r\n     */\r\n    applyTweenState( id, map, reset ) {\r\n        let tmap = {}, initials = {};\r\n        deMuxTween(map, tmap, initials, this._.muxDataByTarget[ id ], this._.muxByTarget[ id ], true)\r\n        Object.keys(tmap).map(\r\n            ( p ) => this._.tweenRefMaps[ id ][ p ] = ( !reset && this._.tweenRefMaps[ id ][ p ] || initials[ p ] ) + tmap[ p ]\r\n        );\r\n    }\r\n    \r\n    // ------------------------------------------------------------\r\n    // ------------------ Scrollable axes -------------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    /**\r\n     * Will init / update a scrollable axis\r\n     * @param axe\r\n     * @param _inertia\r\n     * @param _scrollableArea\r\n     * @param _scrollableBounds\r\n     * @param _scrollableWindow\r\n     * @param defaultPosition\r\n     * @param scrollFirst\r\n     * @param reset\r\n     */\r\n    initAxis( axe, {\r\n        inertia         : _inertia,\r\n        scrollableArea  : _scrollableArea = 0,\r\n        scrollableBounds: _scrollableBounds,\r\n        scrollableWindow: _scrollableWindow,\r\n        defaultPosition,\r\n        scrollFirst\r\n    }, reset ) {\r\n        \r\n        \r\n        let _                = this._,\r\n            dim              = this.axes[ axe ],\r\n            scrollableBounds = _scrollableBounds,\r\n            scrollPos        = !reset && dim\r\n                               ? dim.scrollPos\r\n                               : defaultPosition || scrollableBounds && scrollableBounds.min || 0,\r\n            scrollableArea   = Math.max(dim && dim.scrollableArea || 0, _scrollableArea),\r\n            scrollableWindow = Math.max(dim && dim.scrollableWindow || 0, _scrollableWindow),\r\n            targetPos        = dim ? dim.targetPos : scrollPos,\r\n            inertia          = (\r\n                dim ? dim.inertia : new Inertia({// todo mk pure\r\n                                                    disabled: !_inertia,\r\n                                                    ...( _inertia || {} ),\r\n                                                    value   : scrollPos\r\n                                                }) ),\r\n            nextDescr        = {\r\n                //...(_inertia || {}),\r\n                scrollFirst,\r\n                tweenAxis: dim && dim.tweenAxis || [],\r\n                scrollPos,\r\n                targetPos,\r\n                inertia,\r\n                scrollableWindow,\r\n                scrollableBounds,\r\n                scrollableArea\r\n            };\r\n        \r\n        this.axes[ axe ] = nextDescr;\r\n        !_inertia && ( inertia._.disabled = true );\r\n        ( _inertia ) && inertia && ( inertia._.wayPoints = _inertia.wayPoints );\r\n        ( _inertia ) && inertia && !inertia.active && ( inertia._.pos = scrollPos );\r\n        if ( inertia && scrollableBounds )\r\n            inertia.setBounds?.(scrollableBounds.min, scrollableBounds.max);\r\n        else\r\n            inertia && inertia.setBounds?.(0, scrollableArea)\r\n    }\r\n    \r\n    _getAxis( axe = \"scrollY\" ) {\r\n        let _ = this._;\r\n        \r\n        this.axes[ axe ] = this.axes[ axe ] || {\r\n            tweenAxis       : [],\r\n            scrollPos       : _.options.initialScrollPos && _.options.initialScrollPos[ axe ] || 0,\r\n            targetPos       : 0,\r\n            scrollableWindow: 0,\r\n            scrollableArea  : 0,\r\n            inertia         : new Inertia({\r\n                                              value: _.options.initialScrollPos && _.options.initialScrollPos[ axe ] || 0,\r\n                                              ...( _.options.axes && _.options.axes[ axe ] && _.options.axes[ axe ].inertia || {} )\r\n                                          }),\r\n        };\r\n        \r\n        return this.axes[ axe ];\r\n    }\r\n    \r\n    /**\r\n     * Return axis infos\r\n     */\r\n    getAxisState( axe ) {\r\n        let _ = this._, state = {};\r\n        this.axes && Object.keys(this.axes)\r\n                           .forEach(\r\n                               axe => ( state[ axe ] = this.axes[ axe ].targetPos || this.axes[ axe ].scrollPos )\r\n                           );\r\n        return state;\r\n    }\r\n    \r\n    getScrollPos( axis = \"scrollY\" ) {\r\n        let _ = this._, state = {};\r\n        return this.axes[ axis ]\r\n               ? this.axes[ axis ].targetPos || this.axes[ axis ].scrollPos\r\n               : 0\r\n    }\r\n    \r\n    /**\r\n     * Do scroll an axis\r\n     * @param newPos\r\n     * @param ms\r\n     * @param axe\r\n     * @param ease\r\n     * @returns {Promise<any | never>}\r\n     */\r\n    scrollTo( newPos, ms = 0, axe = \"scrollY\", ease ) {\r\n        let _ = this._;\r\n        return new Promise(\r\n            ( ( resolve, reject ) => {\r\n                if ( this.axes && this.axes[ axe ] ) {\r\n                    let oldPos = this.axes[ axe ].targetPos,\r\n                        setPos = pos => {\r\n                            //console.log('TweenableComp::setPos:514: ',  newPos,pos, ms,\r\n                            // axe);\r\n                            pos                        = ( ~~( pos * 10000 ) ) / 10000;\r\n                            this.axes[ axe ].targetPos = this.axes[ axe ].scrollPos = pos;\r\n                        \r\n                            this.axes?.[ axe ]?.inertia?.setPos(pos);\r\n                            //this.axes[axe].inertia._doSnap()\r\n                            if ( ~~pos !== oldPos )\r\n                                _.rootRef?.current?.componentDidScroll?.(~~pos, axe);\r\n                            this._updateTweenRefs()\r\n                        };\r\n                    \r\n                    newPos = Math.max(0, newPos);\r\n                    newPos = Math.min(newPos, this.axes[ axe ].scrollableArea || 0);\r\n                    \r\n                    this.axes[ axe ].targetPos = newPos;\r\n                    \r\n                    if ( !ms ) {\r\n                        this.axes[ axe ].tweenAxis.forEach(\r\n                            sl => sl.goTo(newPos, _.tweenRefMaps)\r\n                        );\r\n                        setPos(newPos);\r\n                        resolve()\r\n                    }\r\n                    else {\r\n                        this._runScrollGoTo(axe, newPos, ms, easingFn[ ease ], setPos, resolve)\r\n                    }\r\n                    \r\n                    if ( !_.live ) {\r\n                        _.live = true;\r\n                        requestAnimationFrame(_._rafLoop);\r\n                    }\r\n                }\r\n            } )).then(\r\n            p => {\r\n                this.axes?.[ axe ]?.inertia?._detectCurrentSnap();\r\n            }\r\n        )\r\n    }\r\n    \r\n    /**\r\n     * Add scrollable tween axis (scrollable anims) to a global axis\r\n     * @param anim\r\n     * @param axe\r\n     * @param size\r\n     * @returns {tweenAxis}\r\n     */\r\n    addScrollableAnim( anim, axe = \"scrollY\", size ) {\r\n        let sl,\r\n            _        = this._,\r\n            initials = {},\r\n            dim      = this._getAxis(axe);\r\n        \r\n        if ( isArray(anim) ) {\r\n            sl = anim;\r\n        }\r\n        else {\r\n            sl   = anim.anims;\r\n            size = anim.length;\r\n        }\r\n        \r\n        //console.warn(\"add scrollable\")\r\n        if ( !( sl instanceof tweenAxis ) ) {\r\n            sl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\r\n            \r\n            sl          = new tweenAxis(sl, _.tweenRefMaps);\r\n            sl.initials = initials;\r\n            \r\n            Object.keys(initials)\r\n                  .forEach(\r\n                      id => {\r\n                          _.tweenRefOrigin[ id ] = _.tweenRefOrigin[ id ] || {};\r\n                    \r\n                          _.tweenRefMaps[ id ] = _.tweenRefMaps[ id ] || {};\r\n                          Object.assign(this._.tweenRefMaps[ id ], {\r\n                              ...initials[ id ],\r\n                              ...this._.tweenRefMaps[ id ]\r\n                          })\r\n                      }\r\n                  )\r\n        }\r\n        \r\n        \r\n        // init scroll\r\n        dim.tweenAxis.push(sl);\r\n        dim.scrollPos      = dim.scrollPos || 0;\r\n        dim.scrollableArea = dim.scrollableArea || 0;\r\n        dim.scrollableArea = Math.max(dim.scrollableArea, sl.duration);\r\n        \r\n        if ( !dim.scrollableBounds )\r\n            dim.inertia?.setBounds(0, dim.scrollableArea);\r\n        \r\n        sl.goTo(dim.scrollPos, this._.tweenRefMaps);\r\n        this._updateTweenRefs();\r\n        return sl;\r\n    }\r\n    \r\n    /**\r\n     * Remove a tweenAxis object from a component scrollable axis\r\n     * @param sl\r\n     * @param axe\r\n     */\r\n    rmScrollableAnim( sl, axe = \"scrollY\" ) {\r\n        let _   = this._, found,\r\n            dim = this._getAxis(axe), twAxis;\r\n        let i   = dim.tweenAxis.indexOf(sl);\r\n        if ( i !== -1 ) {\r\n            \r\n            //dim.tweenAxis[i].destroy();\r\n            dim.tweenAxis.splice(i, 1);\r\n            dim.scrollableArea = Math.max(...dim.tweenAxis.map(tl => tl.duration), 0);\r\n            if ( !dim.scrollableBounds )\r\n                dim.inertia?.setBounds(0, dim.scrollableArea || 0);\r\n            //console.warn(\"rm scrollable\", { ...this._.tweenRefMaps })\r\n            sl.goTo(0, this._.tweenRefMaps);\r\n            //console.warn(\"rm scrollable\", { ...this._.tweenRefMaps[\"card\"] })\r\n            \r\n            Object.keys(sl.initials)// unset\r\n                  .forEach(\r\n                      id => {\r\n                          Object.keys(sl.initials[ id ])// unset\r\n                                .forEach(\r\n                                    rkey => {\r\n                                        //debugger\r\n                                        clearTweenableValue(rkey, rkey, _.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxDataByTarget[ id ], _.muxByTarget[ id ])\r\n                                        //!_.tweenRefCSS[id] &&\r\n                                        //_.refs[id] && _.refs[id].style &&\r\n                                        // _.refs[id].style[rkey] &&\r\n                                        // (_.refs[id].style[rkey] = null);\r\n                                    })\r\n                      });\r\n            delete sl.initials;\r\n            sl.destroy();\r\n            found = true;\r\n            this._updateTweenRefs();\r\n        }\r\n        !found && console.warn(\"TweenAxis not found !\")\r\n    }\r\n    \r\n    \r\n    /**\r\n     * @private fn to push scrollTo\r\n     * @param axe\r\n     * @param to\r\n     * @param tm\r\n     * @param easing\r\n     * @param tick\r\n     * @param cb\r\n     * @private\r\n     */\r\n    _runScrollGoTo( axe, to, tm, easing = x => x, tick, cb ) {\r\n        let from   = this.axes[ axe ].scrollPos,\r\n            length = to - from;\r\n        \r\n        _running.push(\r\n            {\r\n                apply   : ( pos, max ) => {\r\n                    let x = ( from + ( easing(pos / max) ) * length );\r\n                    if ( this._.tweenEnabled ) {\r\n                        //console.log('TweenableComp::setPos:514: ', x);\r\n                        this.axes[ axe ].tweenAxis.forEach(\r\n                            sl => sl.goTo(x, this._.tweenRefMaps)\r\n                        );\r\n                        tick && tick(x);\r\n                    }\r\n                },\r\n                duration: tm,\r\n                cpos    : 0,\r\n                cb\r\n            })\r\n        ;\r\n        \r\n        if ( !_live ) {\r\n            _live  = true;\r\n            lastTm = Date.now();\r\n            // console.log(\"TL runner On\");\r\n            setTimeout(Runner._tick, 16);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Return scrollable parent node list basing a dom node\r\n     * @param node\r\n     * @returns {T[]}\r\n     */\r\n    getScrollableNodes( node ) {\r\n        let scrollable = domUtils.findReactParents(node), _ = this._;\r\n        scrollable     = _.rootRef &&\r\n                         _.rootRef.current &&\r\n                         _.rootRef.current.hookScrollableTargets &&\r\n                         _.rootRef.current.hookScrollableTargets(scrollable)\r\n                         || scrollable;\r\n        \r\n        return scrollable.map(\r\n            id => ( is.string(id)\r\n                    ? this._.refs[ id ] && ReactDom.findDOMNode(this._.refs[ id ]) || this.refs[ id ] || document.getElementById(id)\r\n                    : id ));\r\n    }\r\n    \r\n    /**\r\n     * Hook to know if the composed element allow scrolling\r\n     * @returns {boolean}\r\n     */\r\n    componentShouldScroll() {\r\n        let _ = this._;\r\n        return _.rootRef &&\r\n               _.rootRef.current &&\r\n               _.rootRef.current.componentShouldScroll ?\r\n               _.rootRef.current.componentShouldScroll(...arguments) : true\r\n    }\r\n    \r\n    // ------------------------------------------------------------\r\n    // --------------- Inertia & scroll modifiers -----------------\r\n    // ------------------------------------------------------------\r\n    \r\n    /**\r\n     * Retrieve updates from an axis inertia & apply them\r\n     * @param dim\r\n     * @param axe\r\n     */\r\n    applyInertia( dim, axe ) {\r\n        let x = dim.inertia.update(), _ = this._;\r\n        \r\n        this.axes[ axe ].tweenAxis.forEach(\r\n            sl => {\r\n                this.axes[ axe ].targetPos = this.axes[ axe ].scrollPos = x;\r\n                sl.goTo(x, this._.tweenRefMaps)\r\n            }\r\n        );\r\n        //console.log(\"scroll at \" + x, axe, dim.inertia.active || dim.inertia.holding);\r\n        //this.scrollTo(x, 0, axe);\r\n        _.rootRef?.current?.componentDidScroll?.(x, axe);\r\n        this._updateTweenRefs()\r\n        if ( dim.inertia.active || dim.inertia.holding ) {\r\n            dim.inertiaFrame = setTimeout(this.applyInertia.bind(this, dim, axe), 33);\r\n        }\r\n        else {\r\n            dim.inertiaFrame = null;\r\n            //console.log(\"complete\");\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Return true if at least 1 of this tweener axis have it's inertia active\r\n     * @returns {boolean}\r\n     */\r\n    isInertiaActive() {//todo\r\n        let _ = this._, active = false;\r\n        this.axes &&\r\n        Object.keys(this.axes)\r\n              .forEach(\r\n                  axe => ( active = active || this.axes[ axe ] && this.axes[ axe ].inertia.active )\r\n              );\r\n        return active;\r\n    }\r\n    \r\n    dispatchScroll( delta, axe = \"scrollY\" ) {\r\n        let prevent,\r\n            dim    = this.axes[ axe ],\r\n            oldPos = dim && dim.scrollPos,\r\n            newPos = oldPos + delta;\r\n        \r\n        if ( dim && oldPos !== newPos ) {\r\n            \r\n            dim.inertia.dispatch(delta, 100);\r\n            !dim.inertiaFrame && this.applyInertia(dim, axe);\r\n            \r\n        }\r\n        \r\n        return prevent;\r\n    }\r\n    \r\n    isAxisOut( axis, v, abs ) {\r\n        let _   = this._,\r\n            dim = this.axes && this.axes[ axis ],\r\n            pos = abs ? v : dim && ( dim.scrollPos + v );\r\n        \r\n        pos = pos && Math.round(pos);\r\n        \r\n        return !dim\r\n               || (\r\n                   dim.scrollableBounds\r\n                   ?\r\n                   ( pos <= dim.scrollableBounds.min || pos >= dim.scrollableBounds.max )\r\n                   :\r\n                   ( pos <= 0 || pos >= dim.scrollableArea )\r\n               );\r\n    }\r\n    \r\n    _doDispatch( target, dx, dy, holding ) {\r\n        let style,\r\n            Comps,\r\n            headTarget = target,\r\n            nodeInertia,\r\n            i;\r\n        \r\n        // check if there scrollable stuff in dom targets\r\n        // get all the parents components & dom node of an dom element ( from fibers )\r\n        \r\n        Comps = this.getScrollableNodes(headTarget);\r\n        //console.log(\"dispatching \", dx, dy, Comps);\r\n        for ( i = 0; i < Comps.length; i++ ) {\r\n            // react comp with tweener support\r\n            if ( Comps[ i ].__isTweener ) {\r\n                //debugger\r\n                //console.log(Comps[i], dx, dy, Comps[i].isAxisOut(\"scrollX\", dx),\r\n                // Comps[i].isAxisOut(\"scrollY\", dy));\r\n                if ( !Comps[ i ].isAxisOut(\"scrollX\", dx) && ( !Comps[ i ].componentShouldScroll || Comps[ i ].componentShouldScroll(\"scrollX\", dx) ) ) {\r\n                    Comps[ i ].dispatchScroll(dx, \"scrollX\", holding);\r\n                    dx = 0;\r\n                }\r\n                if ( !Comps[ i ].isAxisOut(\"scrollY\", dy) && ( !Comps[ i ].componentShouldScroll || Comps[ i ].componentShouldScroll(\"scrollY\", dy) ) ) {\r\n                    Comps[ i ].dispatchScroll(dy, \"scrollY\", holding);\r\n                    dy = 0;\r\n                }\r\n            }\r\n            // dom element\r\n            else if ( is.element(Comps[ i ]) ) {\r\n                style = getComputedStyle(Comps[ i ], null)\r\n                if ( /(auto|scroll)/.test(\r\n                    style.getPropertyValue(\"overflow\")\r\n                    + style.getPropertyValue(\"overflow-x\")\r\n                    + style.getPropertyValue(\"overflow-y\")\r\n                )\r\n                ) {\r\n                    if (\r\n                        ( dy < 0 && Comps[ i ].scrollTop !== 0 )\r\n                        ||\r\n                        ( dy > 0 && Comps[ i ].scrollTop !== ( Comps[ i ].scrollHeight - Comps[ i ].clientHeight ) )\r\n                    ) {\r\n                        return;\r\n                        //nodeInertia.y.dispatch(dy * 10)\r\n                        //dy = 0;\r\n                    } // let the node do this scroll\r\n                    //if ( nodeInertia.x.isOutbound(dx) ) {\r\n                    //\tnodeInertia.x.dispatch(dx * 10)\r\n                    //\tdx = 0;\r\n                    //} // let the node do this scroll\r\n                }\r\n                \r\n                //headTarget = headTarget.parentNode;\r\n                //if ( headTarget === document || headTarget === target )\r\n                //\tbreak;\r\n            }\r\n            if ( !dx && !dy )\r\n                break;\r\n        }\r\n        this._updateNodeInertia();\r\n        if ( !dx && !dy )\r\n            return true;\r\n    }\r\n    \r\n    _activateNodeInertia( node ) {\r\n        let _ = this._,\r\n            i = _.activeInertia.findIndex(item => ( item.target === node ));\r\n        if ( i === -1 ) {\r\n            _.activeInertia.push(\r\n                {\r\n                    inertia: {\r\n                        x: new Inertia({ max: node.scrollWidth - node.offsetLeft,\r\n                                           value: node.scrollLeft\r\n                                       }),\r\n                        y: new Inertia({ max: node.scrollHeight - node.offsetHeight,\r\n                                           value: node.scrollTop\r\n                                       })\r\n                    },\r\n                    target : node\r\n                });\r\n            i = _.activeInertia.length - 1;\r\n        }\r\n        return _.activeInertia[ i ].inertia;\r\n        \r\n    }\r\n    \r\n    _updateNodeInertia = () => {\r\n        let _ = this._, current, ln = _.activeInertia.length;\r\n        \r\n        if ( this._inertiaRaf )\r\n            cancelAnimationFrame(this._inertiaRaf);\r\n        \r\n        for ( let i = 0; ln > i; i++ ) {\r\n            current = _.activeInertia[ i ];\r\n            if ( current.inertia.x.active || current.inertia.x.holding ) {\r\n                current.target.scrollLeft = ~~current.inertia.x.update()\r\n            }\r\n            if ( current.inertia.y.active || current.inertia.y.holding ) {\r\n                current.target.scrollTop = ~~current.inertia.y.update()\r\n            }\r\n            \r\n            if ( !current.inertia.x.active && !current.inertia.y.active && !current.inertia.x.holding && !current.inertia.y.holding ) {\r\n                _.activeInertia.slice(i, 1);\r\n                i--;\r\n                ln--;\r\n            }\r\n        }\r\n        if ( ln !== 0 )\r\n            this._inertiaRaf = requestAnimationFrame(this._updateNodeInertia)\r\n        else this._inertiaRaf = null;\r\n    }\r\n    \r\n    \r\n    // ------------------------------------------------------------\r\n    // --------------- Initialization & drawers -------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    setRootRef( id ) {\r\n        this._.rootRef = id;\r\n    }\r\n    \r\n    _updateBox() {\r\n        let node = this.getRootNode();\r\n        if ( node ) {\r\n            this._.box.inited = true;\r\n            this._.box.x      = node.offsetWidth;\r\n            this._.box.y      = node.offsetHeight;\r\n        }\r\n    }\r\n    \r\n    _rafLoop() {\r\n        this._updateTweenRefs();\r\n        if ( this._.runningAnims.length ) {\r\n            requestAnimationFrame(this._._rafLoop);\r\n        }\r\n        else {\r\n            //this._.live && console.log(\"RAF off\", this.constructor.displayName);\r\n            this._.live = false;\r\n        }\r\n    }\r\n    \r\n    _updateTweenRefs() {\r\n        if ( this._.tweenEnabled ) {\r\n            for ( let i = 0, target, node, style; i < this._.tweenRefTargets.length; i++ ) {\r\n                target = this._.tweenRefTargets[ i ];\r\n                style  = this._updateTweenRef(target);\r\n            }\r\n        }\r\n    }\r\n    \r\n    _swap = {};\r\n    \r\n    _updateTweenRef( target, force ) {\r\n        let node, swap = this._swap, changes;\r\n        this._.tweenRefCSS[ target ] &&\r\n        muxToCss(this._.tweenRefMaps[ target ], swap, this._.muxByTarget[ target ], this._.muxDataByTarget[ target ], this._.box);\r\n        node = this.getTweenableRef(target);\r\n        if ( node ) {\r\n            for ( let o in this._.tweenRefCSS[ target ] )\r\n                if ( swap[ o ] === undefined ) {\r\n                    node.style[ o ] = this._.tweenRefCSS[ target ][ o ];\r\n                    //\t\tnode.style[o] = null;\r\n                    //\t\tdelete this._.tweenRefCSS[target][o];\r\n                }\r\n            for ( let o in swap )\r\n                if ( this._.tweenRefCSS[ target ].hasOwnProperty(o) ) {\r\n                    if ( force || swap[ o ] !== this._.tweenRefCSS[ target ][ o ] ) {\r\n                        \r\n                        node.style[ o ] = this._.tweenRefCSS[ target ][ o ] = swap[ o ];\r\n                        //if ( target == \"card\" ) console.log(target, o, node.style[o],\r\n                        // swap[o]);\r\n                        changes         = true;\r\n                    }\r\n                    delete swap[ o ];\r\n                }\r\n        }\r\n        //if ( !changes )\r\n        //console.log('no changes', target, this._.tweenRefCSS[target], !!node, force)\r\n        return this._.tweenRefCSS[ target ];\r\n    }\r\n    \r\n    \r\n    // ------------------------------------------------------------\r\n    // --------------- React Hooks --------------------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    \r\n    componentWillUnmount() {\r\n        let node = this.getRootNode();\r\n        if ( this._.tweenEnabled ) {\r\n            this._.tweenEnabled = false;\r\n            window.removeEventListener(\"resize\", this._.onResize);\r\n            \r\n            Object.keys(this.axes).forEach(\r\n                axe => {\r\n                    this.axes[ axe ].inertiaFrame &&\r\n                    clearTimeout(this.axes[ axe ].inertiaFrame);\r\n                }\r\n            );\r\n        }\r\n        super.componentWillUnmount && super.componentWillUnmount(...arguments);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        let _static = this.constructor;\r\n        \r\n        this._.rendered = true;\r\n        if ( this._.tweenEnabled ) {\r\n            // debugger;\r\n            this._updateBox();\r\n            this._updateTweenRefs();\r\n        }\r\n        if ( _static.scrollableAnim ) {\r\n            if ( is.array(_static.scrollableAnim) )\r\n                this.addScrollableAnim(_static.scrollableAnim);\r\n            else\r\n                Object.keys(_static.scrollableAnim)\r\n                      .forEach(\r\n                          axe => this.addScrollableAnim(_static.scrollableAnim[ axe ], axe)\r\n                      )\r\n        }\r\n        //if ( this._.doRegister || this.__isFirst ) {\r\n        //\r\n        //\tthis._.doRegister = false;\r\n        //}\r\n        super.componentDidMount && super.componentDidMount(...arguments);\r\n    }\r\n    \r\n    componentDidUpdate( prevProps, prevState ) {\r\n        \r\n        if ( this._.tweenEnabled ) {\r\n            this._updateBox();\r\n            this._updateTweenRefs();\r\n        }\r\n        super.componentDidUpdate && super.componentDidUpdate(...arguments);\r\n    }\r\n    \r\n    render() {\r\n        const { BaseComponent, oProps } = this.props;\r\n        return <TweenerContext.Consumer>\r\n            {\r\n                parentTweener => {\r\n                    this._parentTweener = parentTweener;\r\n                    return <TweenerContext.Provider value={ this }>\r\n                        <BaseComponent { ...oProps } ref={ this._.rootRef }\r\n                                       tweener={ this }/>\r\n                    </TweenerContext.Provider>;\r\n                }\r\n            }\r\n        </TweenerContext.Consumer>;\r\n    }\r\n}\r\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React   from \"react\";\nimport Tweener from '../comps/Tweener';\n\nconst SimpleObjectProto = ( {} ).constructor;\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function asTweener( ...argz ) {\n    \n    let BaseComponent = ( !argz[ 0 ] || argz[ 0 ].prototype instanceof React.Component || argz[ 0 ] === React.Component ) && argz.shift(),\n        options       = ( !argz[ 0 ] || argz[ 0 ] instanceof SimpleObjectProto ) && argz.shift() || {};\n    \n    if ( !BaseComponent ) {\n        return function ( BaseComponent ) {\n            return asTweener(BaseComponent, options)\n        }\n    }\n    \n    options = {\n        wheelRatio    : 5,\n        maxClickTm    : 200,\n        maxClickOffset: 20,\n        ...options,\n    };\n    \n    \n    let withRef         = React.forwardRef(( props, ref ) => {\n        return <Tweener oProps={ props } forwardedRef={ ref }\n                        BaseComponent={ BaseComponent }\n                        tweenerOptions={ options }/>;\n    });\n    withRef.displayName = String.fromCharCode(0xD83E, 0xDDD9) + ( BaseComponent.displayName || BaseComponent.name );\n    return withRef;\n}\n","/*\n *\n * Copyright (C) 2019 Nathanael Braun\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React      from 'react';\nimport Axis       from './comps/Axis';\nimport Context    from './comps/TweenerContext';\nimport Node       from './comps/Node';\nimport Draggable  from './comps/Draggable';\nimport useTweener  from './hooks/useTweener';\nimport tweener    from './spells/asTweener';\nimport child      from './spells/withTweener';\nimport dom        from './utils/dom.js';\nimport * as tools from './utils/tweenTools.js';\n\n@tweener\nclass Component extends React.Component {\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n\nexport default {tweener, child, useTweener, tools, Draggable, Component, Node, Context, Axis, dom};"],"sourceRoot":""}