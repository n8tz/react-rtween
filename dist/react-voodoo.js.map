{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"is\"","webpack:///./src/utils/css/cssUtils.js","webpack:///./src/MapOf.react_voodoo_utils_css_demux_typed_____js.gen.js","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"prop-types\"","webpack:///external \"@babel/runtime/helpers/inheritsLoose\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"fast-deep-equal\"","webpack:///external \"@babel/runtime/helpers/objectWithoutPropertiesLoose\"","webpack:///./src/utils/css/demux/typed/shadow.js","webpack:///external \"react-dom\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///./src/utils/css/demux/typed/number.js","webpack:///./src/utils/css/demux/typed/color.js","webpack:///external \"d3-ease\"","webpack:///./src/.___layerPackIndexUtils.js","webpack:///./src/utils/css/demux/typed/any.js","webpack:///external \"shortid\"","webpack:///external \"color-rgba\"","webpack:///external \"tween-axis\"","webpack:///./src/utils/css/demux/filter.js","webpack:///./src/utils/css/demux/boxShadow.js","webpack:///./src/utils/css/demux/typed/int.js","webpack:///./src/utils/css/demux/typed/bool.js","webpack:///./src/utils/css/demux/typed/multi.js","webpack:///./src/utils/css/demux/typed/ratio.js","webpack:///./src/utils/css/demux/transform.js","webpack:///./src/utils/css/demux/textShadow.js","webpack:///./src/utils/css/demux/backgroundColor.js","webpack:///./src/comps/TweenerContext.js","webpack:///./src/comps/Axis.js","webpack:///./src/utils/react.js","webpack:///./src/comps/Node.js","webpack:///./src/utils/dom.js","webpack:///./src/spells/withTweener.js","webpack:///./src/comps/Draggable.js","webpack:///./src/utils/tweenTools.js","webpack:///./src/MapOf.react_voodoo_utils_css_demux_____js.gen.js","webpack:///./src/utils/css/index.js","webpack:///./src/utils/CssTweenAxis.js","webpack:///./src/utils/inertia.js","webpack:///./src/comps/Tweener.js","webpack:///./src/hooks/useVoodoo.js","webpack:///./src/hooks/useTweener.js","webpack:///./src/spells/asTweener.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","props","units","unitsRe","RegExp","join","floatCut","v","Number","toFixed","expandShorthandProperty","target","type","childProps","properties","values","split","multiple","forEach","k","length","isShorthandProperty","isValidDeclaration","_exports","walknSetExport","any","bool","color","int","multi","number","ratio","VALUES_REG","PARTS_REG","LENGTH_REG","parseValue","stringifyValue","isLength","toNum","toPx","cssShadowParser","str","parts","inset","includes","last","slice","undefined","nums","filter","map","offsetX","offsetY","blurRadius","spreadRadius","obj","trim","test","parseFloat","isNaN","parse","stringify","arr","defaultUnits","perspective","defaultBox","translateX","defaultMuxers","release","twKey","tweenableMap","cssMap","dataMap","muxerMap","keepValues","tmpKey","path","pop","keys","console","log","demuxOne","unitIndex","dkey","twVal","baseKey","data","box","unit","x","y","z","demux","tweenable","shadowMap","fkey","iValue","shadows","tmpValue","ti","substr","push","muxOne","initials","noPropLock","seenUnits","match","is","string","unitKey","indexOf","realKey","mux","reOrder","array","tFnKey","baseData","fValue","u","left","right","top","bottom","width","height","defaultValue","opacity","rKey","muxer","vect","rgba","_target","fPath","default","assign","isString","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filters","warn","alias","center","offset","count","nowhere","Math","min","max","translateY","translateZ","scale","scaleZ","scaleX","scaleY","rotate","skewX","skewY","rotateX","rotateY","rotateZ","tmap","transforms","transform","TweenerContext","React","createContext","Axis","state","componentWillUnmount","this","_tweenLines","axe","_previousTweener","rmScrollableAnim","_previousScrollable","render","id","children","scrollFirst","bounds","scrollableWindow","inertia","size","defaultPosition","items","Consumer","tweener","_previousAxis","_previousInertia","initAxis","scrollableBounds","_previousTweens","deepEqual","_lastTL","addScrollableAnim","Fragment","Component","propTypes","PropTypes","isFunctionalComponent","isReactComponent","component","isClassComponent","setTarget","anims","tween","Node","__tweenableId","shortid","generate","_tweenAxisObj","_currentTweener","rmTweenRef","setRootRef","style","initial","pos","noRef","reset","axes","isRoot","refProp","tweenLines","tweenAxis","parentTweener","error","axisItemsChange","twRef","tweenRef","_tweenAxis","scrollY","reduce","h","_updateTweenRef","RefChild","Children","only","isValidElement","_lastRef","ref","div","className","query","prefixes","isBrowser","window","_dom","DocumentTouch","document","matchMedia","matches","prefix","navigator","appVersion","userAgent","dashedPrefix","__","onPageHided","onPageShown","dragging","dragEnabled","dragEnabledDesc","fingers","nbFingers","dragstartAnywhere","e","finger","desc","me","Dom","addEvent","dragAnywhere","dropAnywhere","dropWithoutClick","changedTouches","ln","identifier","_startPos","pageX","pageY","_startTs","timeStamp","_lastPos","dragstart","stopped","drag","preventNextClick","preventDefault","stopPropagation","stopImmediatePropagation","removeEvent","prevent","mouseDrag","dropped","getDraggable","node","touchDrag","locks","dragEnd","freeDraggable","splice","fn","bubble","addEventListener","attachEvent","related","removeEventListener","detachEvent","rmDragFn","scope","passive","elem","dims","offsetWidth","offsetHeight","parseInt","offsetTop","offsetLeft","offsetParent","findReactParents","element","fiberNode","comps","startsWith","return","stateNode","parentNode","SimpleObjectProto","constructor","withTweener","argz","BaseComponent","shift","opts","TweenerToProps","forwardedRef","displayName","withRef","forwardRef","Draggable","_","root","createRef","current","scrollEnabled","dragList","domUtils","componentDidMount","_registerScrollListeners","getScrollableNodes","scrollable","parent","_parentTweener","lastStartTm","cLock","dX","parents","dY","parentsState","refWidth","refHeight","rootNode","xAxis","yAxis","yHook","xHook","xBoxRef","yBoxRef","touch","descr","pTweener","Date","now","_updateBox","__isTweener","_updateNodeInertia","options","maxClickTm","abs","maxClickOffset","deltaX","xDispatched","xBox","deltaY","yDispatched","yBox","dragDirectionLock","scrollPos","startMove","inertiaFrame","applyInertia","scrollableArea","isInbound","componentShouldScroll","hold","cancelable","enableMouseDrag","doRegister","getProps","Comp","yRef","func","defaultProps","re_cssValueWithUnit","cssAdd","val1","val2","units1","units2","remap","result","cssMult","val","start","item","from","duration","withOffset","iDuration","inverseValues","reverse","apply","MultiCssProps","addCss","sources","source","addAllType","v1","v2","values1","values2","extractCss","inverse","css","shiftTransforms","unshift","cssDemux","cssDemuxers","marginTop","marginLeft","marginRight","marginBottom","paddingTop","paddingLeft","paddingRight","paddingBottom","borderRadius","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","transformOrigin","zIndex","clearTweenableValue","cssKey","muxToCss","demuxers","deMuxTween","deMuxedTween","fTween","excluded","deMuxLine","tweenLine","allPropsById","twAxis","line","demuxedTween","recyclableTweenAxis","CssTweenAxis","cfg","recyled","localLength","mount","arguments","destroy","__marks","__marksLength","__marksKeys","__processors","__config","__activeForks","__activeProcess","__outgoing","__incoming","__cPos","__cIndex","__cMaxKey","easingFn","signOf","NaN","floor","round","Inertia","opt","conf","config","active","refFPS","currentStop","lastInertiaPos","stops","disabled","wayPoints","inertiaFn","easePolyOut","targetWayPointIndex","_detectCurrentSnap","updateConf","willStop","willSnap","update","at","nextValue","loop","inertiaStartTm","targetDuration","targetDist","delta","targetWayPoint","currentWayPoint","currentWayPointIndex","onInertiaEnd","shouldLoop","setPos","setWayPoints","teleport","loopDist","dispatch","tm","inertiaLastTm","_doSnap","forceSnap","maxDuration","mid","maxJump","infinite","setBounds","baseTS","startTS","lastVelocity","lastIVelocity","lastAccel","posDiff","holding","nextPos","lastHoldPos","sinceLastPos","iVel","velSign","loopsTarget","loopsVelSum","pow","snapToBounds","willEnd","_live","lastTm","isBrowserSide","Function","isArray","_running","Runner","_tick","cpos","cb","setTimeout","Tweener","_scrollWatcherByAxis","activeInertia","_inertiaRaf","cancelAnimationFrame","scrollLeft","scrollTop","requestAnimationFrame","_swap","refs","muxByTarget","_rafLoop","rootRef","tweenerOptions","tweenRefCSS","tweenRefs","tweenRefMaps","iMapOrigin","tweenRefInitialData","tweenEnabled","tweenRefOrigin","tweenRefOriginCss","muxDataByTarget","tweenRefDemuxed","tweenRefTargets","runningAnims","scrollHook","onResize","_updateTweenRefs","windowDidResize","iStyle","iMap","noref","mapReset","resetTweenable","targets","updateRefStyle","postPone","pureCss","getTweenableRef","ReactDom","findDOMNode","getRootNode","isMountedFromHook","pushAnim","anim","then","keepResults","sl","fail","Promise","resolve","run","rkey","live","applyTweenState","_inertia","_scrollableArea","_scrollableBounds","_scrollableWindow","dim","targetPos","nextDescr","_getAxis","initialScrollPos","getAxisState","getScrollPos","axis","scrollTo","newPos","ms","ease","reject","oldPos","axisDidScroll","componentDidScroll","_runScrollGoTo","goTo","found","tl","to","easing","tick","hookScrollableTargets","getElementById","watchAxis","axisId","listener","byId","index","watchers","isInertiaActive","dispatchScroll","isAxisOut","_doDispatch","dx","dy","Comps","headTarget","getComputedStyle","getPropertyValue","scrollHeight","clientHeight","_activateNodeInertia","findIndex","scrollWidth","inited","force","swap","clearTimeout","_static","rendered","scrollableAnim","componentDidUpdate","prevProps","prevState","oProps","Provider","RootNodeComp","useContext","nodeRef","useRef","lastTweener","doUseParentTweener","useMemo","tw","ViewBox","useEffect","asTweener","wheelRatio","String","fromCharCode","child","useTweener","useVoodoo","hook","tools","Context","dom"],"mappings":"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","file":"react-voodoo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","module.exports = require(\"react\");","module.exports = require(\"is\");","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst props = {\n    \"margin\"                     : { \"properties\": [\"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\"] },\n    \"marginBottom\"               : { \"types\": [\"length\"] },\n    \"marginLeft\"                 : { \"types\": [\"length\"] },\n    \"marginRight\"                : { \"types\": [\"length\"] },\n    \"marginTop\"                  : { \"types\": [\"length\"] },\n    \"padding\"                    : { \"properties\": [\"paddingTop\", \"paddingRight\", \"paddingBottom\", \"paddingLeft\"] },\n    \"paddingBottom\"              : { \"types\": [\"length\"] },\n    \"paddingLeft\"                : { \"types\": [\"length\"] },\n    \"paddingRight\"               : { \"types\": [\"length\"] },\n    \"paddingTop\"                 : { \"types\": [\"length\"] },\n    \"bottom\"                     : { \"types\": [\"length-percentage-calc\"] },\n    \"left\"                       : { \"types\": [\"length-percentage-calc\"] },\n    \"right\"                      : { \"types\": [\"length-percentage-calc\"] },\n    \"top\"                        : { \"types\": [\"length-percentage-calc\"] },\n    \"zIndex\"                     : { \"types\": [\"integer\"] },\n    \"width\"                      : { \"types\": [\"length-percentage-calc\"] },\n    \"maxWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n    \"minWidth\"                   : { \"types\": [\"length-percentage-calc\"] },\n    \"height\"                     : { \"types\": [\"length-percentage-calc\"] },\n    \"maxHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n    \"minHeight\"                  : { \"types\": [\"length-percentage-calc\"] },\n    \"lineHeight\"                 : { \"types\": [\"number\", \"length\"] },\n    \"verticalAlign\"              : { \"types\": [\"length\"] },\n    \"visibility\"                 : { \"types\": [\"visibility\"] },\n    \"borderSpacing\"              : { \"types\": [\"length\"], \"multiple\": true },\n    \"color\"                      : { \"types\": [\"color\"] },\n    \"opacity\"                    : { \"types\": [\"number\"] },\n    \"background\"                 : { \"properties\": [\"backgroundColor\", \"backgroundPosition\", \"backgroundSize\"] },\n    \"backgroundColor\"            : { \"types\": [\"color\"] },\n    \"backgroundPosition\"         : {\n        \"types\"     : [\"length-percentage-calc\"],\n        \"multiple\"  : true,\n        \"repeatable\": true\n    },\n    \"backgroundSize\"             : {\n        \"types\"     : [\"length-percentage-calc\"],\n        \"multiple\"  : true,\n        \"repeatable\": true\n    },\n    \"border\"                     : { \"properties\": [\"borderStyle\", \"borderWidth\", \"borderColor\"] },\n    \"borderBottom\"               : { \"properties\": [\"borderBottomStyle\", \"borderBottomWidth\", \"borderBottomColor\"] },\n    \"borderLeft\"                 : { \"properties\": [\"borderLeftStyle\", \"borderLeftWidth\", \"borderLeftColor\"] },\n    \"borderRight\"                : { \"properties\": [\"borderRightStyle\", \"borderRightWidth\", \"borderRightColor\"] },\n    \"borderTop\"                  : { \"properties\": [\"borderTopStyle\", \"borderTopWidth\", \"borderTopColor\"] },\n    \"borderColor\"                : { \"properties\": [\"borderTopColor\", \"borderRightColor\", \"borderBottomColor\", \"borderLeftColor\"] },\n    \"borderWidth\"                : { \"properties\": [\"borderTopWidth\", \"borderRightWidth\", \"borderBottomWidth\", \"borderLeftWidth\"] },\n    \"borderBottomColor\"          : { \"types\": [\"color\"] },\n    \"borderLeftColor\"            : { \"types\": [\"color\"] },\n    \"borderRightColor\"           : { \"types\": [\"color\"] },\n    \"borderTopColor\"             : { \"types\": [\"color\"] },\n    \"borderBottomWidth\"          : { \"types\": [\"length\"] },\n    \"borderLeftWidth\"            : { \"types\": [\"length\"] },\n    \"borderRightWidth\"           : { \"types\": [\"length\"] },\n    \"borderTopWidth\"             : { \"types\": [\"length\"] },\n    \"borderRadius\"               : { \"properties\": [\"borderTopLeftRadius\", \"borderTopRightRadius\", \"borderBottomRightRadius\", \"borderBottomLeftRadius\"] },\n    \"borderTopLeftRadius\"        : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"borderTopRightRadius\"       : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"borderBottomRightRadius\"    : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"borderBottomLeftRadius\"     : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"boxShadow\"                  : { \"types\": [\"shadow-list\"] },\n    \"caretColor\"                 : { \"types\": [\"color\"] },\n    \"outline\"                    : { \"properties\": [\"outlineColor\", \"outlineWidth\"] },\n    \"outlineColor\"               : { \"types\": [\"color\"] },\n    \"outlineWidth\"               : { \"types\": [\"length\"] },\n    \"outlineOffset\"              : { \"types\": [\"length\"] },\n    \"flex\"                       : { \"properties\": [\"flexGrow\", \"flexShrink\", \"flexBasis\"] },\n    \"flexGrow\"                   : { \"types\": [\"number\"] },\n    \"flexShrink\"                 : { \"types\": [\"number\"] },\n    \"flexBasis\"                  : { \"types\": [\"length-percentage-calc\"] },\n    \"order\"                      : { \"types\": [\"integer\"] },\n    \"font\"                       : { \"properties\": [\"fontWeight\", \"fontStretch\", \"fontSize\", \"lineHeight\"] },\n    \"fontWeight\"                 : { \"types\": [\"font-weight\"] },\n    \"fontStretch\"                : { \"types\": [\"font-stretch\"] },\n    \"fontSize\"                   : { \"types\": [\"length\"] },\n    \"fontSizeAdjust\"             : { \"types\": [\"number\"] },\n    \"gridTemplateColumns\"        : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"gridTemplateRows\"           : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"gridTemplate\"               : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n    \"grid\"                       : { \"properties\": [\"gridTemplateRows\", \"gridTemplateColumns\"] },\n    \"gridRowGap\"                 : { \"types\": [\"length-percentage-calc\"] },\n    \"gridColumnGap\"              : { \"types\": [\"length-percentage-calc\"] },\n    \"gridGap\"                    : { \"properties\": [\"gridRowGap\", \"gridColumnGap\"] },\n    \"clip\"                       : { \"types\": [\"rectangle\"] },\n    \"clipPath\"                   : { \"types\": [\"basic-shape\"] },\n    \"mask\"                       : { \"properties\": [\"maskPosition\", \"maskSize\"] },\n    \"maskPosition\"               : {\n        \"types\"     : [\"length-percentage-calc\"],\n        \"multiple\"  : true,\n        \"repeatable\": true\n    },\n    \"maskSize\"                   : {\n        \"types\"     : [\"length-percentage-calc\"],\n        \"multiple\"  : true,\n        \"repeatable\": true\n    },\n    \"shapeOutside\"               : { \"types\": [\"basic-shape\"] },\n    \"shapeMargin\"                : { \"types\": [\"length-percentage-calc\"] },\n    \"shapeImageThreshold\"        : { \"types\": [\"number\"] },\n    \"scrollPadding\"              : { \"properties\": [\"scrollPaddingTop\", \"scrollPaddingRight\", \"scrollPaddingBottom\", \"scrollPaddingLeft\"] },\n    \"scrollPaddingTop\"           : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingRight\"         : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingBottom\"        : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingLeft\"          : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingBlock\"         : { \"properties\": [\"scrollPaddingBlockStart\", \"scrollPaddingBlockEnd\"] },\n    \"scrollPaddingBlockStart\"    : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingBlockEnd\"      : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingInline\"        : { \"properties\": [\"scrollPaddingInlineStart\", \"scrollPaddingInlineEnd\"] },\n    \"scrollPaddingInlineStart\"   : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollPaddingInlineEnd\"     : { \"types\": [\"length-percentage-calc\"] },\n    \"scrollSnapMargin\"           : { \"properties\": [\"scrollSnapMarginTop\", \"scrollSnapMarginRight\", \"scrollSnapMarginBottom\", \"scrollSnapMarginLeft\"] },\n    \"scrollSnapMarginTop\"        : { \"types\": [\"length\"] },\n    \"scrollSnapMarginRight\"      : { \"types\": [\"length\"] },\n    \"scrollSnapMarginBottom\"     : { \"types\": [\"length\"] },\n    \"scrollSnapMarginLeft\"       : { \"types\": [\"length\"] },\n    \"scrollSnapMarginBlock\"      : { \"properties\": [\"scrollSnapMarginBlockStart\", \"scrollSnapMarginBlockEnd\"] },\n    \"scrollSnapMarginBlockStart\" : { \"types\": [\"length\"] },\n    \"scrollSnapMarginBlockEnd\"   : { \"types\": [\"length\"] },\n    \"scrollSnapMarginInline\"     : { \"properties\": [\"scrollSnapMarginInlineStart\", \"scrollSnapMarginInlineEnd\"] },\n    \"scrollSnapMarginInlineStart\": { \"types\": [\"length\"] },\n    \"scrollSnapMarginInlineEnd\"  : { \"types\": [\"length\"] },\n    \"textDecoration\"             : { \"properties\": [\"textDecorationColor\"] },\n    \"textDecorationColor\"        : { \"types\": [\"color\"] },\n    \"textEmphasis\"               : { \"properties\": [\"textEmphasisColor\"] },\n    \"textEmphasisColor\"          : { \"types\": [\"color\"] },\n    \"textShadow\"                 : { \"types\": [\"shadow-list\"] },\n    \"columns\"                    : { \"properties\": [\"columnWidth\", \"columnCount\"] },\n    \"columnWidth\"                : { \"types\": [\"length\"] },\n    \"columnCount\"                : { \"types\": [\"integer\"] },\n    \"columnGap\"                  : { \"types\": [\"length-percentage-calc\"] },\n    \"columnRule\"                 : { \"properties\": [\"columnRuleColor\", \"columnRuleWidth\"] },\n    \"columnRuleColor\"            : { \"types\": [\"color\"] },\n    \"columnRuleWidth\"            : { \"types\": [\"length\"] },\n    \"letterSpacing\"              : { \"types\": [\"length\"] },\n    \"tabSize\"                    : { \"types\": [\"length\"] },\n    \"textIndent\"                 : { \"types\": [\"length-percentage-calc\"] },\n    \"wordSpacing\"                : { \"types\": [\"length-percentage-calc\"] },\n    \"transform\"                  : { \"types\": [\"transform\"] },\n    \"transformOrigin\"            : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    },\n    \"perspective\"                : { \"types\": [\"length\"] },\n    \"perspectiveOrigin\"          : {\n        \"types\"   : [\"length-percentage-calc\"],\n        \"multiple\": true\n    }\n}\n\n//\n///**\n// * List of animatable types used by properties, with descriptions of how to interpolate\n// each type. * Data taken from https://www.w3.org/TR/css3-transitions/#animatable-types\n// and some other W3C specs. * * @type {Object} */ exports.types = { 'color'\n//    : { name: 'color', href: 'https://www.w3.org/TR/css3-transitions/#animtype-color'\n// }, 'length'                : { name: 'length', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-length' }, 'percentage'            :\n// { name: 'percentage', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-percentage' },\n// 'length-percentage-calc': { name: 'length, percentage, or calc', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-lpcalc' }, 'integer'               :\n// { name: 'integer', href: 'https://www.w3.org/TR/css3-transitions/#animtype-integer' },\n// 'font-weight'           : { name: 'font weight', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-font-weight' }, 'number'\n//    : { name: 'number', href: 'https://www.w3.org/TR/css3-transitions/#animtype-number'\n// }, 'rectangle'             : { name: 'rectangle', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-rect' }, 'visibility'            : {\n// name: 'visibility', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-visibility' }, 'shadow-list'\n//   : { name: 'shadow list', href:\n// 'https://www.w3.org/TR/css3-transitions/#animtype-shadow-list' }, // Other specs\n// 'transform'             : { name: 'transform', href: 'https://www.w3.org/TR/css3-transforms/#interpolation-of-transforms' }, 'font-stretch'          : { name: 'font stretch', href: 'https://www.w3.org/TR/css3-fonts/#font-stretch-animation' }, 'basic-shape'           : { name: 'basic shape', href: 'https://www.w3.org/TR/css-shapes-1/#basic-shape-interpolation' }, };\n\nexport const units    = ['', 'deg', 'box', 'bz', 'bh', 'bw', 'deg', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'];\nexport const unitsRe  = new RegExp(\n    \"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n    ['\\\\w+', 'deg', 'bz', 'bh', 'bw', 'cap', 'ch', 'deg', 'em', 'ic', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n    + \")\"\n);\nexport const floatCut = ( v = 0 ) => Number(v.toFixed(3));\n\nexport function expandShorthandProperty( property, value, target = {} ) {\n    let type       = props[ property ],\n        childProps = type && type.properties,\n        values     = value.split(' ');\n    \n    if ( type.multiple )\n        childProps && childProps.forEach(\n            ( k, i ) => {\n                target[ k ] = values[ i % values.length ];\n            }\n        )\n    else\n        childProps && childProps.forEach(\n            ( k, i ) => {\n                if ( values[ i ] )\n                    target[ k ] = values[ i ];\n            }\n        )\n    return target;\n};\n\nexport function isShorthandProperty( property ) {\n    let type       = props[ property ],\n        childProps = type && type.properties;\n    return childProps && !!childProps.length;\n};\n\n\nexport function isValidDeclaration( property, value ) {\n    return !!props[ property ];\n};\n\n/**\n * Check if a CSS property can be animated\n * @param  {string} property CSS property name\n * @return {boolean}         True if the property can be animated\n */\nexport function canAnimate( property ) {\n    return props.hasOwnProperty(property);\n};\n\n/**\n * Get a definition of how a CSS property can be animated\n * @param  {string} property CSS property name\n * @param  {boolean} expand  Expand definitions for sub-properties, when available\n * @return {object}          Property definition, or null if it can't be animated\n */\nexport function getProperty( property, expand ) {\n    if ( !exports.canAnimate(property) ) {\n        return null;\n    }\n    var prop = props[ property ];\n    var ret  = { name: property };\n    Object.keys(prop).forEach(function ( key ) {\n        var value = prop[ key ];\n        if ( Array.isArray(value) ) {\n            if ( key === 'properties' && expand ) {\n                value = value.map(function ( subProp ) {\n                    return exports.getProperty(subProp, expand);\n                });\n            }\n            else {\n                value = value.slice(); // clone\n            }\n        }\n        ret[ key ] = value;\n    });\n    return ret;\n};\n","/* This is a virtual file generated by layer-pack */\nlet req, _exports = {}, walknSetExport=require('react-voodoo/.___layerPackIndexUtils').walknSetExport;\nconst _react_voodoo_utils_css_demux_typed_any_js = require(\"react-voodoo/utils/css/demux/typed/any.js\");\nwalknSetExport(_exports, \"any\", _react_voodoo_utils_css_demux_typed_any_js);\nconst _react_voodoo_utils_css_demux_typed_int_js = require(\"react-voodoo/utils/css/demux/typed/int.js\");\nwalknSetExport(_exports, \"int\", _react_voodoo_utils_css_demux_typed_int_js);\nconst _react_voodoo_utils_css_demux_typed_bool_js = require(\"react-voodoo/utils/css/demux/typed/bool.js\");\nwalknSetExport(_exports, \"bool\", _react_voodoo_utils_css_demux_typed_bool_js);\nconst _react_voodoo_utils_css_demux_typed_color_js = require(\"react-voodoo/utils/css/demux/typed/color.js\");\nwalknSetExport(_exports, \"color\", _react_voodoo_utils_css_demux_typed_color_js);\nconst _react_voodoo_utils_css_demux_typed_multi_js = require(\"react-voodoo/utils/css/demux/typed/multi.js\");\nwalknSetExport(_exports, \"multi\", _react_voodoo_utils_css_demux_typed_multi_js);\nconst _react_voodoo_utils_css_demux_typed_ratio_js = require(\"react-voodoo/utils/css/demux/typed/ratio.js\");\nwalknSetExport(_exports, \"ratio\", _react_voodoo_utils_css_demux_typed_ratio_js);\nconst _react_voodoo_utils_css_demux_typed_number_js = require(\"react-voodoo/utils/css/demux/typed/number.js\");\nwalknSetExport(_exports, \"number\", _react_voodoo_utils_css_demux_typed_number_js);\nconst _react_voodoo_utils_css_demux_typed_shadow_js = require(\"react-voodoo/utils/css/demux/typed/shadow.js\");\nwalknSetExport(_exports, \"shadow\", _react_voodoo_utils_css_demux_typed_shadow_js);\n\nexport const any = _exports.any;\n\nexport const bool = _exports.bool;\n\nexport const color = _exports.color;\n\nexport const int = _exports.int;\n\nexport const multi = _exports.multi;\n\nexport const number = _exports.number;\n\nexport const ratio = _exports.ratio;\n\nexport const shadow = _exports.shadow;\nexport default _exports;","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"prop-types\");","module.exports = require(\"@babel/runtime/helpers/inheritsLoose\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"fast-deep-equal\");","module.exports = require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\");","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../../cssUtils\";\nimport {bool, color}              from \"./(*).js\";\n\n\nconst cssShadowParser = (() => {\n\tconst VALUES_REG = /,(?![^\\(]*\\))/\n\tconst PARTS_REG  = /\\s(?![^(]*\\))/\n\tconst LENGTH_REG = /^[0-9]+[a-zA-Z%]+?$/\n\t\n\tconst parseValue = str => {\n\t\tconst parts = str.split(PARTS_REG)\n\t\tconst inset = parts.includes('inset')\n\t\tconst last  = parts.slice(-1)[0]\n\t\tconst color = !isLength(last) ? last : undefined\n\t\t\n\t\tconst nums                                         = parts\n\t\t\t.filter(n => n !== 'inset')\n\t\t\t.filter(n => n !== color)\n\t\t\t.map(toNum)\n\t\tconst [offsetX, offsetY, blurRadius, spreadRadius] = nums\n\t\t\n\t\treturn {\n\t\t\tinset,\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\tblurRadius,\n\t\t\tspreadRadius,\n\t\t\tcolor\n\t\t}\n\t}\n\t\n\tconst stringifyValue = obj => {\n\t\tconst {\n\t\t\t      inset,\n\t\t\t      offsetX    = 0,\n\t\t\t      offsetY    = 0,\n\t\t\t      blurRadius = 0,\n\t\t\t      spreadRadius,\n\t\t\t      color\n\t\t      } = obj || {}\n\t\t\n\t\treturn [\n\t\t\t(inset ? 'inset' : null),\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\tblurRadius,\n\t\t\tspreadRadius,\n\t\t\tcolor\n\t\t].filter(v => v !== null && v !== undefined)\n\t\t .map(toPx)\n\t\t .map(s => ('' + s).trim())\n\t\t .join(' ')\n\t}\n\t\n\tconst isLength = v => v === '0' || LENGTH_REG.test(v)\n\tconst toNum    = v => {\n\t\tif ( !/px$/.test(v) && v !== '0' ) return v\n\t\tconst n = parseFloat(v)\n\t\treturn !isNaN(n) ? n : v\n\t}\n\tconst toPx     = n => typeof n === 'number' && n !== 0 ? (n + 'px') : n\n\t\n\tconst parse     = str => str.split(VALUES_REG).map(s => s.trim()).map(parseValue)\n\tconst stringify = arr => arr.map(stringifyValue).join(', ')\n\t\n\treturn {\n\t\tparse,\n\t\tstringify\n\t}\n})()\n\n\nconst defaultUnits  = {\n\t      perspective: 'px',\n      },\n      defaultBox    = {\n\t      translateX: 'x',\n      },\n      defaultMuxers = {\n\t      //blurRadius  : number,\n\t      inset: bool,\n\t      //offsetX     : number,\n\t      //offsetY     : number,\n\t      //spreadRadius: number,\n\t      color: color\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tif ( path.length > 2 ) {\n\t\t// dec count on transform\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\tif ( defaultMuxers[path[2]] ) {\n\t\t\tdefaultMuxers[path[2]].release(twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues)\n\t\t\tif ( !dataMap[tmpKey] ) {\n\t\t\t\t//console.log(\"dec\", tmpKey, dataMap[path[0]][path[1]][path[2]])\n\t\t\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\t\tdelete dataMap[path[0]];\n\t\t\t\tdelete muxerMap[path[0]];\n\t\t\t\tdelete cssMap[path[0]];\n\t\t\t\t//console.log(\"delete color\", twKey)\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//console.log(\"dec\", twKey, dataMap[path[0]])\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t//if ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t//\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\t// free transform layers\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\t//tmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t// units\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\t//dataMap[path[0]][path[3]] = undefined;\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//console.log(\"delete\", tmpKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[tmpKey].length === 0 && !keepValues )\n\t\t\tdelete dataMap[tmpKey];\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !Object.keys(dataMap[path[0]][dataMap[path[0]].length - 1]).length )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t\t//console.log(\"delete\", path[0])\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitIndex, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitIndex] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t//console.log(key)\n\tlet shadows                                                         = [],\n\t    tmpValue                                                        = {};\n\tlet ti = 0, shadowMap, fkey, unitKey, unitIndex, dkey, u, iValue, y = 0, value;\n\tfor ( ; ti < data[key].length; ti++ ) {\n\t\tshadowMap = data[key][ti];\n\t\ttmpValue  = {};\n\t\tfor ( fkey in shadowMap )\n\t\t\tif ( shadowMap.hasOwnProperty(fkey) ) {\n\t\t\t\tdkey = key + '_' + ti + '_' + fkey;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif ( defaultMuxers[fkey] ) {\n\t\t\t\t\tvalue = defaultMuxers[fkey].demux(dkey, tweenable, undefined, data, box);\n\t\t\t\t\t//continue;\n\t\t\t\t\t//console.log(dkey, tweenable[dkey])\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue = \"\";\n\t\t\t\t\ty     = 0;\n\t\t\t\t\tfor ( unitIndex = 0; unitIndex < data[dkey].length; unitIndex++ )\n\t\t\t\t\t\tif ( data[dkey][unitIndex] ) {\n\t\t\t\t\t\t\tunitKey = dkey + \"_\" + unitIndex;\n\t\t\t\t\t\t\tiValue  = demuxOne(unitIndex, dkey, tweenable[unitKey], fkey, data, box);\n\t\t\t\t\t\t\tif ( y && iValue[0] === '-' )\n\t\t\t\t\t\t\t\tiValue = \" - \" + iValue.substr(1);\n\t\t\t\t\t\t\telse if ( y )\n\t\t\t\t\t\t\t\tiValue = \" + \" + iValue;\n\t\t\t\t\t\t\tvalue += iValue;\n\t\t\t\t\t\t\ty++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ( y > 1 )\n\t\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\ttmpValue[fkey] = (value || 0);\n\t\t\t}\n\t\tshadows.push(tmpValue);\n\t}\n\t\n\ttarget[key] = cssShadowParser.stringify(shadows);\n\t//console.log(key, shadows, target[key]);\n\t\n}\n\nexport function muxOne( key, baseKey, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[baseKey] || \"px\",\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', data[key][unitKey], value, noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\t//console.warn(key, ':', data[key][unitKey], value, noPropLock)\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\nexport const mux = ( key, value, target, data, initials, noPropLock, reOrder ) => {\n\t\n\tdata[key] = data[key] || [];\n\t//initials[key] = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\tlet ti = 0, shadowMap, tFnKey, baseData, fValue, dkey, u, seenUnits;\n\tfor ( ; ti < value.length; ti++ ) {\n\t\tshadowMap = value[ti];\n\t\tif ( is.string(shadowMap) )\n\t\t\tshadowMap = cssShadowParser.parse(shadowMap)[0];\n\t\tbaseData = reOrder ? {} : { ...(data[key][ti] || {}) };\n\t\tfor ( tFnKey in shadowMap ) {\n\t\t\tif ( shadowMap.hasOwnProperty(tFnKey) ) {\n\t\t\t\tfValue = shadowMap[tFnKey];\n\t\t\t\tdkey   = key + '_' + ti + '_' + tFnKey;\n\t\t\t\t\n\t\t\t\tbaseData[tFnKey] = baseData[tFnKey] || data[key][ti] && data[key][ti][tFnKey] || 0;\n\t\t\t\t!noPropLock && baseData[tFnKey]++;\n\t\t\t\tif ( defaultMuxers[tFnKey] ) {\n\t\t\t\t\tdefaultMuxers[tFnKey].mux(dkey, fValue, target, data, initials, noPropLock, reOrder);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t\n\t\t\t\t\tseenUnits = {};\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tdata[dkey] = data[dkey] || [];\n\t\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\t\tfor ( u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue[u] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue || 0, target, data, initials, noPropLock)\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdata[key][ti] =\n\t\t\treOrder\n\t\t\t? { ...baseData, ...(data[key][ti] || {}), ...baseData }\n\t\t\t:\n\t\t\tbaseData;\n\t\t//console.log(key, reOrder, data[key][ti], baseData)\n\t}\n\treturn demux;\n}","module.exports = require(\"react-dom\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../../cssUtils\";\n\nconst defaultUnits    = {\n\t      left       : 'px',\n\t      right      : 'px',\n\t      top        : 'px',\n\t      bottom     : 'px',\n\t      width      : 'px',\n\t      height     : 'px',\n\t      perspective: 'px',\n      },\n      defaultBox      = {\n\t      left  : 'x',\n\t      right : 'x',\n\t      top   : 'y',\n\t      bottom: 'y',\n\t      width : 'x',\n\t      height: 'y',\n      }, defaultValue = {\n\t      opacity: 0\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\t\n\tif ( path.length === 2 ) {\n\t\t//console.log(\"dec\", twKey, dataMap[path[0]][path[1]], keepValues)\n\t\tif ( !--dataMap[path[0]][path[1]] && !keepValues ) {\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//dataMap[path[0]][path[1]] = undefined;\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tif ( cssMap ) delete cssMap[path[0]];\n\t\t\t//console.log(\"delete\", path[0])\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitKey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitKey] || defaultUnits[baseKey] || \"px\";\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t\t\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box, baseKey ) {\n\tlet value, i = 0, y, rKey;\n\t\n\tvalue = \"\";\n\t\n\t//if ( key==\"height\" )\n\t//\tdebugger;\n\t\n\tfor ( y = 0; y < data[key].length; y++ )\n\t\tif ( data[key][y] ) {\n\t\t\trKey = key + \"_\" + y;\n\t\t\tif ( tweenable[rKey] < 0 )\n\t\t\t\tvalue += (i ? \" - \" : \"-\") + demuxOne(y, -tweenable[rKey], baseKey || key, data, box);\n\t\t\telse\n\t\t\t\tvalue += (i ? \" + \" : \"\") + demuxOne(y, tweenable[rKey], baseKey || key, data, box);\n\t\t\ti++;\n\t\t}\n\tif ( i > 1 )\n\t\tvalue = \"calc(\" + value + \")\";\n\t\n\t//console.log(key, ':', value)\n\treturn target ? target[key] = value : value;\n}\n\nexport function muxer( key, value, target, data, initials, noPropLock ) {\n\t\n\tdata[key]     = data[key] || [];\n\tlet seenUnits = [];\n\tif ( is.array(value) ) {\n\t\tfor ( let i = 0; i < value.length; i++ ) {\n\t\t\tmuxOne(key, value[i] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t}\n\t}\n\telse {\n\t\tmuxOne(key, value || 0, target, data, initials, noPropLock)\n\t}\n\t\n\treturn demux;\n}\n\nexport function muxOne( key, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[key] || \"px\",\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[key] || 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', data[key][unitKey], value, noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\t//console.warn(key, ':', data[key][unitKey], value, noPropLock)\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\n\nexport const mux = muxer;","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport rgba from \"color-rgba\";\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path   = twKey.split('_'),\n\t    tmpKey = path.slice(0, path.length - 1).join('_');\n\t\n\t//console.log(\"dec\", tmpKey, path, dataMap[twKey])\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\t//delete muxerMap[twKey];\n\t\t//delete cssMap[twKey];\n\t\t//console.log(\"delete\", twKey, path)\n\t}\n\tif ( !--dataMap[tmpKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\t//delete muxerMap[twKey];\n\t\t//delete cssMap[twKey];\n\t\t//console.log(\"delete\", tmpKey)\n\t}\n\t//}\n}\n\nexport function demux( key, tweenable, target, data ) {\n\tlet value = \"rgba(\" + tweenable[key + '_r'] + \", \" + tweenable[key + '_g'] + \", \" + tweenable[key + '_b'] + \", \" + tweenable[key + '_a'] + \")\";\n\treturn target ?\n\t       target[key] = value : value;\n}\n\nexport function mux( key, value, target, data, initials, noPropLock ) {\n\tlet vect = rgba(value);\n\t\n\tdata[key]        = data[key] || 0;\n\tdata[key + '_r'] = data[key + '_r'] || 0;\n\tdata[key + '_g'] = data[key + '_g'] || 0;\n\tdata[key + '_b'] = data[key + '_b'] || 0;\n\tdata[key + '_a'] = data[key + '_a'] || 0;\n\tif ( !noPropLock ) {\n\t\tdata[key] += 4;\n\t\tdata[key + '_r']++;\n\t\tdata[key + '_g']++;\n\t\tdata[key + '_b']++;\n\t\tdata[key + '_a']++;\n\t}\n\t\n\ttarget[key + '_r'] = vect[0];\n\ttarget[key + '_g'] = vect[1];\n\ttarget[key + '_b'] = vect[2];\n\ttarget[key + '_a'] = vect[3];\n\t\n\tinitials[key] = 0;\n\t\n\tinitials[key + '_r'] = 0;\n\tinitials[key + '_g'] = 0;\n\tinitials[key + '_b'] = 0;\n\tinitials[key + '_a'] = 1;\n\t\n\treturn demux;\n}\n","module.exports = require(\"d3-ease\");","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2019. Wise Wild Web\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\nmodule.exports = {\r\n\t/**\r\n\t * Walk & set executables from globs requires\r\n\t * @param _target\r\n\t * @param path\r\n\t * @param value\r\n\t */\r\n\twalknSetExport( _target, path, value ) {\r\n\t\tlet fPath  = path.split('/'),\r\n\t\t    target = _target, i, module;\r\n\t\t\r\n\t\ti = 0;\r\n\t\twhile ( i < fPath.length - 1 ) target = target[fPath[i]] = target[fPath[i]] || {}, i++;\r\n\t\t\r\n\t\tmodule = Object.keys(value).length === 1 && value.default || value;\r\n\t\t\r\n\t\tif ( !target[fPath[i]] ) {\r\n\t\t\ttarget[fPath[i]] = module;\r\n\t\t}\r\n\t\telse if ( !target[fPath[i]].__esModule ) {// if this is simple path obj write over\r\n\t\t\tObject.assign(module, target[fPath[i]]);\r\n\t\t\ttarget[fPath[i]] = module;\r\n\t\t}\r\n\t}\r\n};","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                           from \"is\";\nimport { floatCut, units, unitsRe } from \"../../cssUtils\";\n\nconst any = require('./any');\n\nconst defaultUnits    = {\n          left       : 'px',\n          right      : 'px',\n          top        : 'px',\n          bottom     : 'px',\n          width      : 'px',\n          height     : 'px',\n          perspective: 'px',\n      },\n      defaultBox      = {\n          left  : 'x',\n          right : 'x',\n          top   : 'y',\n          bottom: 'y',\n          width : 'x',\n          height: 'y',\n      }, defaultValue = {\n          opacity: 0\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n    let path = twKey.split('_'), tmpKey;// not optimal at all\n    \n    if ( path.length === 2 ) {\n        //console.log(\"dec\", twKey, dataMap[path[0]][path[1]], keepValues)\n        if ( !--dataMap[ path[ 0 ] ][ path[ 1 ] ] && !keepValues ) {\n            delete tweenableMap[ twKey ];\n            //dataMap[path[0]][path[1]] = undefined;\n        }\n        \n        if ( !keepValues )\n            while ( dataMap[ path[ 0 ] ].length && !dataMap[ path[ 0 ] ][ dataMap[ path[ 0 ] ].length - 1 ] )\n                dataMap[ path[ 0 ] ].pop();\n        \n        if ( dataMap[ path[ 0 ] ].length === 0 && !keepValues ) {\n            delete dataMap[ path[ 0 ] ];\n            delete muxerMap[ path[ 0 ] ];\n            if ( cssMap ) delete cssMap[ path[ 0 ] ];\n            //console.log(\"delete\", path[0])\n        }\n    }\n    else {\n        console.log(\"wtf\", path)\n    }\n}\n\nexport function demuxOne( unitKey, twVal, baseKey, data, box ) {\n    let value = twVal,\n        unit  = units[ unitKey ] || defaultUnits[ baseKey ] || \"px\";\n    \n    if ( unit === 'box' ) {\n        value = value * ( box[ defaultBox[ baseKey ] ] || box.x );\n        unit  = 'px';\n        \n    }\n    if ( unit === 'bw' ) {\n        value = value * box.x;\n        unit  = 'px';\n    }\n    if ( unit === 'bh' ) {\n        value = value * box.y;\n        unit  = 'px';\n    }\n    if ( unit === 'bz' ) {\n        value = value * box.z;\n        unit  = 'px';\n    }\n    return unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box, baseKey ) {\n    let value, i = 0, y, rKey;\n    \n    value = \"\";\n    \n    //if ( key==\"height\" )\n    //\tdebugger;\n    \n    if ( data[ key ].isString ) {\n        target[ key ] = data[ key ].value;// + defaultUnits[key];\n        return data[ key ].value;\n    }\n    \n    for ( y = 0; y < data[ key ].length; y++ )\n        if ( data[ key ][ y ] ) {\n            rKey = key + \"_\" + y;\n            if ( tweenable[ rKey ] < 0 )\n                value += ( i\n                           ? \" - \"\n                           : \"-\" ) + demuxOne(y, -tweenable[ rKey ], baseKey || key, data, box);\n            else\n                value += ( i\n                           ? \" + \"\n                           : \"\" ) + demuxOne(y, tweenable[ rKey ], baseKey || key, data, box);\n            i++;\n        }\n    if ( i > 1 )\n        value = \"calc(\" + value + \")\";\n    \n    //console.log(key, ':', value)\n    return target ? target[ key ] = value : value;\n}\n\nexport function muxer( key, value, target, data, initials, noPropLock ) {\n    \n    data[ key ]   = data[ key ] || [];\n    let seenUnits = [];\n    if ( is.array(value) ) {\n        for ( let i = 0; i < value.length; i++ ) {\n            muxOne(key, value[ i ] || 0, target, data, initials, noPropLock, seenUnits)\n        }\n    }\n    else {\n        muxOne(key, value || 0, target, data, initials, noPropLock)\n    }\n    \n    return demux;\n}\n\nexport function muxOne( key, value, target, data, initials, noPropLock, seenUnits ) {\n    \n    let match   = is.string(value) ? value.match(unitsRe) : false,\n        unit    = match && match[ 2 ] || defaultUnits[ key ] || \"px\",\n        unitKey = units.indexOf(unit),\n        realKey = unitKey !== -1 && ( key + '_' + unitKey ) || key;\n    \n    initials[ realKey ]    = defaultValue[ key ] || 0;\n    data[ key ][ unitKey ] = data[ key ][ unitKey ] || 0;\n    //\n    if ( !match && is.string(value) ) {\n        data[ key ].isString = true;\n        data[ key ].value    = value;\n        return demux;\n    }\n    \n    if ( seenUnits && seenUnits[ unitKey ] ) {\n        //console.warn(key, ':', data[key][unitKey], value, noPropLock)\n        if ( match ) {\n            target[ realKey ] += parseFloat(match[ 1 ]);\n        }\n        else {\n            target[ realKey ] += parseFloat(value);\n        }\n    }\n    else {\n        \n        !noPropLock && data[ key ][ unitKey ]++;\n        if ( match ) {\n            target[ realKey ] = parseFloat(match[ 1 ]);\n        }\n        else {\n            target[ realKey ] = parseFloat(value);\n        }\n        if ( seenUnits ) seenUnits[ unitKey ] = true;\n    }\n    \n    return demux;\n};\n\nexport const mux = muxer;","module.exports = require(\"shortid\");","module.exports = require(\"color-rgba\");","module.exports = require(\"tween-axis\");","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                  from \"is\";\nimport {floatCut, unitsRe} from \"../cssUtils\";\n\nconst\n\tdefaultUnits = {\n\t\tblur      : 'px',\n\t\tbrightness: '%',\n\t\tcontrast  : '%',\n\t\tdropShadow: true,\n\t\tgrayscale : '%',\n\t\thueRotate : 'deg',\n\t\tinvert    : \"%\",\n\t\topacity   : \"%\",\n\t\tsaturate  : \"%\",\n\t\tsepia     : \"%\"\n\t};\nconst filters    = {};\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tconsole.log(\"dec\", twKey, path)\n\tif ( path.length === 4 ) {\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t\n\t\tif ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t//console.warn(\"free\", dataMap, path, tweenableMap[twKey])\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//console.log(\"delete\", twKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[path[0] + \"_\" + path[1] + \"_\" + path[2]].length === 0 && !keepValues )\n\t\t\tdelete dataMap[path[0] + \"_\" + path[1] + \"_\" + path[2]];\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t\n\tif ( data[\"filter_head\"] === key ) {\n\t\tlet filters = \"\";\n\t\tObject.keys(data[key]).forEach(\n\t\t\tfkey => {\n\t\t\t\tlet dkey        = key + '_' + fkey;\n\t\t\t\tdata[key][fkey] = true;\n\t\t\t\tfilters += fkey + \"(\" + floatCut(tweenable[dkey], 2) + data[dkey] + \") \";\n\t\t\t}\n\t\t)\n\t\ttarget.filter = filters;\n\t}\n\t\n}\n\n\nexport const mux = ( key, value, target, data, initials ) => {\n\t\n\tdata[\"filter_head\"] = data[\"filter_head\"] || key;\n\tdata[key]           = data[key] || {};\n\t//initials[key]       = 0;\n\t\n\tObject.keys(value).forEach(\n\t\tfkey => {\n\t\t\tlet fValue      = value[fkey],\n\t\t\t    dkey        = key + '_' + fkey,\n\t\t\t    match       = is.string(fValue) ? fValue.match(unitsRe) : false;\n\t\t\tdata[key][fkey] = true;\n\t\t\tinitials[dkey]  = 0;\n\t\t\tif ( match ) {\n\t\t\t\tif ( data[dkey] && data[dkey] !== match[2] ) {\n\t\t\t\t\tconsole.warn(\"Have != units on prop ! Ignore \", dkey, \"present:\" + data[dkey], \"new:\" + match[2]);\n\t\t\t\t\ttarget[dkey] = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdata[dkey]   = match[2];\n\t\t\t\t\ttarget[dkey] = parseFloat(match[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttarget[dkey] = fValue;\n\t\t\t\tif ( !data[dkey] && fkey in defaultUnits )\n\t\t\t\t\tdata[dkey] = defaultUnits[fkey];\n\t\t\t}\n\t\t}\n\t)\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nexport * from \"./typed/shadow\";","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst defaultUnits = { opacity: 1 };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\ttarget[key] = ~~(tweenable[key]);// + defaultUnits[key];\n\t\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\t\n\tinitials[key] = 0;\n\ttarget[key]   = ~~value;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst defaultUnits = { opacity: 1 };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\tlet value = !!(tweenable[key]);\n\treturn target ? target[key] = value : value;\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\tinitials[key] = defaultUnits[key] || 0;\n\ttarget[key]   = value === false ? 0 : 1;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is          from \"is\";\nimport * as number from \"./number\";\n\nconst\n    alias = {\n        top   : '0%',\n        bottom: '100%',\n        center: '50%',\n        left  : '0%',\n        right : '100%'\n    };\n\nfunction demux( key, tweenable, target, data, box, offset ) {\n    \n    let count = data[ \"_\" + key ], v = '', nowhere = {};\n    \n    for ( let i = 0; i < count; i++ ) {\n        number.demux(key + '_' + i, tweenable, nowhere, data, box, offset);\n        v += nowhere[ key + '_' + i ] + ' ';\n    }\n    \n    target[ key ] = v;\n}\n\n\nfunction release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n    let path = twKey.split('_'), tmpKey;// not optimal at all\n    \n    //if ( path.length === 2 ) {\n    //\tconsole.log(\"dec\", twKey, dataMap[path[0]][path[1]])\n    //\tif ( !--dataMap[path[0]][path[1]] && !keepValues ) {\n    //\t\tdelete tweenableMap[twKey];\n    //\t\tdelete dataMap[path[0]][path[1]];\n    //\t}\n    //\n    //\tif ( !keepValues )\n    //\t\twhile ( dataMap[path[0]].length &&\n    // !dataMap[path[0]][dataMap[path[0]].length - 1] ) dataMap[path[0]].pop();  if (\n    // dataMap[path[0]].length === 0 && !keepValues ) { delete dataMap[path[0]]; delete\n    // muxerMap[path[0]]; delete cssMap[path[0]]; console.log(\"delete\", path[0]) } } else\n    // { console.log(\"wtf\", path) }\n}\n\nexport default ( count ) => ( {\n    mux: ( key, value, target, data, initials, noPropLock ) => {\n        let values = value.split(' '), v;\n        \n        data[ key ] = data[ key ] || 0;\n        noPropLock && data[ key ]++;\n        data[ \"_\" + key ] = count;\n        \n        for ( let i = 0; i < count; i++ ) {\n            v = values[ i % values.length ];\n            v = is.string(v) && alias[ v ] || v;\n            number.mux(key + '_' + i, v, target, data, initials, noPropLock)\n        }\n        \n        return demux;\n    }, demux, release\n} )","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst defaultUnits = { opacity: 1 };\nimport {floatCut} from \"../../cssUtils\";\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\t\n\tif ( !--dataMap[twKey] && !keepValues ) {\n\t\tdelete tweenableMap[twKey];\n\t\tdelete dataMap[twKey];\n\t\tdelete muxerMap[twKey];\n\t\tdelete cssMap[twKey];\n\t}\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\ttarget[key] = Math.min(1, Math.max(0, floatCut(tweenable[key])));\n}\n\n\nexport const mux = ( key, value, target, data, initials, noPropLock ) => {\n\t\n\t\n\tinitials[key] = defaultUnits[key] || 0;\n\ttarget[key]   = value;\n\tdata[key]     = data[key] || 0;\n\t!noPropLock && data[key]++;\n\t\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                         from \"is\";\nimport {floatCut, units, unitsRe} from \"../cssUtils\";\n\nconst defaultUnits    = {\n\t      //matrix     : true,\n\t      //translate  : 'px',\n\t      translateX : 'px',\n\t      translateY : 'px',\n\t      translateZ : 'px',\n\t      scale      : '',\n\t      scaleZ     : '',\n\t      scaleX     : '',\n\t      scaleY     : '',\n\t      rotate     : 'deg',\n\t      //skew       : 'deg',\n\t      skewX      : 'deg',\n\t      skewY      : 'deg',\n\t      //matrix3d   : true,\n\t      //translate3d: true,\n\t      //scale3d    : true,\n\t      //rotate3d   : true,\n\t      rotateX    : 'deg',\n\t      rotateY    : 'deg',\n\t      rotateZ    : 'deg',\n\t      perspective: 'px',\n      },\n      defaultBox      = {\n\t      translateX: 'x',\n\t      translateY: 'y',\n\t      translateZ: 'z',\n\t      rotateX   : 'x',\n\t      rotateY   : 'y',\n\t      rotateZ   : 'z',\n\t      left      : 'x',\n\t      right     : 'x',\n\t      top       : 'y',\n\t      bottom    : 'y',\n\t      width     : 'x',\n\t      height    : 'y',\n      }, defaultValue = {\n\t      //skew  : 1,\n\t      //skewX : 1,\n\t      //skewY : 1,\n\t      scale : 1,\n\t      scaleX: 1,\n\t      scaleY: 1,\n\t      scaleZ: 1\n      };\n\nexport function release( twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n\tlet path = twKey.split('_'), tmpKey;// not optimal at all\n\tif ( path.length === 4 ) {\n\t\t//console.warn(\"dec\", twKey, dataMap[path[0]][path[1]][path[2]])\n\t\t// dec count on transform\n\t\tif ( !--dataMap[path[0]][path[1]][path[2]] && !keepValues ) {\n\t\t\tdelete dataMap[path[0]][path[1]][path[2]];\n\t\t}\n\t\t//if ( Object.keys(dataMap[path[0]][path[1]]).length === 0 && !keepValues )\n\t\t//\tdelete dataMap[path[0]][path[1]];\n\t\t\n\t\t// free transform layers\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[path[0]].length && !dataMap[path[0]][dataMap[path[0]].length - 1] )\n\t\t\t\tdataMap[path[0]].pop();\n\t\t\n\t\t\n\t\ttmpKey = path[0] + \"_\" + path[1] + \"_\" + path[2];\n\t\t\n\t\tif ( !--dataMap[tmpKey][path[3]] && !keepValues ) {\n\t\t\tdelete dataMap[tmpKey][path[3]];\n\t\t\t//dataMap[path[0]][path[3]] = undefined;\n\t\t\tdelete tweenableMap[twKey];\n\t\t\t//console.log(\"delete\", twKey)\n\t\t}\n\t\t\n\t\tif ( !keepValues )\n\t\t\twhile ( dataMap[tmpKey].length && !dataMap[tmpKey][dataMap[tmpKey].length - 1] )\n\t\t\t\tdataMap[tmpKey].pop();\n\t\t\n\t\tif ( dataMap[tmpKey].length === 0 && !keepValues )\n\t\t\tdelete dataMap[tmpKey];\n\t\t\n\t\tif ( dataMap[path[0]].length === 0 && !keepValues ) {\n\t\t\tdelete dataMap[path[0]];\n\t\t\tdelete muxerMap[path[0]];\n\t\t\tdelete cssMap[path[0]];\n\t\t}\n\t}\n\telse {\n\t\tconsole.log(\"wtf\", path)\n\t}\n}\n\nexport function demuxOne( unitIndex, dkey, twVal, baseKey, data, box ) {\n\tlet value = twVal,\n\t    unit  = units[unitIndex] || defaultUnits[baseKey];\n\t\n\tif ( unit === 'box' ) {\n\t\tvalue = value * (box[defaultBox[baseKey]] || box.x);\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bw' ) {\n\t\tvalue = value * box.x;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'wh' ) {\n\t\tvalue = value * box.y;\n\t\tunit  = 'px';\n\t}\n\tif ( unit === 'bz' ) {\n\t\tvalue = value * box.z;\n\t\tunit  = 'px';\n\t}\n\t\n\tif ( unit === 'deg' )\n\t\tvalue = value % 360;\n\t\n\treturn unit ? floatCut(value) + unit : floatCut(value);\n}\n\nexport function demux( key, tweenable, target, data, box ) {\n\t//console.log(key)\n\tlet transforms                                                 = \"\",\n\t    tmpValue                                                   = {};\n\tlet ti = 0, tmap, fkey, unitKey, unitIndex, dkey, u, iValue, y = 0, value;\n\tfor ( ; ti < data[key].length; ti++ ) {\n\t\ttmap = data[key][ti];\n\t\tfor ( fkey in tmap )\n\t\t\tif ( tmap.hasOwnProperty(fkey) ) {\n\t\t\t\tdkey  = key + '_' + ti + '_' + fkey;\n\t\t\t\tvalue = \"\";\n\t\t\t\ty     = 0;\n\t\t\t\tfor ( unitIndex = 0; unitIndex < data[dkey].length; unitIndex++ )\n\t\t\t\t\tif ( data[dkey][unitIndex] ) {\n\t\t\t\t\t\tunitKey = dkey + \"_\" + unitIndex;\n\t\t\t\t\t\t//console.log(\"mux \", key, dkey, unitKey)\n\t\t\t\t\t\t\n\t\t\t\t\t\t//if ( !tweenable[unitKey] )\n\t\t\t\t\t\t//\tcontinue;\n\t\t\t\t\t\tiValue = demuxOne(unitIndex, dkey, tweenable[unitKey], fkey, data, box);\n\t\t\t\t\t\t//console.log(unitKey, tweenable[unitKey], iValue)\n\t\t\t\t\t\tif ( y && iValue[0] === '-' )\n\t\t\t\t\t\t\tiValue = \" - \" + iValue.substr(1);\n\t\t\t\t\t\telse if ( y )\n\t\t\t\t\t\t\tiValue = \" + \" + iValue;\n\t\t\t\t\t\tvalue += iValue;\n\t\t\t\t\t\ty++;\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif ( y > 1 )\n\t\t\t\t\tvalue = \"calc(\" + value + \")\";\n\t\t\t\t\n\t\t\t\tif ( y > 0 )\n\t\t\t\t\ttransforms += fkey + \"(\" + (value || \"0\") + \") \";\n\t\t\t}\n\t}\n\ttarget.transform = transforms;\n\t\n}\n\nexport function muxOne( key, baseKey, value, target, data, initials, noPropLock, seenUnits ) {\n\t\n\tlet match   = is.string(value) ? value.match(unitsRe) : false,\n\t    unit    = match && match[2] || defaultUnits[baseKey],\n\t    unitKey = units.indexOf(unit),\n\t    realKey = unitKey !== -1 && (key + '_' + unitKey) || key;\n\t\n\tinitials[realKey]  = defaultValue[baseKey] || 0;\n\tdata[key][unitKey] = data[key][unitKey] || 0;\n\t//console.log(key, ':', realKey, data[key][unitKey], initials[realKey], noPropLock)\n\t\n\tif ( seenUnits && seenUnits[unitKey] ) {\n\t\tif ( match ) {\n\t\t\ttarget[realKey] += parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] += parseFloat(value);\n\t\t}\n\t}\n\telse {\n\t\t\n\t\t!noPropLock && data[key][unitKey]++;\n\t\tif ( match ) {\n\t\t\ttarget[realKey] = parseFloat(match[1]);\n\t\t}\n\t\telse {\n\t\t\ttarget[realKey] = parseFloat(value);\n\t\t}\n\t\tif ( seenUnits ) seenUnits[unitKey] = true;\n\t}\n\t\n\treturn demux;\n};\nexport const mux = ( key, value, target, data, initials, noPropLock, reOrder ) => {\n\t\n\tdata[key] = data[key] || [];\n\t//initials[key] = 0;\n\t\n\tif ( !is.array(value) )\n\t\tvalue = [value];\n\tlet ti = 0, tmap, tFnKey, baseData, fValue, dkey, u, seenUnits;\n\tfor ( ; ti < value.length; ti++ ) {\n\t\ttmap     = value[ti];\n\t\tbaseData = reOrder ? {} : { ...(data[key][ti] || {}) };\n\t\tfor ( tFnKey in tmap )\n\t\t\tif ( tmap.hasOwnProperty(tFnKey) ) {\n\t\t\t\tfValue    = tmap[tFnKey];\n\t\t\t\tseenUnits = {};\n\t\t\t\tdkey      = key + '_' + ti + '_' + tFnKey;\n\t\t\t\t\n\t\t\t\tbaseData[tFnKey] = baseData[tFnKey] || data[key][ti] && data[key][ti][tFnKey] || 0;\n\t\t\t\t!noPropLock && baseData[tFnKey]++;\n\t\t\t\t\n\t\t\t\t//console.warn(\"set \", key, dkey, noPropLock, baseData[tFnKey])\n\t\t\t\t\n\t\t\t\tdata[dkey] = data[dkey] || [];\n\t\t\t\tif ( is.array(fValue) ) {\n\t\t\t\t\tfor ( u = 0; u < fValue.length; u++ ) {\n\t\t\t\t\t\tmuxOne(dkey, tFnKey, fValue[u] || 0, target, data, initials, noPropLock, seenUnits)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tmuxOne(dkey, tFnKey, fValue || 0, target, data, initials, noPropLock)\n\t\t\t\t}\n\t\t\t}\n\t\tdata[key][ti] =\n\t\t\treOrder\n\t\t\t? { ...baseData, ...(data[key][ti] || {}), ...baseData }\n\t\t\t:\n\t\t\tbaseData;\n\t\t//console.log(key, reOrder, data[key][ti], baseData)\n\t}\n\treturn demux;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nexport * from \"./typed/shadow\";","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nexport * from \"./typed/color\";","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport React from 'react';\n\nconst TweenerContext = React.createContext(null);\nexport default TweenerContext","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport PropTypes from \"prop-types\";\nimport React     from 'react';\n\nimport TweenerContext from \"./TweenerContext\";\n\n//@todo : rewrite with hooks\nexport default class Axis extends React.Component {\n    static propTypes = {\n        id             : PropTypes.string,\n        axe            : PropTypes.string,\n        items          : PropTypes.array,\n        bounds         : PropTypes.object,\n        inertia        : PropTypes.any,\n        defaultPosition: PropTypes.number,\n        size           : PropTypes.any\n    };\n    state            = {};\n    \n    componentWillUnmount() {\n        \n        if ( this._tweenLines ) {\n            Object.keys(this._tweenLines)\n                  .forEach(axe => this._previousTweener.rmScrollableAnim(this._tweenLines[ axe ], axe));\n            \n        }\n        delete this._previousTweener;\n        delete this._previousScrollable;\n    }\n    \n    render() {\n        let {\n                children,\n                id,\n                axe   = id,\n                scrollFirst, bounds,\n                scrollableWindow, inertia, size, defaultPosition,\n                items = [],\n            } = this.props;\n        return <TweenerContext.Consumer>\n            {\n                tweener => {\n                    if ( !this._previousAxis || this._previousAxis !== axe ) {//....\n                        this._previousAxis    = axe;\n                        this._previousInertia = inertia;\n                        tweener.initAxis(axe, {\n                            inertia,\n                            size,\n                            scrollableWindow,\n                            defaultPosition,\n                            scrollFirst,\n                            scrollableBounds: bounds\n                        }, true);\n                    }\n                    else if ( !this._previousInertia || this._previousInertia !== inertia ) {//....\n                        this._previousInertia = inertia;\n                        this._previousAxis    = axe;\n                        tweener.initAxis(axe, {\n                            inertia,\n                            size,\n                            scrollableWindow,\n                            defaultPosition,\n                            scrollFirst,\n                            scrollableBounds: bounds\n                        });\n                    }\n                    if ( !this._previousTweener || this._previousTweener !== tweener ) {// mk axe not modifiable\n                        this._previousTweener && this._lastTL && this._previousTweener.rmScrollableAnim(this._lastTL, this._previousAxis);\n                        if ( items.length )\n                            this._lastTL = tweener.addScrollableAnim(items, axe, size);\n                        this._previousTweener = tweener;\n                        this._previousTweens  = items;\n                    }\n                    else if ( this._previousTweens !== items && !( this._previousTweens && deepEqual(items, this._previousTweens) ) ) {\n                        this._lastTL && this._previousTweener && this._previousTweener.rmScrollableAnim(this._lastTL, this._previousAxis);\n                        this._lastTL = null;\n                        if ( items.length )\n                            this._lastTL = tweener.addScrollableAnim(items, axe, size);\n                        this._previousTweens = items;\n                    }\n                    return <React.Fragment/>;\n                }\n            }\n        </TweenerContext.Consumer>;\n    }\n}","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2020. Nathanael Braun\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\n\r\n\r\nexport function isClassComponent(component) {\r\n    return (\r\n        typeof component === 'function' &&\r\n        !!component.prototype.isReactComponent\r\n    )\r\n}\r\nexport function isFunctionalComponent(Component) {\r\n    return (\r\n        typeof Component === 'function' // can be various things\r\n        && !(\r\n        Component.prototype // native arrows don't have prototypes\r\n        && Component.prototype.isReactComponent // special property\r\n        )\r\n    );\r\n}\r\n\r\nexport function isReactComponent(component) {\r\n    return (\r\n        isClassComponent(component) ||\r\n        isFunctionalComponent(component)\r\n    )\r\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport is        from \"is\";\nimport React     from 'react';\nimport shortid   from 'shortid';\n\nimport TweenerContext from \"./TweenerContext\";\n\nimport { isFunctionalComponent } from '../utils/react';\n\nfunction setTarget( anims, target ) {\n    return anims.map(\n        tween => ( {\n            ...tween,\n            target\n        } )\n    )\n}\n\n//@todo : rewrite with hooks\nexport default class Node extends React.Component {\n    \n    static propTypes = {};\n    state            = {};\n    __tweenableId    = shortid.generate();\n    \n    componentWillUnmount() {\n        if ( this._tweenAxisObj ) {\n            Object.keys(this._tweenAxisObj)\n                  .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxisObj[ axe ], axe));\n            \n        }\n        if ( this._currentTweener ) {\n            this._currentTweener.rmTweenRef(this.__tweenableId)\n            this._currentTweener.setRootRef(undefined);\n        }\n        delete this._currentTweener;\n        delete this._tweenAxisObj;\n        delete this._previousScrollable;\n    }\n    \n    render() {\n        let {\n                children,\n                id         = this.__tweenableId,\n                style, initial, pos, noRef, reset, tweener,\n                isRoot,\n                axes,\n                refProp    = \"nodeRef\",\n                tweenLines = axes,\n                tweenAxis  = tweenLines,\n                ...props\n            } = this.props;\n        return <TweenerContext.Consumer>\n            {\n                parentTweener => {\n                    \n                    \n                    parentTweener = tweener || parentTweener;\n                    \n                    if ( !parentTweener ) {\n                        console.error(\"No voodoo tweener found in the context, is there any parent with asTweener ?\")\n                        return <React.Fragment/>;\n                    }\n                    //console.warn(\"render : \", this.__tweenableId, this._currentTweener,\n                    // parentTweener, this._currentTweener !== parentTweener)\n                    let twRef = parentTweener.tweenRef(id, children.props && children.props.style, style || initial,\n                                                       pos, noRef),\n                        axisItemsChange;\n                    \n                    //console.warn(\"render2 : \", this.__tweenableId,\n                    // this._currentTweener, parentTweener, this._currentTweener !==\n                    // parentTweener)\n                    \n                    \n                    if ( this._currentTweener !== parentTweener || this._previousScrollable !== tweenAxis ) {\n                        axisItemsChange = this._tweenAxis !== tweenAxis && !( this._tweenAxis && deepEqual(tweenAxis, this._tweenAxis) );\n                        if ( this._currentTweener && axisItemsChange ) {\n                            this._tweenAxisObj && Object.keys(this._tweenAxisObj)\n                                                        .forEach(axe => this._currentTweener.rmScrollableAnim(this._tweenAxisObj[ axe ], axe));\n                            \n                        }\n                        //console.log(twRef, axisItemsChange, this._tweenAxis, tweenAxis)\n                        if ( this._currentTweener && this._currentTweener !== parentTweener ) {\n                            this._currentTweener.rmTweenRef(id);\n                        }\n                        if ( axisItemsChange ) {\n                            this._tweenAxis = tweenAxis;\n                            if ( tweenAxis && is.array(tweenAxis) )\n                                this._tweenAxisObj = { scrollY: parentTweener.addScrollableAnim(setTarget(tweenAxis, id)) };\n                            else\n                                this._tweenAxisObj = tweenAxis && Object.keys(tweenAxis)\n                                                                        .reduce(( h, axe ) => ( h[ axe ] = parentTweener.addScrollableAnim(setTarget(tweenAxis[ axe ], id), axe), h ), {});\n                            twRef = parentTweener.tweenRef(id, children.props && children.props.style, style || initial,\n                                                           pos, noRef)\n                        }\n                        \n                        twRef.style = { ...parentTweener._updateTweenRef(id, true) };\n                        \n                        if ( this.props.hasOwnProperty(\"isRoot\") ) {\n                            this._currentTweener && this._currentTweener.setRootRef(undefined);\n                            tweener.setRootRef(id);\n                        }\n                        \n                        this._currentTweener     = parentTweener;\n                        this._previousScrollable = tweenAxis;\n                        \n                    }\n                    else if ( twRef ) {\n                        twRef.style = { ...parentTweener._updateTweenRef(id, true) };\n                    }\n                    \n                    let RefChild = React.Children.only(children);\n                    \n                    if ( RefChild && React.isValidElement(RefChild) ) {//todo\n                        this._lastRef = twRef;\n                        \n                        if ( isFunctionalComponent(RefChild.type) )\n                            return <RefChild.type\n                                { ...props }\n                                { ...RefChild.props }\n                                { ...twRef }\n                                ref={ undefined }\n                                {\n                                    ...{\n                                        [ refProp ]: twRef.ref\n                                    }\n                                }\n                            />;\n                        \n                        return <RefChild.type\n                            { ...props }\n                            { ...RefChild.props }\n                            { ...twRef }/>;\n                        \n                    }\n                    else {\n                        console.error(\"Invalid voodoo Node child : \", id)\n                    }\n                    return <div>Invalid</div>;\n                }\n            }\n        </TweenerContext.Consumer>;\n    }\n}\n\nNode.div = ( { children, className, ...props } ) => {\n    return <Node { ...props }>\n        <div className={ className }>{ children }</div>\n    </Node>;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nlet\n    is        = require('is'),\n    isBrowser = typeof window !== 'undefined',\n    isTouch   = isBrowser && ( function is_touch_device() {\n        var prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n        var mq       = function ( query ) {\n            return window.matchMedia && window.matchMedia(query).matches;\n        }\n        \n        if ( ( 'ontouchstart' in window ) || window.DocumentTouch && document instanceof DocumentTouch ) {\n            return true;\n        }\n        \n        // include the 'heartz' as a way to have a non matching MQ to help terminate the\n        // join https://git.io/vznFH\n        var query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n        return mq(query);\n    }() ),\n    _dom      = isBrowser ? {\n        prefix      : ( /webkit/i ).test(navigator.appVersion) ? 'webkit' :\n                      ( /firefox/i ).test(navigator.userAgent) ? 'Moz' :\n                      ( /trident/i ).test(navigator.userAgent) ? 'ms' :\n                      'opera' in window ? 'O' : '',\n        dashedPrefix: ( /webkit/i ).test(navigator.appVersion) ? '-webkit-' :\n                      ( /firefox/i ).test(navigator.userAgent) ? '-moz-' :\n                      ( /trident/i ).test(navigator.userAgent) ? '-ms-' :\n                      'opera' in window ? '-o-' : ''\n    } : {\n        prefix      : '',\n        dashedPrefix: ''\n    },\n    __        = {\n        onPageHided      : [],\n        onPageShown      : [],\n        dragging         : [],\n        dragEnabled      : [],\n        dragEnabledDesc  : [],\n        fingers          : {},\n        nbFingers        : 0,\n        dragstartAnywhere: function ( e ) {\n            let o,\n                me            = __,\n                i             = me.dragEnabled.indexOf(this),\n                finger,\n                desc, fingers = [];\n            \n            if ( i === -1 ) {\n                return;\n            }\n            //e.preventDefault();\n            //e.stopPropagation();\n            \n            if ( !me.nbFingers ) {\n                Dom.addEvent(document,\n                             {\n                                 'touchmove': me.dragAnywhere,\n                                 'mousemove': me.dragAnywhere,\n                                 'touchend' : me.dropAnywhere,\n                                 'mouseup'  : me.dropAnywhere,\n                             });\n                Dom.addEvent(this,\n                             {\n                                 'click': me.dropWithoutClick\n                             }, null, null, null, true);\n            }\n            \n            if ( e.changedTouches && e.changedTouches.length ) {\n                fingers = e.changedTouches\n            }\n            else fingers.push(e);\n            \n            for ( let t = 0, ln = fingers.length; t < ln; t++ ) {\n                finger = fingers[ t ];\n                \n                \n                desc = me.dragEnabledDesc[ i ];\n                \n                if ( desc.nbFingers ) continue;\n                \n                me.nbFingers++;\n                \n                me.fingers[ finger.identifier ] = me.fingers[ finger.identifier ] || [];\n                me.fingers[ finger.identifier ].push(desc);\n                \n                \n                desc.nbFingers++;\n                \n                desc._startPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n                desc._startPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n                desc._startTs    = e.timeStamp;\n                \n                \n                desc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n                desc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n                \n                for ( o = 0; o < desc.dragstart.length; o++ )\n                    desc.dragstart[ o ][ 0 ].call(desc.dragstart[ o ][ 1 ] ||\n                                                  this, e, finger, desc);\n            }\n        },\n        dragAnywhere     : function ( e ) {\n            let o,\n                me              = __,\n                finger, fingers = [], stopped,\n                desc            = __.dragging[ 0 ];\n            \n            \n            if ( e.changedTouches && e.changedTouches.length ) {\n                fingers = e.changedTouches\n            }\n            else fingers.push(e);\n            \n            for ( let i = 0, ln = fingers.length; i < ln; i++ ) {\n                finger = fingers[ i ];\n                desc   = me.fingers[ finger.identifier ];\n                me.fingers[ finger.identifier ] &&\n                me.fingers[ finger.identifier ].forEach(\n                    desc => {\n                        if ( stopped ) {\n                            desc._lastPos.x = desc._startPos.x = _dom.prefix == 'MS'\n                                                                 ? finger.x\n                                                                 : finger.pageX;\n                            desc._lastPos.y = desc._startPos.y = _dom.prefix == 'MS'\n                                                                 ? finger.y\n                                                                 : finger.pageY;\n                            return;\n                        }\n                        desc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n                        desc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n                        \n                        for ( o = 0; o < desc.drag.length; o++ )\n                            stopped = desc.drag[ o ][ 0 ].call(desc.drag[ o ][ 1 ] || this, e,\n                                                               finger,\n                                                               desc) === false;\n                    }\n                )\n                \n            }\n        },\n        dropWithoutClick : function ( e ) {\n            if ( __.preventNextClick ) {\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                __.preventNextClick = false;\n            }\n            Dom.removeEvent(this,\n                            {\n                                'click': this.dropWithoutClick\n                            });\n        },\n        dropAnywhere     : function ( e ) {\n            let o,\n                me = __, finger, fingers = [],\n                prevent;\n            \n            if ( e.changedTouches && e.changedTouches.length ) {\n                fingers = e.changedTouches\n            }\n            else fingers.push(e);\n            \n            for ( let i = 0, ln = fingers.length; i < ln; i++ ) {\n                finger = fingers[ i ];\n                me.nbFingers--;\n                me.fingers[ finger.identifier ] &&\n                me.fingers[ finger.identifier ].forEach(\n                    desc => {\n                        \n                        \n                        desc.nbFingers--;\n                        prevent         = prevent || desc.mouseDrag && ( e.timeStamp - desc._startTs > 250 );\n                        desc._lastPos.x = _dom.prefix == 'MS' ? finger.x : finger.pageX;\n                        desc._lastPos.y = _dom.prefix == 'MS' ? finger.y : finger.pageY;\n                        \n                        for ( o = 0; o < desc.dropped.length; o++ )\n                            desc.dropped[ o ][ 0 ].call(desc.dropped[ o ][ 1 ] ||\n                                                        this, e,\n                                                        finger, desc);\n                        \n                        \n                    }\n                )\n                me.fingers[ finger.identifier ] = null;\n            }\n            if ( prevent ) {\n                me.preventNextClick = true;\n            }\n            if ( !me.nbFingers ) {\n                Dom.removeEvent(document,\n                                {\n                                    'touchmove': me.dragAnywhere,\n                                    'mousemove': me.dragAnywhere,\n                                    'touchend' : me.dropAnywhere,\n                                    'mouseup'  : me.dropAnywhere\n                                });\n            }\n        },\n        getDraggable     : function ( node, mouseDrag, touchDrag ) {\n            let i = this.dragEnabled.indexOf(node), desc;\n            if ( i === -1 ) {\n                this.dragEnabled.push(node);\n                this.dragEnabledDesc.push(\n                    desc = {\n                        mouseDrag,\n                        touchDrag,\n                        nbFingers: 0,\n                        locks    : 0,\n                        _startPos: {\n                            x: 0,\n                            y: 0\n                        },\n                        _lastPos : {\n                            x: 0,\n                            y: 0\n                        },\n                        dragstart: [],\n                        drag     : [],\n                        dragEnd  : [],\n                        dropped  : []\n                    }\n                );\n                //debugger;\n                Dom.addEvent(node,\n                             {\n                                 'mousedown' : mouseDrag && this.dragstartAnywhere,\n                                 'touchstart': touchDrag && this.dragstartAnywhere\n                             }, null, null, null, true);\n            }\n            else desc = this.dragEnabledDesc[ i ];\n            return desc;\n        },\n        freeDraggable    : function ( node ) {\n            let i = this.dragEnabled.indexOf(node), desc;\n            if ( i !== -1 ) {\n                this.dragEnabled.splice(i, 1);\n                this.dragEnabledDesc.splice(i, 1);\n                \n                Dom.removeEvent(node,\n                                {\n                                    'mousedown' : this.dragstartAnywhere,\n                                    'touchstart': this.dragstartAnywhere\n                                });\n            }\n        },\n        \n        addEvent   : function ( node, type, fn, bubble ) {\n            if ( node.addEventListener ) {\n                node.addEventListener(type, fn, bubble);\n            }\n            else if ( node.attachEvent ) {\n                node.attachEvent('on' + type,\n                                 fn.related = function ( e ) {\n                                     return fn.call(node, e);\n                                 });\n            }\n        },\n        removeEvent: function ( node, type, fn, bubble ) {\n            if ( node.removeEventListener ) {\n                node.removeEventListener(type, fn, bubble);\n            }\n            else if ( node.attachEvent ) {\n                node.detachEvent('on' + type, fn.related);\n            }\n        },\n        rmDragFn   : function ( arr, fn, scope ) {\n            for ( let i = 0, ln = arr.length; i < ln; i++ ) {\n                if ( arr[ i ][ 0 ] === fn )\n                    return arr.splice(i, 1);\n            }\n            \n            console.warn(\"Rm event : Listener not found !!\");\n        },\n    },\n    Dom       = {\n        addEvent   : function ( node, type, fn, mouseDrag, touchDrag = true, bubble ) {\n            if ( is.object(type) ) {\n                for ( let o in type )\n                    if ( type.hasOwnProperty(o) && type[ o ] )\n                        this.addEvent(node, o, type[ o ], mouseDrag, touchDrag, bubble);\n                return;\n            }\n            else if ( type === 'dragstart' ) {\n                __.getDraggable(node, mouseDrag, touchDrag).dragstart.push([fn]);\n            }\n            else if ( type === 'drag' ) {\n                __.getDraggable(node, mouseDrag, touchDrag).drag.push([fn]);\n            }\n            else if ( type === 'dropped' ) {\n                __.getDraggable(node, mouseDrag, touchDrag).dropped.push([fn]);\n            }\n            else {\n                if ( node.addEventListener ) {\n                    node.addEventListener(type, fn, { passive: false });\n                }\n                else if ( node.attachEvent ) {\n                    node.attachEvent('on' + type,\n                                     fn.related = function ( e ) {\n                                         return fn.call(node, e);\n                                     });\n                }\n            }\n            \n        },\n        removeEvent: function ( node, type, fn, scope, bubble ) {\n            let i, desc;\n            \n            if ( is.object(type) ) {\n                for ( let o in type )\n                    if ( type.hasOwnProperty(o) )\n                        this.removeEvent(node, o, type[ o ], scope);\n                \n            }\n            else if ( /^(drag|drop)/.test(type) ) {\n                desc = __.getDraggable(node);\n                __.rmDragFn(desc[ type ], fn, scope);\n                if ( !desc.dragstart.length\n                     && !desc.drag.length\n                     && !desc.dragEnd.length\n                     && !desc.dropped.length )\n                    __.freeDraggable(node);\n            }\n            else {\n                if ( node.removeEventListener ) {\n                    node.removeEventListener(type, fn, bubble);\n                }\n                else if ( node.attachEvent ) {\n                    node.detachEvent('on' + type, fn.related);\n                }\n            }\n            \n        },\n        offset     : function ( elem ) {// @todo\n            let dims = {\n                top   : 0,\n                left  : 0,\n                width : elem.offsetWidth,\n                height: elem.offsetHeight\n            };\n            while ( elem ) {\n                dims.top  = dims.top + parseInt(elem.offsetTop);\n                dims.left = dims.left + parseInt(elem.offsetLeft);\n                elem      = elem.offsetParent;\n            }\n            return dims;\n        },\n        \n        \n        /**\n         * Find the react component that generate element dom node\n         * @param element\n         * @returns {[React.Component]}\n         */\n        findReactParents( element ) {\n            let fiberNode, comps = [element];\n            for ( const key in element ) {\n                \n                if ( key.startsWith('__reactInternalInstance$') ) {\n                    fiberNode = element[ key ];\n                    while ( fiberNode.return ) {\n                        if ( fiberNode.stateNode && !comps.includes(fiberNode.stateNode) )\n                            comps.push(fiberNode.stateNode)\n                        fiberNode = fiberNode.return;\n                    }\n                    return comps;\n                }\n            }\n            return element.parentNode && this.findReactParents(element.parentNode);\n        }\n        \n    };\nexport default Dom;","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport React from \"react\";\nimport is    from \"is\";\n\nimport { isReactComponent } from '../utils/react';\nimport TweenerContext       from \"../comps/TweenerContext\";\n\n\nconst SimpleObjectProto = ( {} ).constructor;\n\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function withTweener( ...argz ) {\n    \n    let BaseComponent = ( !argz[ 0 ] || isReactComponent(argz[ 0 ]) ) && argz.shift(),\n        opts          = ( !argz[ 0 ] || argz[ 0 ] instanceof SimpleObjectProto ) && argz.shift() || {};\n    \n    if ( !( BaseComponent && ( BaseComponent.prototype instanceof React.Component || BaseComponent === React.Component ) ) ) {\n        return function ( BaseComponent ) {\n            return withTweener(BaseComponent, opts)\n        }\n    }\n    \n    class TweenerToProps extends React.Component {\n        static displayName = ( BaseComponent.displayName || BaseComponent.name );\n        \n        render() {\n            return <TweenerContext.Consumer>\n                {\n                    tweener => {\n                        return <BaseComponent { ...this.props } tweener={ tweener }\n                                              ref={ this.props.forwardedRef }/>;\n                    }\n                }\n            </TweenerContext.Consumer>;\n        }\n    }\n    \n    \n    let withRef         = React.forwardRef(( props, ref ) => {\n        return <TweenerToProps { ...props } forwardedRef={ ref }/>;\n    });\n    withRef.displayName = TweenerToProps.displayName;\n    return withRef;\n}\n","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport deepEqual from \"fast-deep-equal\";\nimport is        from \"is\";\nimport PropTypes from \"prop-types\";\nimport React     from 'react';\nimport ReactDom  from \"react-dom\";\nimport domUtils  from \"../utils/dom\";\n\nimport withTweener    from \"../spells/withTweener\";\nimport TweenerContext from \"./TweenerContext\";\n\n@withTweener\nexport default class Draggable extends React.Component {\n    static propTypes    = {\n        xAxis    : PropTypes.string,\n        yAxis    : PropTypes.string,\n        xBoxRef  : PropTypes.object,\n        yRef     : PropTypes.object,\n        xHook    : PropTypes.func,\n        yHook    : PropTypes.func,\n        mouseDrag: PropTypes.bool,\n        touchDrag: PropTypes.bool\n    };\n    static defaultProps = {\n        Comp     : 'div',\n        mouseDrag: false,\n        touchDrag: true\n    };\n    state               = {};\n    _                   = {};\n    root                = React.createRef();\n    \n    componentWillUnmount() {\n        let node = this.root?.current;\n        if ( this._.scrollEnabled ) {\n            this._.scrollEnabled = false;\n            \n            //this._.axes          = undefined;\n            node && this._.dragList && domUtils.removeEvent(node\n                , this._.dragList)\n        }\n    }\n    \n    componentDidMount() {\n        this._registerScrollListeners();\n    }\n    \n    /**\n     * Return scrollable parent node list basing a dom node\n     * @param node\n     * @returns {T[]}\n     */\n    getScrollableNodes( node ) {\n        let scrollable = [], parent = this._parentTweener;//domUtils.findReactParents(node),\n                                                          // _ = this._;\n        \n        while ( parent ) {\n            scrollable.push(parent);\n            parent = parent._parentTweener;\n        }\n        \n        return scrollable\n    }\n    \n    /**\n     * todo rewrite or use lib\n     * Init touch & scroll listeners\n     * Drive scroll & drag values updates\n     * @private\n     */\n    _registerScrollListeners() {\n        let rootNode = this.root?.current,\n            {\n                xAxis, yAxis, yHook, xHook, mouseDrag, touchDrag, tweener, xBoxRef, yBoxRef\n            }        = this.props,\n            lastStartTm,\n            cLock, dX,\n            parents,\n            dY, parentsState, refWidth, refHeight,\n            _        = tweener._;\n        if ( rootNode ) {\n            domUtils.addEvent(\n                rootNode, this._.dragList = {\n                    'dragstart': ( e, touch, descr ) => {//@todo\n                        let pTweener,\n                            x,\n                            y, i, style;\n                        \n                        parents      = this.getScrollableNodes(e.target);\n                        lastStartTm  = Date.now();\n                        dX           = 0;\n                        dY           = 0;\n                        parentsState = [];\n                        refWidth     = ( xBoxRef?.current || rootNode )?.offsetWidth;\n                        refHeight    = ( yBoxRef?.current || rootNode )?.offsetHeight;\n                        for ( i = 0; i < parents.length; i++ ) {\n                            pTweener = parents[ i ];\n                            pTweener._updateBox();\n                            // react comp with tweener support\n                            if ( pTweener.__isTweener ) {\n                                x = xAxis && pTweener.axes?.[ xAxis ];\n                                y = yAxis && pTweener.axes?.[ yAxis ];\n                                pTweener._updateNodeInertia()\n                            }\n                            \n                        }\n                        //tweener._updateNodeInertia()\n                        //e.stopPropagation();\n                        //e.preventDefault();\n                    },\n                    'click'    : ( e, touch, descr ) => {//@todo\n                        if ( lastStartTm &&\n                             !( ( lastStartTm > Date.now() - _.options.maxClickTm ) &&\n                             Math.abs(dY) < _.options.maxClickOffset &&\n                             Math.abs(dX) < _.options.maxClickOffset )\n                        ) {\n                            e.preventDefault();\n                            e.stopPropagation();\n                            //console.log(\"prevented click\", Math.abs(dX), Math.abs(dY))\n                            //console.log(':o ' + (lastStartTm - Date.now()) + ' ' + dX +\n                            // ' ' + dY)\n                        }\n                        //else console.log(\"click\", Math.abs(dX), Math.abs(dY))\n                        \n                    },\n                    'drag'     : ( e, touch, descr ) => {//@todo\n                        let pTweener,\n                            x, deltaX, xDispatched, xBox,\n                            y, deltaY, yDispatched, yBox,\n                            cState, i;\n                        \n                        dX = -( descr._lastPos.x - descr._startPos.x );\n                        dY = -( descr._lastPos.y - descr._startPos.y );\n                        \n                        \n                        if ( lastStartTm && ( ( lastStartTm > Date.now() - _.options.maxClickTm ) && Math.abs(dY) < _.options.maxClickOffset && Math.abs(dX) < _.options.maxClickOffset ) )// skip tap & click\n                        {\n                            //console.log(':u ' + (lastStartTm - Date.now()) + ' ' + dX +\n                            // ' ' + dY)\n                            return;\n                        }\n                        else {\n                            \n                            xDispatched = !dX;\n                            yDispatched = !dY;\n                            if ( _.options.dragDirectionLock ) {\n                                if ( cLock === \"Y\" || !cLock && Math.abs(dY * .5) > Math.abs(dX) ) {\n                                    cLock = \"Y\";\n                                    dX    = 0;\n                                    //xDispatched = true;\n                                }\n                                else if ( cLock === \"X\" || !cLock && Math.abs(dX * .5) > Math.abs(dY) ) {\n                                    cLock = \"X\";\n                                    dY    = 0;\n                                    //yDispatched = true;\n                                }\n                            }\n                            for ( i = 0; i < parents.length; i++ ) {\n                                pTweener = parents[ i ];\n                                // react comp with tweener support\n                                if ( pTweener.__isTweener ) {\n                                    \n                                    x = xAxis && pTweener.axes?.[ xAxis ];\n                                    y = yAxis && pTweener.axes?.[ yAxis ];\n                                    //console.log(\"drag\", dX, dY, xAxis, yAxis,\n                                    // pTweener.axes);\n                                    if ( !x && !y )\n                                        continue;\n                                    //console.log('Draggable:::306: ', parents);\n                                    if ( !parentsState[ i ] ) {\n                                        parentsState[ i ] = {\n                                            x: x?.scrollPos,\n                                            y: y?.scrollPos\n                                        };\n                                        x?.inertia?.startMove();\n                                        y?.inertia?.startMove();\n                                        xAxis && x && !x?.inertiaFrame && pTweener.applyInertia(x, xAxis);\n                                        yAxis && y && !y?.inertiaFrame && pTweener.applyInertia(y, yAxis);\n                                        //console.warn('Draggable::drag:190: ');\n                                    }\n                                    \n                                    if ( x ) {\n                                        xBox   = xBoxRef?.current\n                                                 ? refWidth\n                                                 : pTweener._.box.x\n                                        deltaX = dX && ( dX / xBox ) * (\n                                                 x.scrollableWindow ||\n                                                 x.scrollableArea ) || 0;\n                                        if ( xHook )\n                                            deltaX = xHook(deltaX);\n                                    }\n                                    if ( y ) {\n                                        yBox   = yBoxRef?.current\n                                                 ? refHeight\n                                                 : pTweener._.box.y\n                                        deltaY = dY && ( dY / yBox ) * (\n                                                 y.scrollableWindow ||\n                                                 y.scrollableArea ) || 0;\n                                        if ( yHook )\n                                            deltaY = yHook(deltaY);\n                                    }\n                                    \n                                    //console.log('scrollX ',\n                                    //            xDispatched,\n                                    //            x?.inertia?.isInbound(parentsState[ i\n                                    // ].x + deltaX), parentsState[ i ].x + deltaX );\n                                    if ( x && !xDispatched && deltaX && x?.inertia?.isInbound(parentsState[ i ].x + deltaX)\n                                         && ( pTweener.componentShouldScroll(xAxis, deltaX) ) ) {\n                                        x.inertia.hold(parentsState[ i ].x + deltaX);\n                                        xDispatched = true;\n                                    }\n                                    //console.log(\"scrollY\", yDispatched,\n                                    //            y?.inertia?.isInbound(parentsState[ i\n                                    // ].y + deltaY), parentsState[ i ].y + deltaY);\n                                    if ( y && !yDispatched && deltaY && y?.inertia?.isInbound(parentsState[ i ].y + deltaY)\n                                         && ( pTweener.componentShouldScroll(yAxis, deltaY) ) ) {\n                                        y.inertia.hold(parentsState[ i ].y + deltaY);\n                                        //console.log('Draggable::drag:190: ',\n                                        // parentsState[i].y,deltaY);\n                                        yDispatched = true;\n                                    }\n                                }\n                                \n                            }\n                            if ( yDispatched && xDispatched ) {\n                                //e.stopPropagation();\n                                //e.cancelable && e.preventDefault();\n                                //return;\n                            }\n                            //dX = 0;\n                            //dY = 0;\n                        }\n                    }\n                    \n                    ,\n                    'dropped': ( e, touch, descr ) => {\n                        let pTweener,\n                            x, deltaX, xDispatched, vX,\n                            y, deltaY, yDispatched, vY,\n                            cState, i;\n                        \n                        cLock = undefined;\n                        //lastStartTm                     = undefined;\n                        //document.body.style.userSelect  = '';\n                        //document.body.style.touchAction = '';\n                        for ( i = 0; i < parents.length; i++ ) {\n                            pTweener = parents[ i ];\n                            // react comp with tweener support\n                            if ( pTweener.__isTweener && parentsState[ i ] ) {\n                                //console.log('Draggable::dropped:228: ',\n                                // pTweener._getAxis(xAxis)?.inertia);\n                                pTweener.axes?.[ xAxis ]?.inertia?.release();\n                                pTweener.axes?.[ yAxis ]?.inertia?.release();\n                                //pTweener._updateNodeInertia()\n                            }\n                            //else if ( is.element(tweener) ) {\n                            //\tcState = parentsState[i];\n                            //\tif ( cState ) {\n                            //\t\tcState.inertia.x.release();\n                            //\t\tcState.inertia.y.release();\n                            //\t}\n                            //}\n                            \n                        }\n                        if ( lastStartTm && !( ( lastStartTm > Date.now() - _.options.maxClickTm ) && Math.abs(dY)\n                             < _.options.maxClickOffset && Math.abs(dX) < _.options.maxClickOffset ) )// skip tap\n                            // &\n                            // click\n                        {\n                            e.stopPropagation();\n                            e.cancelable && e.preventDefault();\n                            //console.log(\"prevented\", Math.abs(dX), Math.abs(dY))\n                            //return;\n                        }\n                        //else {\n                        //console.log(\"not prevented\", Math.abs(dX), Math.abs(dY))\n                        //}\n                        //lastStartTm = 0;\n                        parents = parentsState = null;\n                    }\n                },\n                null,\n                _.options.enableMouseDrag || mouseDrag,\n                touchDrag\n            )\n            this._.doRegister = !!rootNode;\n        }\n        else {\n            this._.doRegister = true;\n        }\n    }\n    \n    getProps() {\n        let props = this.props;\n        props     = { ...props };\n        delete props.Comp;\n        delete props.xAxis;\n        delete props.yAxis;\n        delete props.tweener;\n        delete props.forwardedRef;\n        return props;\n    }\n    \n    render() {\n        let {\n                children,\n                Comp,\n                forwardedRef,\n                items = [],\n                xAxis, yAxis,\n                xBoxRef, yRef,\n                yHook, xHook,\n                tweener,\n                mouseDrag,\n                touchDrag,\n                ...props\n            } = this.props;\n        return <TweenerContext.Consumer>\n            {\n                parentTweener => {\n                    //console.log('got ', parentTweener._.options.id, xAxis,\n                    //            yAxis);\n                    this._parentTweener = parentTweener;\n                    return <Comp ref={ this.root } { ...props }>{ children }</Comp>;\n                }\n            }\n        </TweenerContext.Consumer>;\n    }\n    \n}\nDraggable.div = ( props ) => {\n    return <Draggable { ...props }/>;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is from \"is\";\n\nexport const re_cssValueWithUnit = new RegExp(\n\t\"([+-]?(?:[0-9]*[.])?[0-9]+)\\\\s*(\" +\n\t['box', 'bz', 'bh', 'bw', 'em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'].join('|')\n\t+ \")\"\n);\n\n/**\n * add any css val with it unit ( todo: optims&use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssAdd( val1, val2, ...argz ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\tif ( !is.array(val2) )\n\t\tval2 = [val2];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    units2             = val2.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 0;\n\t\tremap[units1[i][2]] += parseFloat(units1[i][1]);\n\t\ti++;\n\t}\n\ti = 0;\n\twhile ( i < units2.length ) {\n\t\tremap[units2[i][2]] = remap[units2[i][2]] || 0;\n\t\tremap[units2[i][2]] += parseFloat(units2[i][1]);\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn argz.length ? cssAdd(result, ...argz) : result;\n}\n\n/**\n * Multiply any css val with it unit ( todo: optims & use objects for multi unit\n * @param val1\n * @param val2\n * @returns {Array}\n */\nexport function cssMult( val1, val ) {\n\tif ( !is.array(val1) )\n\t\tval1 = [val1];\n\t\n\tlet units1             = val1.map(v => (v && v.match && v.match(re_cssValueWithUnit) || [, v || 0, 'px'])),\n\t    remap = {}, result = [], i;\n\t\n\ti = 0;\n\twhile ( i < units1.length ) {\n\t\tremap[units1[i][2]] = remap[units1[i][2]] || 1;\n\t\tremap[units1[i][2]] = parseFloat(units1[i][1]) * val;\n\t\ti++;\n\t}\n\tObject.keys(remap)\n\t      .forEach(\n\t\t      unit => (result.push(remap[unit] + unit))\n\t      );\n\treturn result;\n}\n\nexport function offset( items, start = 0 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom: item.from + start\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function scale( items, duration = 0, withOffset ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\t\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\titems = items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\tfrom    : (item.from / iDuration) * duration,\n\t\t\t\tduration: (item.duration / iDuration) * duration\n\t\t\t}\n\t\t)\n\t)\n\treturn withOffset ? offset(items, withOffset) : items\n}\n\nfunction inverseValues( v ) {\n\tif ( is.number(v) )\n\t\treturn -v;\n\tif ( is.object(v) )\n\t\treturn Object.keys(v).reduce(( h, key ) => (h[key] = inverseValues(v[key]), h), {});\n\tif ( is.array(v) )\n\t\treturn v.map(( item ) => (inverseValues(item)));\n\t\n\tlet values = v.split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig);\n\t\n\treturn values.map(\n\t\t( val, i ) => (i % 2 ? -parseFloat(val) : val)\n\t).join(\"\");\n}\n\nexport function reverse( items ) {\n\titems         = is.array(items) ? items : items && [items] || items;\n\t// get items current duration\n\tlet iDuration = 0;\n\titems.forEach(\n\t\titem => {\n\t\t\tiDuration = Math.max(iDuration, item.from + item.duration)\n\t\t}\n\t)\n\t\n\treturn items.map(\n\t\titem => {\n\t\t\titem =\n\t\t\t\t{\n\t\t\t\t\t...item,\n\t\t\t\t\tfrom: iDuration - (item.from + item.duration),\n\t\t\t\t\t...(item.apply ? { apply: inverseValues(item.apply) } : undefined)\n\t\t\t\t};\n\t\t\treturn item;\n\t\t}\n\t)\n}\n\nconst MultiCssProps = { \"transform\": true, \"filter\": true, \"textShadow\": true, \"boxShadow\": true }\n\nexport function addCss( target, ...sources ) {\n\tlet source = sources.shift();\n\t\n\tfor ( const key in source ) {\n\t\tif ( !source.hasOwnProperty(key) )\n\t\t\tcontinue;\n\t\t\n\t\tif ( MultiCssProps[key] ) {\n\t\t\tif ( !target[key] ) {\n\t\t\t\ttarget[key] = [];\n\t\t\t}\n\t\t\tif ( !is.array(source[key]) ) {\n\t\t\t\taddCss(target[key], [source[key]]);\n\t\t\t}\n\t\t\telse addCss(target[key], source[key]);\n\t\t}\n\t\telse {\n\t\t\t// adding units\n\t\t\tif ( is.array(source[key]) ) {\n\t\t\t\tif ( !target[key] ) {\n\t\t\t\t\ttarget[key] = [];\n\t\t\t\t}\n\t\t\t\tif ( !is.array(target[key]) ) {\n\t\t\t\t\ttarget[key] = [...source[key], target[key]];\n\t\t\t\t}\n\t\t\t\telse target[key].push(...source[key]);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( !target[key] ) {\n\t\t\t\t\tif ( !is.object(source[key]) ) {\n\t\t\t\t\t\ttarget[key] = source[key];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\ttarget[key] = { ...source[key] };\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if ( is.object(target[key]) && is.object(source[key]) ) {\n\t\t\t\t\taddCss(target[key], source[key]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t//else target[key].push(...source[key]);\n\t\t\t\t\ttarget[key] = addAllType(target[key], source[key])\n\t\t\t\t\t//console.log(key, target[key])\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\treturn sources.length && addCss(target, ...sources) || target;\n}\n\nfunction addAllType( v1, v2 ) {\n\tif ( !v1 )\n\t\treturn v2;\n\tif ( !v2 )\n\t\treturn v1;\n\tlet values1 = ('' + v1).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    values2 = ('' + v2).split(/(\\-?\\d+(?:\\.\\d+)?|\\-?\\.\\d+)/ig),\n\t    r       = values1.map(\n\t\t    ( val, i ) => (i % 2 ? parseFloat(val) + parseFloat(values2[i] || 0) : val)\n\t    ).filter(i => (i !== ''));\n\t\n\treturn r.length === 1 ? parseInt(r[0]) : r.join(\"\")\n}\n\nexport function extractCss( items, inverse ) {\n\tlet css = {};\n\titems   = is.array(items) ? items : items && [items] || items;\n\titems.forEach(\n\t\titem => {\n\t\t\taddCss(css, item.apply)\n\t\t}\n\t);\n\tif ( inverse )\n\t\tcss = inverseValues(css);\n\t\n\t\n\t//if ( inverse && css.hasOwnProperty('opacity') )\n\t//\tcss.opacity -= 1;\n\treturn css;\n}\n\nexport function target( items, target ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => (\n\t\t\t{\n\t\t\t\t...item,\n\t\t\t\ttarget\n\t\t\t}\n\t\t)\n\t)\n}\n\nexport function shiftTransforms( items, shift = 1 ) {\n\titems = is.array(items) ? items : items && [items] || items;\n\treturn items.map(\n\t\titem => {\n\t\t\tlet t = item.apply && item.apply.transform;\n\t\t\tif ( t ) {\n\t\t\t\tt = is.array(t) ? t : [t];\n\t\t\t\tfor ( let i = 0; i < shift; i++ )\n\t\t\t\t\tt.unshift({});\n\t\t\t\t\n\t\t\t\titem = { ...item, apply: { ...item.apply, transform: t } };\n\t\t\t}\n\t\t\treturn item;\n\t\t}\n\t)\n}","/* This is a virtual file generated by layer-pack */\nlet req, _exports = {}, walknSetExport=require('react-voodoo/.___layerPackIndexUtils').walknSetExport;\nconst _react_voodoo_utils_css_demux_filter_js = require(\"react-voodoo/utils/css/demux/filter.js\");\nwalknSetExport(_exports, \"filter\", _react_voodoo_utils_css_demux_filter_js);\nconst _react_voodoo_utils_css_demux_boxShadow_js = require(\"react-voodoo/utils/css/demux/boxShadow.js\");\nwalknSetExport(_exports, \"boxShadow\", _react_voodoo_utils_css_demux_boxShadow_js);\nconst _react_voodoo_utils_css_demux_transform_js = require(\"react-voodoo/utils/css/demux/transform.js\");\nwalknSetExport(_exports, \"transform\", _react_voodoo_utils_css_demux_transform_js);\nconst _react_voodoo_utils_css_demux_textShadow_js = require(\"react-voodoo/utils/css/demux/textShadow.js\");\nwalknSetExport(_exports, \"textShadow\", _react_voodoo_utils_css_demux_textShadow_js);\nconst _react_voodoo_utils_css_demux_backgroundColor_js = require(\"react-voodoo/utils/css/demux/backgroundColor.js\");\nwalknSetExport(_exports, \"backgroundColor\", _react_voodoo_utils_css_demux_backgroundColor_js);\n\nexport const backgroundColor = _exports.backgroundColor;\n\nexport const boxShadow = _exports.boxShadow;\n\nexport const filter = _exports.filter;\n\nexport const textShadow = _exports.textShadow;\n\nexport const transform = _exports.transform;\nexport default _exports;","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\n\nimport { addCss }  from \"../tweenTools\";\nimport {\n    expandShorthandProperty, isShorthandProperty, isValidDeclaration\n}                  from \"./cssUtils\";\nimport cssDemuxers from \"./demux/(*).js\";\n\nimport { int, multi, number, ratio, color, any } from \"./demux/typed/(*).js\";\n\nconst cssDemux = {\n    ...cssDemuxers,\n    height           : number,\n    width            : number,\n    top              : number,\n    left             : number,\n    right            : number,\n    bottom           : number,\n    marginTop        : number,\n    marginLeft       : number,\n    marginRight      : number,\n    marginBottom     : number,\n    paddingTop       : number,\n    paddingLeft      : number,\n    paddingRight     : number,\n    paddingBottom    : number,\n    borderRadius     : number,\n    borderTopColor   : color,\n    borderLeftColor  : color,\n    borderRightColor : color,\n    borderBottomColor: color,\n    borderTopWidth   : number,\n    borderLeftWidth  : number,\n    borderRightWidth : number,\n    borderBottomWidth: number,\n    transformOrigin  : multi(2),\n    zIndex           : int,\n    opacity          : ratio,\n};\n\n\nexport function clearTweenableValue( cssKey, twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues ) {\n    let path = twKey.split('_'), tmpKey;// not optimal at all\n    cssDemux[ path[ 0 ] ]\n    && cssDemux[ path[ 0 ] ].release(twKey, tweenableMap, cssMap, dataMap, muxerMap, keepValues)\n}\n\nexport function muxToCss( tweenable, css, demuxers, data, box ) {\n    Object.keys(demuxers)\n          .forEach(\n              ( key ) => {\n                  demuxers[ key ].demux(key, tweenable, css, data, box)\n              }\n          )\n}\n\nexport function deMuxTween( tween, deMuxedTween, initials, data, demuxers, noPropLock, reOrder ) {\n    let fTween = {}, excluded = {};\n    Object.keys(tween)\n          .forEach(\n              ( key ) => {\n                  if ( cssDemux[ key ] )\n                      fTween[ key ] = tween[ key ];\n                  else if ( isValidDeclaration(key, tween[ key ]) ) {\n                \n                      if ( isShorthandProperty(key) ) {\n                          expandShorthandProperty(key, tween[ key ], fTween);\n                      }\n                      else fTween[ key ] = tween[ key ];\n                  }\n                  else excluded[ key ] = tween[ key ];\n              });\n    \n    Object.keys(fTween)\n          .forEach(\n              ( key ) => {\n                  if ( cssDemux[ key ] ) {//key, value, target, data, initials\n                      ( demuxers[ key ] = cssDemux[ key ] ).mux(key, fTween[ key ], deMuxedTween, data, initials, noPropLock, reOrder)\n                  }\n                  else\n                      ( demuxers[ key ] = any ).mux(key, fTween[ key ], deMuxedTween, data, initials, noPropLock, reOrder)\n              }\n          );\n    return excluded;\n}\n\nexport function deMuxLine( tweenLine, initials, data, demuxers, noPropLock ) {\n    noPropLock       = noPropLock && {};\n    let allPropsById = {},\n        twAxis       = tweenLine.reduce(\n            ( line, tween ) => {\n                let demuxedTween         = {};\n                demuxers[ tween.target ] = demuxers[ tween.target ] || {};\n                initials[ tween.target ] = initials[ tween.target ] || {};\n                data[ tween.target ]     = data[ tween.target ] || {};\n            \n                if ( !tween.type || tween.type === \"Tween\" ) {\n                    !noPropLock && addCss(allPropsById[ tween.target ] = allPropsById[ tween.target ] || {}, tween.apply);\n                    //console.log(\"merged\", tween.apply)\n                    deMuxTween(tween.apply, demuxedTween, initials[ tween.target ], data[ tween.target ], demuxers[ tween.target ], true);\n                    line.push(\n                        {\n                            ...tween,\n                            apply: demuxedTween\n                        });\n                }\n                else line.push({ ...tween });\n                return line\n            },\n            []\n        );\n    //console.log(allPropsById)\n    !noPropLock && Object.keys(allPropsById)\n                         .forEach(\n                             id => deMuxTween(allPropsById[ id ], {}, {}, data[ id ], demuxers[ id ])\n                         )\n    ;\n    return twAxis;\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is        from \"is\";\nimport tweenAxis from \"tween-axis\";\n//export default tweenAxis\nconst recyclableTweenAxis = [];\nexport default class CssTweenAxis extends tweenAxis {\n\t\n\tconstructor( cfg, scope ) {\n\t\tif ( recyclableTweenAxis.length ) {\n\t\t\tlet recyled   = recyclableTweenAxis.pop();\n\t\t\trecyled.scope = scope;\n\t\t\tif ( is.array(cfg) ) {\n\t\t\t\trecyled.localLength = 1;\n\t\t\t\trecyled.mount(cfg, scope);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif ( cfg.Axis )\n\t\t\t\t\trecyled.mount(cfg.Axis, scope);\n\t\t\t}\n\t\t\treturn recyled;\n\t\t}\n\t\tsuper(...arguments)\n\t}\n\t\n\tdestroy() {\n\t\t\n\t\tthis.scope                  = undefined;\n\t\tthis.__marks.length         = 0;\n\t\tthis.__marksLength.length   = 0;\n\t\tthis.__marksKeys.length     = 0;\n\t\tthis.__processors.length    = 0;\n\t\tthis.__config.length        = 0;\n\t\tthis.__activeForks.length   = 0;\n\t\tthis.__activeProcess.length = 0;\n\t\t\n\t\tthis.__activeProcess.length = 0;\n\t\tthis.__outgoing.length      = 0;\n\t\tthis.__incoming.length      = 0;\n\t\tthis.__cPos                 = 0;\n\t\tthis.duration               = 0;\n\t\tthis.__cIndex               = 0;\n\t\tthis.__cMaxKey              = 1;\n\t\trecyclableTweenAxis.push(this);\n\t}\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nconst\n    is       = require('is'),\n    easingFn = require('d3-ease'),\n    signOf   = function sign( x ) {\n        return typeof x === 'number' ? x ? x < 0 ? -1 : 1 : x === x ? x : NaN : NaN;\n    },\n    abs      = Math.abs,\n    floor    = Math.floor,\n    round    = Math.round,\n    min      = Math.min,\n    max      = Math.max,\n    floatCut = ( v = 0 ) => v.toFixed(3),\n    \n    consts   = {\n        velocityResetTm: 150,\n        clickTm        : 250\n    };\n\n// this is a mess\n\n\n/**\n * Predict the inertia\n * @param _\n */\nexport function applyInertia( _ ) {\n    let velSign = signOf(_.lastVelocity);\n    \n    if ( _.disabled ) {\n        // calc momentum distance...\n        // get nb loop needed to get vel < .05\n        _.loopsTarget = 0;\n        \n        // get velocity sum basing on nb loops needed\n        _.loopsVelSum    = 0;\n        // deduce real dist of momentum\n        _.targetDist     = 0;\n        _.targetDuration = 0;\n    }\n    else {\n        // get nb loop needed to get vel < .05\n        _.loopsTarget = floor(Math.log(.05 / abs(_.lastVelocity)) / Math.log(.9));\n        \n        // get velocity sum basing on nb loops needed\n        _.loopsVelSum    = ( Math.pow(.9, _.loopsTarget) - abs(_.lastVelocity) ) / ( .9 - 1 );\n        // deduce real dist of momentum\n        _.targetDist     = ( _.loopsVelSum * _.refFPS * velSign ) / 1000 || 0;\n        _.targetDuration = abs(_.loopsTarget * _.refFPS * velSign) || 0;\n    }\n    \n}\n\nconst inertiaByNode = {\n    nodes  : [],\n    inertia: []\n};\n/**\n * Main inertia class\n * @class Caipi slideshow\n * @type {module.exports}\n */\nexport default class Inertia {\n    static config = {\n        bounds      : true,\n        snapToBounds: true\n    };\n    \n    constructor( opt ) {\n        let _  = this._ = {};\n        _.conf = {\n            ...this.constructor.config,\n            ...opt,\n            //get lastInertiaPos() {\n            //\treturn this._lastInertiaPos\n            //},\n            //set lastInertiaPos( v ) {\n            //\tif ( v === NaN )\n            //\t\tdebugger\n            //\tthis._lastInertiaPos = v;\n            //}\n        };\n        \n        this.active           = false;\n        _.pos                 = opt.value || 0;\n        _.refFPS              = 16;\n        _.min                 = opt.min || 0;\n        _.max                 = opt.max || 0;\n        _.currentStop         = 0;\n        _.lastInertiaPos      = 0;\n        _.stops               = _.conf.stops;\n        _.disabled            = _.conf.disabled;\n        _.wayPoints           = _.conf.wayPoints;\n        _.inertiaFn           = easingFn.easePolyOut;\n        _.targetWayPointIndex = 0;\n        \n        this._detectCurrentSnap()\n        \n    }\n    \n    updateConf( opt ) {\n        \n        let _       = this._;\n        _.min       = opt.min || 0;\n        _.max       = opt.max || 0;\n        _.stops     = opt.stops;\n        _.disabled  = opt.disabled;\n        _.wayPoints = opt.wayPoints;\n        _.conf.willStop = opt.willStop;\n        _.conf.willSnap = opt.willSnap;\n    }\n    \n    update( at = Date.now() ) {\n        let _   = this._, nextValue, loop;\n        let\n            pos = _.inertiaFn(( at - _.inertiaStartTm ) / _.targetDuration) * _.targetDist;\n        \n        if ( !_.inertia ) {\n            //if ( _.conf.shouldLoop ) {\n            //\twhile ( (loop = _.conf.shouldLoop(_.pos, 0)) ) {\n            //\t\tthis.teleport(loop);\n            //\t}\n            //}\n            return _.pos;\n        }\n        let\n            delta        = pos - _.lastInertiaPos;\n        _.lastInertiaPos = pos;\n        \n        if ( ( at - _.inertiaStartTm ) >= _.targetDuration ) {\n            _.inertia        = this.active = false;\n            _.lastInertiaPos = delta = 0;\n            _.targetDist     = 0;\n            if ( _.targetWayPoint ) {\n                delta                  = _.targetWayPoint.at - _.pos;\n                //console.log(\"snap done \", _.targetWayPoint, _.pos + delta);\n                _.currentWayPoint      = _.targetWayPoint;\n                _.currentWayPointIndex = _.targetWayPointIndex;\n                _.targetWayPoint       = null;\n                _.targetWayPointIndex  = null;\n                //_.lastSnapTm           = Date.now();\n            }\n            \n            if ( _.conf.onInertiaEnd ) {\n                _.conf.onInertiaEnd(_.pos, _.currentWayPoint)\n            }\n        }\n        \n        delta     = delta || 0;\n        //console.log(_.pos + delta);\n        nextValue = _.pos + delta;\n        \n        if ( delta && _.conf.shouldLoop ) {\n            \n            while ( ( loop = _.conf.shouldLoop(nextValue, delta) ) ) {\n                //console.warn(\"loop update\", loop);\n                nextValue += loop;\n                //this.teleport(loop);\n            }\n        }\n        \n        _.pos = nextValue;\n        \n        return nextValue;\n    }\n    \n    setPos( pos ) {\n        let _            = this._, nextValue;\n        _.inertia        = false;\n        this.active      = false;\n        _.lastInertiaPos = 0;\n        _.targetDist     = 0;\n        _.pos            = pos;\n        if ( _.conf.bounds ) {\n            _.pos = max(_.pos, _.min);\n            _.pos = min(_.pos, _.max);\n        }\n    }\n    \n    setWayPoints( wayPoints ) {\n        let _       = this._, nextValue;\n        _.wayPoints = wayPoints;\n        this._detectCurrentSnap();\n    }\n    \n    teleport( loopDist ) {\n        let _ = this._, nextValue;\n        if ( !_.inertia )\n            return _.pos += loopDist;\n        \n        //_.lastInertiaPos += loopDist;\n        _.pos += loopDist\n        //console.log(\"setPos\", _.lastInertiaPos);\n    }\n    \n    dispatch( delta, tm = 500 ) {\n        let _   = this._,\n            now = Date.now(),\n            pos;\n        \n        this.active = true;\n        \n        // if no inertia has started || if direction has change\n        if ( !_.inertia || signOf(delta) !== signOf(_.targetDist) ) {\n            _.inertia        = true;\n            _.lastInertiaPos = 0;\n            _.inertiaStartTm =\n                _.inertiaLastTm = now;\n            \n            _.targetDist     = delta;\n            _.targetDuration = tm;\n        }\n        else {\n            //_.inertiaStartTm =\n            //_.inertiaLastTm = now;\n            //_.lastInertiaPos = 0;\n            _.targetDist += delta;\n            _.targetDuration += tm / 2;\n        }\n        //\n        //if ( _.conf.maxJump ) {\n        //\n        //}\n        \n        if ( _.conf.bounds ) {\n            if ( ( _.pos + _.targetDist ) > _.max ) {\n                \n                _.targetDist     = _.max - _.pos;\n                _.targetDuration = abs(_.targetDist * 10);\n            }\n            else if ( ( _.pos + _.targetDist ) < _.min ) {\n                \n                _.targetDist     = _.min - _.pos;\n                _.targetDuration = abs(_.targetDist * 10);\n            }\n        }\n        this._doSnap(signOf(delta), 750)\n    }\n    \n    \n    _detectCurrentSnap() {\n        let _   = this._,\n            pos = _.pos,\n            i;\n        \n        if ( _.wayPoints && _.wayPoints.length ) {\n            for ( i = 0; i < _.wayPoints.length; i++ )\n                if ( floatCut(_.wayPoints[ i ].at) === floatCut(pos) ) {\n                    _.currentWayPoint      = _.wayPoints[ i ];\n                    _.currentWayPointIndex = i;\n                    //console.warn(\"snap set\", i);\n                    \n                    return i;\n                }\n        }\n    }\n    \n    _doSnap( forceSnap, maxDuration = 2000 ) {\n        let _   = this._,\n            pos = _.targetDist + ( _.pos - ( _.lastInertiaPos || 0 ) ),\n            target,\n            mid,\n            i,\n            i2;\n        \n        if ( _.wayPoints && _.wayPoints.length ) {\n            for ( i = 0; i < _.wayPoints.length; i++ )\n                if ( _.wayPoints[ i ].at > pos )\n                    break;\n            \n            if ( i === _.wayPoints.length ) {\n                i--\n            }\n            else if ( i === 0 ) {\n                i = 0;\n            }\n            else {\n                mid = _.wayPoints[ i - 1 ].at + ( _.wayPoints[ i ].at - _.wayPoints[ i - 1 ].at ) / 2;\n                if ( forceSnap ) forceSnap < 0 && i--;\n                else if ( pos < mid ) i--;\n            }\n            \n            if ( _.conf.maxJump && is.number(_.currentWayPointIndex) ) {\n                let d = ( i - _.currentWayPointIndex );\n                //console.log('Inertia::_doSnap:154: ', i, d);\n                if ( abs(d) > _.conf.maxJump ) {\n                    //console.log('max: ', i, d);\n                    i = _.currentWayPointIndex + signOf(d) * _.conf.maxJump;\n                }\n            }\n            target = _.wayPoints[ i ].at;\n            \n            if ( _.conf.willSnap ) {\n                _.conf.willSnap(i, _.wayPoints[ i ]);\n            }\n            \n            _.lastInertiaPos      = _.lastInertiaPos || 0;\n            target                = target - ( _.pos - _.lastInertiaPos );\n            _.targetDuration      = max(50, min(maxDuration, abs(( _.targetDuration / _.targetDist ) * target))) || 0;\n            //console.log(\"do snap\", i, target, _.targetDist, _.targetDuration);\n            _.targetDist          = target;\n            _.targetWayPoint      = _.wayPoints[ i ];\n            _.targetWayPointIndex = i;\n        }\n        else {\n            target = ~~( _.pos - _.lastInertiaPos );\n            \n            if ( !_.conf.infinite ) {\n                if ( target > _.max ) {\n                    target           = _.max - target;\n                    _.targetDuration = min(maxDuration, abs(( _.targetDuration / _.targetDist ) * target));\n                    _.targetDist     = target;\n                }\n                else if ( target < _.min ) {\n                    target           = _.min - target;\n                    _.targetDuration = min(maxDuration, abs(( _.targetDuration / _.targetDist ) * target));\n                    _.targetDist     = target;\n                }\n            }\n            \n        }\n    }\n    \n    setBounds( min, max ) {\n        let _ = this._;\n        //console.log('Inertia::setBounds:245: ', min, max);\n        _.min = min;\n        _.max = max;\n    }\n    \n    startMove() {\n        let _          = this._;\n        _.baseTS       = _.startTS = Date.now() / 1000;\n        _.lastVelocity = _.lastIVelocity = 0;\n        _.lastAccel    = 0;\n        _.posDiff      = 0;\n        this.active    = true;\n        this.holding   = true;\n        _.inertia      = false;\n    }\n    \n    isInbound( nextPos ) {\n        let _     = this._, loop,\n            delta = _.lastHoldPos !== undefined ? nextPos - _.lastHoldPos : 0,\n            pos   = ( _.targetDist || 0 ) + ( _.pos - ( _.lastInertiaPos || 0 ) ) + delta;\n        //if ( _.conf.infinite ) return false;\n        //\n        //if ( _.conf.shouldLoop ) {\n        //\twhile ( (loop = _.conf.shouldLoop(nextValue)) ) {\n        //!(pos >= _.min && pos <= _.max) && console.warn(\"out\", _.pos, pos, delta);\n        //\t\tpos += loop;\n        //\t}\n        //}\n        return pos >= _.min && pos <= _.max;\n    }\n    \n    hold( nextPos ) {\n        let _     = this._,\n            delta = _.lastHoldPos !== undefined ? nextPos - _.lastHoldPos : 0,\n            loop;\n        \n        //_.holding     = true;\n        _.lastHoldPos = nextPos;\n        if ( delta && _.conf.shouldLoop ) {\n            //while ( (loop = _.conf.shouldLoop(pos, delta)) ) {\n            //\t//console.warn(\"loop\", loop);\n            //\tpos += loop;\n            //}\n            while ( ( loop = _.conf.shouldLoop(_.pos, delta) ) ) {\n                //console.warn(\"loop\", loop);\n                _.pos += loop;\n            }\n        }\n        let now          = Date.now() / 1000,//e.timeStamp,\n            sinceLastPos = ( now - _.baseTS ),\n            pos          = _.pos + delta,\n            iVel         = delta / sinceLastPos;\n        \n        //if (is.nan(pos))\n        //\tdebugger\n        //console.log(\"hold\", delta, sinceLastPos);\n        _.lastIVelocity       = iVel;\n        _.lastVelocity        = iVel;\n        _.baseTS              = now;\n        _.targetDist          = 0;\n        _.lastInertiaPos      = 0;\n        // clear snap\n        _.targetWayPoint      = undefined;\n        _.targetWayPointIndex = undefined;\n        \n        \n        //if ( tdiff < 3 ) {\n        //\t// skip/ignore\n        //}\n        //else if (\n        //\t(\n        //\t\t(\n        //\t\t\tiVel <= 0 && _.lastVelocity > 0) ||\n        //\t\t(iVel >= 0 && _.lastVelocity < 0)\n        //\t\t||\n        //\t\tabs(iVel) < abs(_.lastVelocity * 0.2)\n        //\t) &&\n        //\t(now - _.lastDraggingTm) > consts.velocityResetTm\n        //) {\n        //\t_.lastVelocity   = 0;\n        //\t_.lastIVelocity  = 0;\n        //\t_.lastDraggingTm = now;\n        //\t_.baseTS         = _.startTS = now;\n        //\t// console.log('reset');\n        //\t_.refPos.x       = _.pos.x;\n        //\t_.refPos.y       = _.pos.y;\n        //\n        //\t_.lastPos.x = _.pos.x;\n        //\t_.lastPos.y = _.pos.y;\n        //}\n        //else {\n        //\t_.lastDraggingTm = now;\n        //\n        //\tiVel = ((3 * _.lastIVelocity + 5 * iVel) / 8) || 0;\n        //\n        //\t_.lastAccel = (_.lastAccel + (iVel - _.lastVelocity)) / 2;\n        //\n        //\t_.lastVelocity  = (_.posDiff[_.posProperty] && stdiff) ?\n        // _.posDiff[_.posProperty] / (stdiff) : 0; _.lastIVelocity = iVel; _.baseTS\n        //   = now;  _.lastPos.x = _.pos.x; _.lastPos.y = _.pos.y; }\n        \n        \n        if ( _.conf.bounds ) {\n            if ( pos > _.max ) {\n                pos = _.max// + min((pos - _.max) / 10, 10);\n            }\n            else if ( pos < _.min ) {\n                pos = _.min// - min((_.min - pos) / 10, 10);\n            }\n        }\n        \n        _.pos = pos;\n        \n    }\n    \n    release() {\n        let _       = this._,\n            velSign = signOf(_.lastVelocity);\n        \n        this.holding = false;\n        \n        // calc momentum distance...\n        applyInertia(_);\n        \n        _.lastHoldPos = undefined;\n        \n        _.holding = false;\n        \n        if ( _.conf.bounds && _.conf.snapToBounds ) {\n            if ( ( _.pos + _.targetDist ) > _.max ) {\n                _.targetDist     = _.max - _.pos;\n                _.targetDuration = abs(_.targetDist * 10);\n            }\n            else if ( ( _.pos + _.targetDist ) < _.min ) {\n                \n                _.targetDist     = _.min - _.pos;\n                _.targetDuration = abs(_.targetDist * 10);\n            }\n        }\n        //else {\n        if ( !_.targetDuration )\n            _.targetDuration = 50;\n        \n        //console.log(_);\n        this.active      = true;\n        _.inertia        = true;\n        _.lastInertiaPos = 0;\n        _.inertiaStartTm =\n            _.inertiaLastTm = Date.now();\n        \n        \n        //}\n        this._doSnap(null, 500)\n        _.conf.willEnd?.(_.targetDist + _.pos, _.targetDist, _.targetDuration);\n    }\n}\n","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2020. Nathanael Braun\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\n\r\nimport * as easingFn                                            from \"d3-ease\";\r\nimport deepEqual                                                from \"fast-deep-equal\";\r\nimport is                                                       from \"is\";\r\nimport React                                                    from \"react\";\r\nimport ReactDom                                                 from \"react-dom\";\r\nimport TweenerContext\r\n                                                                from \"../comps/TweenerContext\";\r\nimport { clearTweenableValue, deMuxLine, deMuxTween, muxToCss } from \"../utils/css\";\r\nimport tweenAxis\r\n                                                                from \"../utils/CssTweenAxis\";\r\nimport domUtils                                                 from \"../utils/dom\";\r\nimport Inertia                                                  from '../utils/inertia';\r\n\r\n/**\r\n * @todo : clean & comments\r\n */\r\n\r\n\r\nlet isBrowserSide           = ( new Function(\"try {return this===window;}catch(e){ return false;}\") )(),\r\n    isArray                 = is.array,\r\n    _live, lastTm, _running = [];\r\n\r\n\r\nconst Runner = {\r\n    run  : function ( tl, ctx, duration, cb ) {\r\n        let apply = ( pos, size ) => tl.go(pos / size, ctx);\r\n        _running.push({ apply, duration, cpos: 0, cb });\r\n        tl.go(0, ctx, true);//reset tl\r\n        \r\n        if ( !_live ) {\r\n            _live  = true;\r\n            lastTm = Date.now();\r\n            // console.log(\"TL runner On\");\r\n            setTimeout(this._tick, 16);\r\n        }\r\n    },\r\n    _tick: function _tick() {\r\n        let i  = 0, o, tm = Date.now(), delta = tm - lastTm;\r\n        lastTm = tm;\r\n        for ( ; i < _running.length; i++ ) {\r\n            _running[ i ].cpos = Math.min(delta + _running[ i ].cpos, _running[ i ].duration);//cpos\r\n            _running[ i ].apply(\r\n                _running[ i ].cpos, _running[ i ].duration\r\n            );\r\n            // console.log(\"TL runner \",_running[i][3]);\r\n            if ( _running[ i ].cpos == _running[ i ].duration ) {\r\n                \r\n                _running[ i ].cb && setTimeout(_running[ i ].cb);\r\n                _running.splice(i, 1), i--;\r\n            }\r\n            \r\n        }\r\n        if ( _running.length )\r\n            setTimeout(_tick, 16);\r\n        else {\r\n            // console.log(\"TL runner Off\");\r\n            _live = false;\r\n        }\r\n    },\r\n};\r\n\r\nexport default class Tweener extends React.Component {\r\n    \r\n    constructor( props ) {\r\n        super(...arguments);\r\n        let _                 = this._ = {\r\n            refs       : {},\r\n            muxByTarget: {},\r\n        };\r\n        _.box                 = {\r\n            x: 100,\r\n            y: 100,\r\n            z: 800\r\n        };\r\n        this.__isTweener      = true;\r\n        _._rafLoop            = this._rafLoop.bind(this);\r\n        _.rootRef             = this.props.forwardedRef || React.createRef();\r\n        _.options             = { ...( props.tweenerOptions || {} ) };\r\n        _.tweenRefCSS         = {};\r\n        _.tweenRefs           = {};\r\n        _.tweenRefMaps        = {};\r\n        _.iMapOrigin          = {};\r\n        _.tweenRefInitialData = {};\r\n        _.tweenEnabled        = true;\r\n        _.tweenRefOrigin      = {};\r\n        _.tweenRefOriginCss   = {};\r\n        _.muxDataByTarget     = _.muxDataByTarget || {};\r\n        _.tweenRefDemuxed     = _.tweenRefDemuxed || {};\r\n        _.tweenRefTargets     = _.tweenRefTargets || [];\r\n        _.runningAnims        = _.runningAnims || [];\r\n        \r\n        _.scrollHook    = [];\r\n        _.activeInertia = [];\r\n        isBrowserSide && window.addEventListener(\r\n            \"resize\",\r\n            this._.onResize = ( e ) => {//@todo\r\n                this._updateBox();\r\n                this._updateTweenRefs();\r\n                _.rootRef?.current?.windowDidResize?.(e);\r\n            });\r\n    }\r\n    \r\n    axes = {};\r\n    \r\n    // ------------------------------------------------------------\r\n    // -------------------- TweenRefs utils -----------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    /**\r\n     * Register tweenable element\r\n     * return its current style\r\n     * @param id\r\n     * @param iStyle\r\n     * @param iMap\r\n     * @param pos\r\n     * @param noref\r\n     * @param mapReset\r\n     * @returns {style,ref}\r\n     */\r\n    tweenRef( id, iStyle = {}, iMap = {}, pos, noref, mapReset ) {// ref initial style\r\n        \r\n        \r\n        let _            = this._,\r\n            tweenableMap = {};\r\n        \r\n        let initials = {};\r\n        if ( !_.tweenRefs[ id ] )\r\n            _.tweenRefTargets.push(id);\r\n        \r\n        //debugger\r\n        //console.warn('ref ', id, { ...iMap })\r\n        \r\n        if ( _.tweenRefs[ id ] && (\r\n            mapReset\r\n            || ( _.iMapOrigin[ id ] !== iMap && !deepEqual(iMap, _.iMapOrigin[ id ]) )\r\n            || ( _.tweenRefOriginCss[ id ] !== iStyle && !deepEqual(iStyle, _.tweenRefOriginCss[ id ]) )\r\n        ) ) {\r\n            // hot switch initial values\r\n            //console.warn('ref exist & style is !==', id, iStyle,\r\n            //             _.tweenRefOriginCss[id], mapReset)\r\n            _.iMapOrigin[ id ]        = iMap;\r\n            _.tweenRefOriginCss[ id ] = iStyle;\r\n            iStyle                    = iStyle || {};\r\n            iMap                      = iMap || {};\r\n            \r\n            \r\n            iStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[ id ], _.muxByTarget[ id ], false, true) };\r\n            \r\n            //console.log(\"update ref\", id)\r\n            \r\n            // minus initial values\r\n            Object.keys(_.tweenRefOrigin[ id ])\r\n                  .forEach(\r\n                      key => ( _.tweenRefMaps[ id ][ key ] -= _.tweenRefOrigin[ id ][ key ] )\r\n                  );\r\n            // set defaults values in case of\r\n            Object.keys(initials)\r\n                  .forEach(\r\n                      key => ( _.tweenRefMaps[ id ][ key ] = is.number(_.tweenRefMaps[ id ][ key ])\r\n                                                             ? _.tweenRefMaps[ id ][ key ]\r\n                                                             : initials[ key ] )\r\n                  );\r\n            // add new initial values\r\n            Object.keys(tweenableMap)\r\n                  .forEach(\r\n                      key => ( _.tweenRefMaps[ id ][ key ] += tweenableMap[ key ] )\r\n                  );\r\n            \r\n            Object.keys(_.tweenRefOrigin[ id ])// unset\r\n                  .forEach(\r\n                      key => {\r\n                          clearTweenableValue(key, key, _.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxDataByTarget[ id ], _.muxByTarget[ id ])\r\n                      }\r\n                  );\r\n            _.tweenRefOrigin[ id ] = { ...tweenableMap };\r\n            \r\n            muxToCss(_.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxByTarget[ id ], _.muxDataByTarget[ id ], _.box);\r\n            this._updateTweenRef(id, true);\r\n        }\r\n        else if ( !_.tweenRefs[ id ] ) {\r\n            //console.log(\"init ref\", id)\r\n            \r\n            _.iMapOrigin[ id ] = iMap;\r\n            iStyle             = iStyle || {};\r\n            iMap               = iMap || {};\r\n            \r\n            _.tweenRefs[ id ]       = true;\r\n            _.muxByTarget[ id ]     = _.muxByTarget[ id ] || {};\r\n            _.muxDataByTarget[ id ] = _.muxDataByTarget[ id ] || {};\r\n            \r\n            _.tweenRefOriginCss[ id ] = iStyle;\r\n            \r\n            _.tweenRefMaps[ id ] = _.tweenRefMaps[ id ] || {};\r\n            if ( _.tweenRefOrigin[ id ] ) {\r\n                //debugger\r\n                // minus initial values from axis pre init\r\n                //Object.keys(_.tweenRefOrigin[id])\r\n                //      .forEach(\r\n                //\t      key => (_.tweenRefMaps[id][key] -= _.tweenRefOrigin[id][key])\r\n                //      );\r\n                iStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[ id ], _.muxByTarget[ id ], false, true) };\r\n                \r\n                //// set defaults values in case of\r\n                Object.keys(initials)\r\n                      .forEach(\r\n                          key => ( _.tweenRefMaps[ id ][ key ] = is.number(_.tweenRefMaps[ id ][ key ])\r\n                                                                 ? _.tweenRefMaps[ id ][ key ] - initials[ key ]\r\n                                                                 : 0 )\r\n                      );\r\n                //// add new initial values\r\n                Object.keys(tweenableMap)\r\n                      .forEach(\r\n                          key => ( _.tweenRefMaps[ id ][ key ] += tweenableMap[ key ] )\r\n                      );\r\n            }\r\n            else {\r\n                iStyle = { ...iStyle, ...deMuxTween(iMap, tweenableMap, initials, _.muxDataByTarget[ id ], _.muxByTarget[ id ]) };\r\n                \r\n                \r\n                // init / reset or get the tweenable view\r\n                tweenableMap = Object.assign({}, initials, tweenableMap || {});\r\n                \r\n                // set defaults values in case of\r\n                // add new initial values\r\n                Object.keys(tweenableMap)\r\n                      .forEach(\r\n                          key => ( _.tweenRefMaps[ id ][ key ] = ( _.tweenRefMaps[ id ][ key ] || 0 ) + tweenableMap[ key ] )\r\n                      );\r\n            }\r\n            _.tweenRefOrigin[ id ] = { ...tweenableMap };\r\n            _.tweenRefCSS[ id ]    = iStyle;\r\n            tweenableMap           = _.tweenRefMaps[ id ];\r\n            muxToCss(tweenableMap, iStyle, _.muxByTarget[ id ], _.muxDataByTarget[ id ], _.box);\r\n            \r\n        }\r\n        else {\r\n            //console.log(\"maj ref\", id)\r\n            \r\n            muxToCss(_.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxByTarget[ id ], _.muxDataByTarget[ id ], _.box);\r\n        }\r\n        //console.log('tweenRef::tweenRef:519: ', id, { ..._.muxDataByTarget[id] }, {\r\n        // ..._.tweenRefCSS[id] });\r\n        if ( noref )\r\n            return {\r\n                style: { ..._.tweenRefCSS[ id ] }\r\n            };\r\n        else\r\n            return {\r\n                style: { ..._.tweenRefCSS[ id ] },\r\n                ref  : node => ( _.refs[ id ] = node )\r\n            };\r\n    }\r\n    \r\n    /**\r\n     * Delete tweenable element\r\n     * @param id\r\n     */\r\n    rmTweenRef( id ) {\r\n        if ( this._.tweenRefs[ id ] ) {\r\n            this._.tweenRefTargets.splice(this._.tweenRefTargets.indexOf(id), 1);\r\n            delete this._.tweenRefs[ id ];\r\n            delete this._.muxByTarget[ id ];\r\n            delete this._.muxDataByTarget[ id ];\r\n            delete this._.iMapOrigin[ id ];\r\n            delete this._.tweenRefOrigin[ id ];\r\n            delete this._.tweenRefCSS[ id ];\r\n            delete this._.tweenRefMaps[ id ];\r\n            delete this._.refs[ id ];\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Reset tweenRefs\r\n     * @param targets\r\n     */\r\n    resetTweenable( ...targets ) {\r\n        let _ = this._;\r\n        targets.forEach(\r\n            ( t ) => {\r\n                this.tweenRef(t, _.tweenRefOriginCss[ t ], _.iMapOrigin[ t ], null, null, true)\r\n            }\r\n        );\r\n        this._updateTweenRefs();\r\n    }\r\n    \r\n    /**\r\n     * Update tweenRefs style ( anims & axis will still update the ref )\r\n     * @param target\r\n     * @param style\r\n     * @param postPone\r\n     * @returns {*}\r\n     */\r\n    updateRefStyle( target, style, postPone ) {\r\n        let _ = this._, initials = {}, pureCss;\r\n        if ( isArray(target) && isArray(style) )\r\n            return target.map(( m, i ) => this.updateRefStyle(m, style[ i ], postPone));\r\n        if ( isArray(target) )\r\n            return target.map(( m ) => this.updateRefStyle(m, style, postPone));\r\n        \r\n        //if ( !this._.tweenRefCSS )\r\n        pureCss = deMuxTween(style, _.tweenRefMaps[ target ], initials, _.muxDataByTarget[ target ], _.muxByTarget[ target ]);\r\n        Object.assign(_.tweenRefCSS[ target ], pureCss);\r\n        Object.assign(_.tweenRefOriginCss[ target ], pureCss);\r\n        muxToCss(_.tweenRefMaps[ target ], _.tweenRefCSS[ target ], _.muxByTarget[ target ], _.muxDataByTarget[ target ], _.box);\r\n        this._updateTweenRef(target, true);\r\n    }\r\n    \r\n    /**\r\n     * Retrieve the tween ref dom node\r\n     * @param id\r\n     * @returns {*}\r\n     */\r\n    getTweenableRef( id ) {\r\n        try {\r\n            return this._.refs[ id ] && ReactDom.findDOMNode(this._.refs[ id ]);\r\n        } catch ( e ) {\r\n            try {\r\n                return this._.refs[ id ]._.rootRef.current\r\n            } catch ( e ) {\r\n                console.warn(\"react-voodoo: Can't find voodooNode \", id, e)\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Get the root dom node of the tweener element\r\n     * @returns {*}\r\n     */\r\n    getRootNode() {\r\n        try {\r\n            return this.getTweenableRef(this._.rootRef)\r\n                   || this.isMountedFromHook && this._.rootRef && this._.rootRef.current\r\n                   || ReactDom.findDOMNode(this);\r\n        } catch ( e ) {\r\n            return this._.rootRef && this._.rootRef.current;\r\n        }\r\n    }\r\n    \r\n    // ------------------------------------------------------------\r\n    // -------------------- Pushable anims ------------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    /**\r\n     * Push anims\r\n     * @param anim\r\n     * @param then\r\n     * @param skipInit\r\n     * @returns {tweenAxis}\r\n     */\r\n    pushAnim( anim, then, keepResults = true ) {\r\n        let sl,\r\n            initial,\r\n            _        = this._,\r\n            initials = {},\r\n            fail;\r\n        \r\n        if ( isArray(anim) ) {\r\n            sl = anim;\r\n        }\r\n        else {\r\n            sl      = anim.anims;\r\n            initial = anim.initial;\r\n        }\r\n        \r\n        if ( !( sl instanceof tweenAxis ) ) {\r\n            // tweenLine, initials, data, demuxers\r\n            sl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\r\n            sl = new tweenAxis(sl, this._.tweenRefMaps);\r\n            Object.keys(initials)\r\n                  .forEach(\r\n                      id => (\r\n                          this._.tweenRefMaps[ id ] &&\r\n                          Object.assign(this._.tweenRefMaps[ id ], {\r\n                              ...initials[ id ],\r\n                              ...this._.tweenRefMaps[ id ]\r\n                          }) || ( fail = console.warn(\"react-voodoo : Can't find tween target \", id, \" in \", Tweener.displayName) || true )\r\n                      )\r\n                  )\r\n        }\r\n        if ( fail )\r\n            return;\r\n        \r\n        \r\n        return new Promise(\r\n            resolve => {\r\n                \r\n                // start timer launch @todo\r\n                sl.run(this._.tweenRefMaps, () => {\r\n                    let i = this._.runningAnims.indexOf(sl);\r\n                    if ( i != -1 )\r\n                        this._.runningAnims.splice(i, 1);\r\n                    //console.log( _.muxDataByTarget)\r\n                    Object.keys(initials)// unset\r\n                          .forEach(\r\n                              id => {\r\n                                  Object.keys(initials[ id ])// unset\r\n                                        .forEach(\r\n                                            rkey => {\r\n                                                // todo\r\n                                                clearTweenableValue(rkey, rkey, _.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxDataByTarget[ id ], _.muxByTarget[ id ], keepResults)\r\n                                            })\r\n                              });\r\n                    sl.destroy();\r\n                    resolve(sl);\r\n                });\r\n                \r\n                this._.runningAnims.push(sl);\r\n                \r\n                if ( !this._.live ) {\r\n                    this._.live = true;\r\n                    requestAnimationFrame(this._._rafLoop = this._._rafLoop || this._rafLoop.bind(this));\r\n                }\r\n            }\r\n        ).then(sl => ( then && then(sl) ));\r\n        \r\n    }\r\n    \r\n    \r\n    /**\r\n     * Update tweenRef raw tweened values\r\n     * @param id\r\n     * @param map\r\n     * @param reset\r\n     */\r\n    applyTweenState( id, map, reset ) {\r\n        let tmap = {}, initials = {};\r\n        deMuxTween(map, tmap, initials, this._.muxDataByTarget[ id ], this._.muxByTarget[ id ], true)\r\n        Object.keys(tmap).map(\r\n            ( p ) => this._.tweenRefMaps[ id ][ p ] = ( !reset && this._.tweenRefMaps[ id ][ p ] || initials[ p ] ) + tmap[ p ]\r\n        );\r\n    }\r\n    \r\n    // ------------------------------------------------------------\r\n    // ------------------ Scrollable axes -------------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    /**\r\n     * Will init / update a scrollable axis\r\n     * @param axe\r\n     * @param _inertia\r\n     * @param _scrollableArea\r\n     * @param _scrollableBounds\r\n     * @param _scrollableWindow\r\n     * @param defaultPosition\r\n     * @param scrollFirst\r\n     * @param reset\r\n     */\r\n    initAxis( axe, {\r\n        inertia         : _inertia,\r\n        scrollableArea  : _scrollableArea = 0,\r\n        scrollableBounds: _scrollableBounds,\r\n        scrollableWindow: _scrollableWindow,\r\n        defaultPosition,\r\n        scrollFirst\r\n    }, reset ) {\r\n        \r\n        \r\n        let _                = this._,\r\n            dim              = this.axes[ axe ],\r\n            scrollableBounds = _scrollableBounds,\r\n            scrollPos        = !reset && dim\r\n                               ? dim.scrollPos\r\n                               : defaultPosition || scrollableBounds && scrollableBounds.min || 0,\r\n            scrollableArea   = Math.max(dim && dim.scrollableArea || 0, _scrollableArea),\r\n            scrollableWindow = Math.max(dim && dim.scrollableWindow || 0, _scrollableWindow),\r\n            targetPos        = dim ? dim.targetPos : scrollPos,\r\n            inertia          = (\r\n                dim ? dim.inertia : new Inertia({// todo mk pure\r\n                                                    disabled: !_inertia,\r\n                                                    ...( _inertia || {} ),\r\n                                                    value   : scrollPos\r\n                                                }) ),\r\n            nextDescr        = {\r\n                //...(_inertia || {}),\r\n                scrollFirst,\r\n                tweenAxis: dim && dim.tweenAxis || [],\r\n                scrollPos,\r\n                targetPos,\r\n                inertia,\r\n                scrollableWindow,\r\n                scrollableBounds,\r\n                scrollableArea\r\n            };\r\n        \r\n        this.axes[ axe ] = nextDescr;\r\n        !_inertia && ( inertia._.disabled = true );\r\n        ( _inertia ) && inertia && !inertia.active && ( inertia._.pos = scrollPos );\r\n        ( _inertia ) && inertia && ( inertia.updateConf(_inertia) );\r\n        if ( inertia && scrollableBounds )\r\n            inertia.setBounds?.(scrollableBounds.min, scrollableBounds.max);\r\n        else\r\n            inertia && inertia.setBounds?.(0, scrollableArea)\r\n    }\r\n    \r\n    _getAxis( axe = \"scrollY\" ) {\r\n        let _ = this._;\r\n        \r\n        this.axes[ axe ] = this.axes[ axe ] || {\r\n            tweenAxis       : [],\r\n            scrollPos       : _.options.initialScrollPos && _.options.initialScrollPos[ axe ] || 0,\r\n            targetPos       : 0,\r\n            scrollableWindow: 0,\r\n            scrollableArea  : 0,\r\n            inertia         : new Inertia({\r\n                                              value: _.options.initialScrollPos && _.options.initialScrollPos[ axe ] || 0,\r\n                                              ...( _.options.axes && _.options.axes[ axe ] && _.options.axes[ axe ].inertia || {} )\r\n                                          }),\r\n        };\r\n        \r\n        return this.axes[ axe ];\r\n    }\r\n    \r\n    /**\r\n     * Return axis infos\r\n     */\r\n    getAxisState( axe ) {\r\n        let _ = this._, state = {};\r\n        this.axes && Object.keys(this.axes)\r\n                           .forEach(\r\n                               axe => ( state[ axe ] = this.axes[ axe ].targetPos || this.axes[ axe ].scrollPos )\r\n                           );\r\n        return state;\r\n    }\r\n    \r\n    getScrollPos( axis = \"scrollY\" ) {\r\n        let _ = this._, state = {};\r\n        return this.axes[ axis ]\r\n               ? this.axes[ axis ].targetPos || this.axes[ axis ].scrollPos\r\n               : 0\r\n    }\r\n    \r\n    /**\r\n     * Do scroll an axis\r\n     * @param newPos\r\n     * @param ms\r\n     * @param axe\r\n     * @param ease\r\n     * @returns {Promise<any | never>}\r\n     */\r\n    scrollTo( newPos, ms = 0, axe = \"scrollY\", ease ) {\r\n        let _ = this._;\r\n        return new Promise(\r\n            ( ( resolve, reject ) => {\r\n                if ( this.axes && this.axes[ axe ] ) {\r\n                    let oldPos = this.axes[ axe ].targetPos,\r\n                        setPos = pos => {\r\n                            //console.log('TweenableComp::setPos:514: ',  newPos,pos, ms,\r\n                            // axe);\r\n                            pos                        = ( ~~( pos * 10000 ) ) / 10000;\r\n                            this.axes[ axe ].targetPos = this.axes[ axe ].scrollPos = pos;\r\n                        \r\n                            this.axes?.[ axe ]?.inertia?.setPos(pos);\r\n                            //this.axes[axe].inertia._doSnap()\r\n                            if ( ~~pos !== oldPos ) {\r\n                                this.axisDidScroll(~~pos, axe);\r\n                                _.rootRef?.current?.componentDidScroll?.(~~pos, axe);\r\n                            }\r\n                            this._updateTweenRefs()\r\n                        };\r\n                    \r\n                    newPos = Math.max(0, newPos);\r\n                    newPos = Math.min(newPos, this.axes[ axe ].scrollableArea || 0);\r\n                    \r\n                    this.axes[ axe ].targetPos = newPos;\r\n                    \r\n                    if ( !ms ) {\r\n                        this.axes[ axe ].tweenAxis.forEach(\r\n                            sl => sl.goTo(newPos, _.tweenRefMaps)\r\n                        );\r\n                        setPos(newPos);\r\n                        resolve()\r\n                    }\r\n                    else {\r\n                        this._runScrollGoTo(axe, newPos, ms, easingFn[ ease ], setPos, resolve)\r\n                    }\r\n                    \r\n                    if ( !_.live ) {\r\n                        _.live = true;\r\n                        requestAnimationFrame(_._rafLoop);\r\n                    }\r\n                }\r\n            } )).then(\r\n            p => {\r\n                this.axes?.[ axe ]?.inertia?._detectCurrentSnap();\r\n            }\r\n        )\r\n    }\r\n    \r\n    /**\r\n     * Add scrollable tween axis (scrollable anims) to a global axis\r\n     * @param anim\r\n     * @param axe\r\n     * @param size\r\n     * @returns {tweenAxis}\r\n     */\r\n    addScrollableAnim( anim, axe = \"scrollY\", size ) {\r\n        let sl,\r\n            _        = this._,\r\n            initials = {},\r\n            dim      = this._getAxis(axe);\r\n        \r\n        if ( isArray(anim) ) {\r\n            sl = anim;\r\n        }\r\n        else {\r\n            sl   = anim.anims;\r\n            size = anim.length;\r\n        }\r\n        \r\n        //console.warn(\"add scrollable\")\r\n        if ( !( sl instanceof tweenAxis ) ) {\r\n            sl = deMuxLine(sl, initials, this._.muxDataByTarget, this._.muxByTarget);\r\n            \r\n            sl          = new tweenAxis(sl, _.tweenRefMaps);\r\n            sl.initials = initials;\r\n            \r\n            Object.keys(initials)\r\n                  .forEach(\r\n                      id => {\r\n                          _.tweenRefOrigin[ id ] = _.tweenRefOrigin[ id ] || {};\r\n                    \r\n                          _.tweenRefMaps[ id ] = _.tweenRefMaps[ id ] || {};\r\n                          Object.assign(this._.tweenRefMaps[ id ], {\r\n                              ...initials[ id ],\r\n                              ...this._.tweenRefMaps[ id ]\r\n                          })\r\n                      }\r\n                  );\r\n            \r\n        }\r\n        \r\n        \r\n        // init scroll\r\n        dim.tweenAxis.push(sl);\r\n        dim.scrollPos      = dim.scrollPos || 0;\r\n        dim.scrollableArea = dim.scrollableArea || 0;\r\n        dim.scrollableArea = Math.max(dim.scrollableArea, sl.duration);\r\n        \r\n        if ( !dim.scrollableBounds )\r\n            dim.inertia?.setBounds(0, dim.scrollableArea);\r\n        \r\n        sl.goTo(dim.scrollPos, this._.tweenRefMaps);\r\n        this._updateTweenRefs();\r\n        return sl;\r\n    }\r\n    \r\n    /**\r\n     * Remove a tweenAxis object from a component scrollable axis\r\n     * @param sl\r\n     * @param axe\r\n     */\r\n    rmScrollableAnim( sl, axe = \"scrollY\" ) {\r\n        let _   = this._, found,\r\n            dim = this._getAxis(axe), twAxis;\r\n        let i   = dim.tweenAxis.indexOf(sl);\r\n        if ( i !== -1 ) {\r\n            \r\n            //dim.tweenAxis[i].destroy();\r\n            dim.tweenAxis.splice(i, 1);\r\n            dim.scrollableArea = Math.max(...dim.tweenAxis.map(tl => tl.duration), 0);\r\n            if ( !dim.scrollableBounds )\r\n                dim.inertia?.setBounds(0, dim.scrollableArea || 0);\r\n            //console.warn(\"rm scrollable\", { ...this._.tweenRefMaps })\r\n            sl.goTo(0, this._.tweenRefMaps);\r\n            //console.warn(\"rm scrollable\", { ...this._.tweenRefMaps[\"card\"] })\r\n            \r\n            Object.keys(sl.initials)// unset\r\n                  .forEach(\r\n                      id => {\r\n                          Object.keys(sl.initials[ id ])// unset\r\n                                .forEach(\r\n                                    rkey => {\r\n                                        //debugger\r\n                                        clearTweenableValue(rkey, rkey, _.tweenRefMaps[ id ], _.tweenRefCSS[ id ], _.muxDataByTarget[ id ], _.muxByTarget[ id ])\r\n                                        //!_.tweenRefCSS[id] &&\r\n                                        //_.refs[id] && _.refs[id].style &&\r\n                                        // _.refs[id].style[rkey] &&\r\n                                        // (_.refs[id].style[rkey] = null);\r\n                                    })\r\n                      });\r\n            delete sl.initials;\r\n            sl.destroy();\r\n            found = true;\r\n            this._updateTweenRefs();\r\n        }\r\n        !found && console.warn(\"react-voodoo: Axis not found : \", axe)\r\n    }\r\n    \r\n    \r\n    /**\r\n     * @private fn to push scrollTo\r\n     * @param axe\r\n     * @param to\r\n     * @param tm\r\n     * @param easing\r\n     * @param tick\r\n     * @param cb\r\n     * @private\r\n     */\r\n    _runScrollGoTo( axe, to, tm, easing = x => x, tick, cb ) {\r\n        let from   = this.axes[ axe ].scrollPos,\r\n            length = to - from;\r\n        \r\n        _running.push(\r\n            {\r\n                apply   : ( pos, max ) => {\r\n                    let x = ( from + ( easing(pos / max) ) * length );\r\n                    if ( this._.tweenEnabled ) {\r\n                        //console.log('TweenableComp::setPos:514: ', x);\r\n                        this.axes[ axe ].tweenAxis.forEach(\r\n                            sl => sl.goTo(x, this._.tweenRefMaps)\r\n                        );\r\n                        tick && tick(x);\r\n                    }\r\n                },\r\n                duration: tm,\r\n                cpos    : 0,\r\n                cb\r\n            })\r\n        ;\r\n        \r\n        if ( !_live ) {\r\n            _live  = true;\r\n            lastTm = Date.now();\r\n            // console.log(\"TL runner On\");\r\n            setTimeout(Runner._tick, 16);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Return scrollable parent node list basing a dom node\r\n     * @param node\r\n     * @returns {T[]}\r\n     */\r\n    getScrollableNodes( node ) {\r\n        let scrollable = domUtils.findReactParents(node), _ = this._;\r\n        scrollable     = _.rootRef &&\r\n                         _.rootRef.current &&\r\n                         _.rootRef.current.hookScrollableTargets &&\r\n                         _.rootRef.current.hookScrollableTargets(scrollable)\r\n                         || scrollable;\r\n        \r\n        return scrollable.map(\r\n            id => ( is.string(id)\r\n                    ? this._.refs[ id ] && ReactDom.findDOMNode(this._.refs[ id ]) || this.refs[ id ] || document.getElementById(id)\r\n                    : id ));\r\n    }\r\n    \r\n    /**\r\n     * Hook to know if the composed element allow scrolling\r\n     * @returns {boolean}\r\n     */\r\n    componentShouldScroll() {\r\n        let _ = this._;\r\n        return _.rootRef &&\r\n               _.rootRef.current &&\r\n               _.rootRef.current.componentShouldScroll ?\r\n               _.rootRef.current.componentShouldScroll(...arguments) : true\r\n    }\r\n    \r\n    _scrollWatcherByAxis = {};\r\n    \r\n    /**\r\n     * Add scroll listener to {axisId} axis, return unwatch\r\n     * @param axisId\r\n     * @param listener\r\n     * @returns {function(...[*]=)}\r\n     */\r\n    watchAxis( axisId, listener ) {\r\n        let byId       = this._scrollWatcherByAxis;\r\n        byId[ axisId ] = byId[ axisId ] || [];\r\n        byId[ axisId ].push(listener);\r\n        return () => {\r\n            let index = byId[ axisId ].indexOf(listener);\r\n            byId[ axisId ].splice(index, 1);\r\n        }\r\n    }\r\n    \r\n    axisDidScroll( pos, axisId ) {\r\n        let watchers = this._scrollWatcherByAxis[ axisId ],\r\n            i        = watchers?.length;\r\n        if ( watchers )\r\n            while ( i ) watchers[ --i ](pos);\r\n    }\r\n    \r\n    // ------------------------------------------------------------\r\n    // --------------- Inertia & scroll modifiers -----------------\r\n    // ------------------------------------------------------------\r\n    \r\n    /**\r\n     * Retrieve updates from an axis inertia & apply them\r\n     * @param dim\r\n     * @param axe\r\n     */\r\n    applyInertia( dim, axe ) {\r\n        let x = dim.inertia.update(), _ = this._;\r\n        \r\n        this.axes[ axe ].tweenAxis.forEach(\r\n            sl => {\r\n                this.axes[ axe ].targetPos = this.axes[ axe ].scrollPos = x;\r\n                sl.goTo(x, this._.tweenRefMaps)\r\n            }\r\n        );\r\n        //console.log(\"scroll at \" + x, axe, dim.inertia.active || dim.inertia.holding);\r\n        //this.scrollTo(x, 0, axe);\r\n        _.rootRef?.current?.componentDidScroll?.(x, axe);\r\n        this.axisDidScroll(x, axe);\r\n        this._updateTweenRefs()\r\n        if ( dim.inertia.active || dim.inertia.holding ) {\r\n            dim.inertiaFrame = setTimeout(this.applyInertia.bind(this, dim, axe), 33);\r\n        }\r\n        else {\r\n            dim.inertiaFrame = null;\r\n            //console.log(\"complete\");\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Return true if at least 1 of this tweener axis have it's inertia active\r\n     * @returns {boolean}\r\n     */\r\n    isInertiaActive() {//todo\r\n        let _ = this._, active = false;\r\n        this.axes &&\r\n        Object.keys(this.axes)\r\n              .forEach(\r\n                  axe => ( active = active || this.axes[ axe ] && this.axes[ axe ].inertia.active )\r\n              );\r\n        return active;\r\n    }\r\n    \r\n    dispatchScroll( delta, axe = \"scrollY\" ) {\r\n        let prevent,\r\n            dim    = this.axes[ axe ],\r\n            oldPos = dim && dim.scrollPos,\r\n            newPos = oldPos + delta;\r\n        \r\n        if ( dim && oldPos !== newPos ) {\r\n            \r\n            dim.inertia.dispatch(delta, 100);\r\n            !dim.inertiaFrame && this.applyInertia(dim, axe);\r\n            \r\n        }\r\n        \r\n        return prevent;\r\n    }\r\n    \r\n    isAxisOut( axis, v, abs ) {\r\n        let _   = this._,\r\n            dim = this.axes && this.axes[ axis ],\r\n            pos = abs ? v : dim && ( dim.scrollPos + v );\r\n        \r\n        pos = pos && Math.round(pos);\r\n        \r\n        return !dim\r\n               || (\r\n                   dim.scrollableBounds\r\n                   ?\r\n                   ( pos <= dim.scrollableBounds.min || pos >= dim.scrollableBounds.max )\r\n                   :\r\n                   ( pos <= 0 || pos >= dim.scrollableArea )\r\n               );\r\n    }\r\n    \r\n    _doDispatch( target, dx, dy, holding ) {\r\n        let style,\r\n            Comps,\r\n            headTarget = target,\r\n            nodeInertia,\r\n            i;\r\n        \r\n        // check if there scrollable stuff in dom targets\r\n        // get all the parents components & dom node of an dom element ( from fibers )\r\n        \r\n        Comps = this.getScrollableNodes(headTarget);\r\n        //console.log(\"dispatching \", dx, dy, Comps);\r\n        for ( i = 0; i < Comps.length; i++ ) {\r\n            // react comp with tweener support\r\n            if ( Comps[ i ].__isTweener ) {\r\n                //debugger\r\n                //console.log(Comps[i], dx, dy, Comps[i].isAxisOut(\"scrollX\", dx),\r\n                // Comps[i].isAxisOut(\"scrollY\", dy));\r\n                if ( !Comps[ i ].isAxisOut(\"scrollX\", dx) && ( !Comps[ i ].componentShouldScroll || Comps[ i ].componentShouldScroll(\"scrollX\", dx) ) ) {\r\n                    Comps[ i ].dispatchScroll(dx, \"scrollX\", holding);\r\n                    dx = 0;\r\n                }\r\n                if ( !Comps[ i ].isAxisOut(\"scrollY\", dy) && ( !Comps[ i ].componentShouldScroll || Comps[ i ].componentShouldScroll(\"scrollY\", dy) ) ) {\r\n                    Comps[ i ].dispatchScroll(dy, \"scrollY\", holding);\r\n                    dy = 0;\r\n                }\r\n            }\r\n            // dom element\r\n            else if ( is.element(Comps[ i ]) ) {\r\n                style = getComputedStyle(Comps[ i ], null)\r\n                if ( /(auto|scroll)/.test(\r\n                    style.getPropertyValue(\"overflow\")\r\n                    + style.getPropertyValue(\"overflow-x\")\r\n                    + style.getPropertyValue(\"overflow-y\")\r\n                )\r\n                ) {\r\n                    if (\r\n                        ( dy < 0 && Comps[ i ].scrollTop !== 0 )\r\n                        ||\r\n                        ( dy > 0 && Comps[ i ].scrollTop !== ( Comps[ i ].scrollHeight - Comps[ i ].clientHeight ) )\r\n                    ) {\r\n                        return;\r\n                        //nodeInertia.y.dispatch(dy * 10)\r\n                        //dy = 0;\r\n                    } // let the node do this scroll\r\n                    //if ( nodeInertia.x.isOutbound(dx) ) {\r\n                    //\tnodeInertia.x.dispatch(dx * 10)\r\n                    //\tdx = 0;\r\n                    //} // let the node do this scroll\r\n                }\r\n                \r\n                //headTarget = headTarget.parentNode;\r\n                //if ( headTarget === document || headTarget === target )\r\n                //\tbreak;\r\n            }\r\n            if ( !dx && !dy )\r\n                break;\r\n        }\r\n        this._updateNodeInertia();\r\n        if ( !dx && !dy )\r\n            return true;\r\n    }\r\n    \r\n    _activateNodeInertia( node ) {\r\n        let _ = this._,\r\n            i = _.activeInertia.findIndex(item => ( item.target === node ));\r\n        if ( i === -1 ) {\r\n            _.activeInertia.push(\r\n                {\r\n                    inertia: {\r\n                        x: new Inertia({\r\n                                           max  : node.scrollWidth - node.offsetLeft,\r\n                                           value: node.scrollLeft\r\n                                       }),\r\n                        y: new Inertia({\r\n                                           max  : node.scrollHeight - node.offsetHeight,\r\n                                           value: node.scrollTop\r\n                                       })\r\n                    },\r\n                    target : node\r\n                });\r\n            i = _.activeInertia.length - 1;\r\n        }\r\n        return _.activeInertia[ i ].inertia;\r\n        \r\n    }\r\n    \r\n    _updateNodeInertia = () => {\r\n        let _ = this._, current, ln = _.activeInertia.length;\r\n        \r\n        if ( this._inertiaRaf )\r\n            cancelAnimationFrame(this._inertiaRaf);\r\n        \r\n        for ( let i = 0; ln > i; i++ ) {\r\n            current = _.activeInertia[ i ];\r\n            if ( current.inertia.x.active || current.inertia.x.holding ) {\r\n                current.target.scrollLeft = ~~current.inertia.x.update()\r\n            }\r\n            if ( current.inertia.y.active || current.inertia.y.holding ) {\r\n                current.target.scrollTop = ~~current.inertia.y.update()\r\n            }\r\n            \r\n            if ( !current.inertia.x.active && !current.inertia.y.active && !current.inertia.x.holding && !current.inertia.y.holding ) {\r\n                _.activeInertia.slice(i, 1);\r\n                i--;\r\n                ln--;\r\n            }\r\n        }\r\n        if ( ln !== 0 )\r\n            this._inertiaRaf = requestAnimationFrame(this._updateNodeInertia)\r\n        else this._inertiaRaf = null;\r\n    }\r\n    \r\n    \r\n    // ------------------------------------------------------------\r\n    // --------------- Initialization & drawers -------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    setRootRef( id ) {\r\n        this._.rootRef = id;\r\n    }\r\n    \r\n    _updateBox() {\r\n        let node = this.getRootNode();\r\n        if ( node ) {\r\n            this._.box.inited = true;\r\n            this._.box.x      = node.offsetWidth;\r\n            this._.box.y      = node.offsetHeight;\r\n        }\r\n    }\r\n    \r\n    _rafLoop() {\r\n        this._updateTweenRefs();\r\n        if ( this._.runningAnims.length ) {\r\n            requestAnimationFrame(this._._rafLoop);\r\n        }\r\n        else {\r\n            //this._.live && console.log(\"RAF off\", this.constructor.displayName);\r\n            this._.live = false;\r\n        }\r\n    }\r\n    \r\n    _updateTweenRefs() {\r\n        if ( this._.tweenEnabled ) {\r\n            for ( let i = 0, target, node, style; i < this._.tweenRefTargets.length; i++ ) {\r\n                target = this._.tweenRefTargets[ i ];\r\n                style  = this._updateTweenRef(target);\r\n            }\r\n        }\r\n    }\r\n    \r\n    _swap = {};\r\n    \r\n    _updateTweenRef( target, force ) {\r\n        let node, swap = this._swap, changes;\r\n        this._.tweenRefCSS[ target ] &&\r\n        muxToCss(this._.tweenRefMaps[ target ], swap, this._.muxByTarget[ target ], this._.muxDataByTarget[ target ], this._.box);\r\n        node = this.getTweenableRef(target);\r\n        if ( node ) {\r\n            for ( let o in this._.tweenRefCSS[ target ] )\r\n                if ( swap[ o ] === undefined ) {\r\n                    node.style[ o ] = this._.tweenRefCSS[ target ][ o ];\r\n                    //\t\tnode.style[o] = null;\r\n                    //\t\tdelete this._.tweenRefCSS[target][o];\r\n                }\r\n            for ( let o in swap )\r\n                if ( this._.tweenRefCSS[ target ].hasOwnProperty(o) ) {\r\n                    if ( force || swap[ o ] !== this._.tweenRefCSS[ target ][ o ] ) {\r\n                        \r\n                        node.style[ o ] = this._.tweenRefCSS[ target ][ o ] = swap[ o ];\r\n                        //if ( target == \"card\" ) console.log(target, o, node.style[o],\r\n                        // swap[o]);\r\n                        changes = true;\r\n                    }\r\n                    delete swap[ o ];\r\n                }\r\n        }\r\n        //if ( !changes )\r\n        //console.log('no changes', target, this._.tweenRefCSS[target], !!node, force)\r\n        return this._.tweenRefCSS[ target ];\r\n    }\r\n    \r\n    \r\n    // ------------------------------------------------------------\r\n    // --------------- React Hooks --------------------------------\r\n    // ------------------------------------------------------------\r\n    \r\n    \r\n    componentWillUnmount() {\r\n        let node = this.getRootNode();\r\n        if ( this._.tweenEnabled ) {\r\n            this._.tweenEnabled = false;\r\n            window.removeEventListener(\"resize\", this._.onResize);\r\n            \r\n            Object.keys(this.axes).forEach(\r\n                axe => {\r\n                    this.axes[ axe ].inertiaFrame &&\r\n                    clearTimeout(this.axes[ axe ].inertiaFrame);\r\n                }\r\n            );\r\n        }\r\n        super.componentWillUnmount && super.componentWillUnmount(...arguments);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        let _static = this.constructor;\r\n        \r\n        this._.rendered = true;\r\n        if ( this._.tweenEnabled ) {\r\n            // debugger;\r\n            this._updateBox();\r\n            this._updateTweenRefs();\r\n        }\r\n        if ( _static.scrollableAnim ) {\r\n            if ( is.array(_static.scrollableAnim) )\r\n                this.addScrollableAnim(_static.scrollableAnim);\r\n            else\r\n                Object.keys(_static.scrollableAnim)\r\n                      .forEach(\r\n                          axe => this.addScrollableAnim(_static.scrollableAnim[ axe ], axe)\r\n                      )\r\n        }\r\n        //if ( this._.doRegister || this.__isFirst ) {\r\n        //\r\n        //\tthis._.doRegister = false;\r\n        //}\r\n        super.componentDidMount && super.componentDidMount(...arguments);\r\n    }\r\n    \r\n    componentDidUpdate( prevProps, prevState ) {\r\n        \r\n        if ( this._.tweenEnabled ) {\r\n            this._updateBox();\r\n            this._updateTweenRefs();\r\n        }\r\n        super.componentDidUpdate && super.componentDidUpdate(...arguments);\r\n    }\r\n    \r\n    render() {\r\n        const { BaseComponent, oProps } = this.props;\r\n        return <TweenerContext.Consumer>\r\n            {\r\n                parentTweener => {\r\n                    this._parentTweener = parentTweener;\r\n                    return <TweenerContext.Provider value={ this }>\r\n                        <BaseComponent { ...oProps } ref={ this._.rootRef }\r\n                                       tweener={ this }/>\r\n                    </TweenerContext.Provider>;\r\n                }\r\n            }\r\n        </TweenerContext.Consumer>;\r\n    }\r\n}\r\n","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nimport React          from \"react\";\nimport is             from \"is\";\nimport TweenerContext from \"../comps/TweenerContext\";\nimport Tweener        from \"../comps/Tweener\";\n\nexport default ( tweenerOptions, RootNodeComp = 'div' ) => {\n    const parentTweener      = React.useContext(TweenerContext),\n          nodeRef            = React.useRef(),\n          lastTweener        = React.useRef(),\n          doUseParentTweener = React.useMemo(\n              () => ( tweenerOptions === true || is.string(tweenerOptions) ),\n              []\n          ),\n          tweener            = React.useMemo(\n              () => {\n                  if ( tweenerOptions === true )// keep tweener from context ( parent )\n                      return parentTweener;\n            \n                  if ( is.string(tweenerOptions) ) {// return named tweener or most root tweener\n                      let pTweener = parentTweener;\n                \n                      while ( pTweener?._ && pTweener._.options.name !== tweenerOptions )\n                          if ( pTweener._parentTweener )\n                              pTweener = pTweener._parentTweener;\n                          else {\n                              console.warn('react-voodoo: No parent tweener found with option.key === \"' + tweenerOptions + '\"');\n                              break;\n                          }\n                \n                      return pTweener;\n                  }\n            \n                  let tw               = new Tweener({\n                                                         forwardedRef: nodeRef,\n                                                         tweenerOptions\n                                                     });\n                  tw.isMountedFromHook = true;\n                  tw._parentTweener    = parentTweener;\n                  return tw;\n              },\n              []\n          ),\n          ViewBox            = React.useMemo(\n              () => (\n                  React.forwardRef(\n                      ( { children, ...props }, ref ) => {\n                          return <TweenerContext.Provider value={ tweener }>\n                              <RootNodeComp\n                                  ref={ !ref\n                                        ? nodeRef\n                                        : ( node ) => ( ref.current = nodeRef.current = node ) } { ...props }>\n                                  {\n                                      children\n                                  }\n                              </RootNodeComp>\n                          </TweenerContext.Provider>\n                      }\n                  )\n              ),\n              []\n          )\n    \n    React.useEffect(\n        () => {\n            if ( doUseParentTweener || !lastTweener.current?._ )\n                return;\n            //console.warn(\"didmount\", nodeRef.current, lastTweener.current === TweenerEl)\n            tweener.componentDidMount();\n            lastTweener.current = tweener;\n            return () => {\n                if ( !lastTweener.current?._ )\n                    return;\n                //console.warn(\"unmount\")\n                lastTweener.current.componentWillUnmount();\n                lastTweener.current = null;\n            }\n        }, []\n    )\n    React.useEffect(\n        () => {\n            \n            if ( doUseParentTweener || !lastTweener.current?._ )\n                return;\n            //console.warn(\"didupdate\", nodeRef.current)\n            lastTweener.current._updateBox();\n            lastTweener.current._updateTweenRefs();\n            \n        }\n        ,\n        [nodeRef.current]\n    )\n    React.useEffect(\n        () => {\n            if ( doUseParentTweener || !lastTweener.current?._ )\n                return;\n            lastTweener.current._parentTweener = parentTweener;\n        },\n        [parentTweener]\n    )\n    React.useEffect(\n        () => {\n            if ( doUseParentTweener || !lastTweener.current?._ )\n                return;\n            lastTweener.current._.options = tweenerOptions;\n            lastTweener.current._updateBox();\n            lastTweener.current._updateTweenRefs();\n        },\n        [tweenerOptions]\n    )\n    return React.useMemo(\n        () => ( [tweener, ViewBox] ),\n        [ViewBox, tweener]\n    );\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\nimport React from \"react\";\nimport TweenerContext from \"../comps/TweenerContext\";\n\nexport default ()=>{\n\treturn React.useContext(TweenerContext)\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport React                from \"react\";\nimport Tweener              from '../comps/Tweener';\nimport { isReactComponent } from '../utils/react';\n\nconst SimpleObjectProto = ( {} ).constructor;\n\n/**\n * asTweener decorator\n * @param argz\n * @returns {*}\n */\nexport default function asTweener( ...argz ) {\n    \n    let BaseComponent = ( !argz[ 0 ] || isReactComponent(argz[ 0 ]) ) && argz.shift(),\n        options       = ( !argz[ 0 ] || argz[ 0 ] instanceof SimpleObjectProto ) && argz.shift() || {};\n    if ( !BaseComponent ) {\n        return function ( BaseComponent ) {\n            return asTweener(BaseComponent, options)\n        }\n    }\n    \n    options = {\n        wheelRatio    : 5,\n        maxClickTm    : 200,\n        maxClickOffset: 20,\n        ...options,\n    };\n    \n    \n    let withRef         = React.forwardRef(( props, ref ) => {\n        return <Tweener oProps={ props } forwardedRef={ ref }\n                        BaseComponent={ BaseComponent }\n                        tweenerOptions={ options }/>;\n    });\n    withRef.displayName = String.fromCharCode(0xD83E, 0xDDD9) + ( BaseComponent.displayName || BaseComponent.name );\n    return withRef;\n}\n","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2020. Nathanael Braun\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport React      from 'react';\nimport Axis       from './comps/Axis';\nimport Context    from './comps/TweenerContext';\nimport Node       from './comps/Node';\nimport Draggable  from './comps/Draggable';\nimport useVoodoo  from './hooks/useVoodoo';\nimport useTweener from './hooks/useTweener';\nimport tweener    from './spells/asTweener';\nimport child      from './spells/withTweener';\nimport dom        from './utils/dom.js';\nimport * as tools from './utils/tweenTools.js';\n\n@tweener\nclass Component extends React.Component {\n    render() {\n        return this.props.children;\n    }\n}\n\nexport {\n    tweener,\n    child,\n    useTweener,\n    useVoodoo,\n    useVoodoo as hook,\n    tools,\n    Draggable,\n    Component,\n    Node,\n    Context,\n    Axis,\n    dom\n};\nexport default {\n    tweener,\n    child,\n    useTweener,\n    useVoodoo,\n    hook: useVoodoo,\n    tools,\n    Draggable,\n    Component,\n    Node,\n    Context,\n    Axis,\n    dom\n};"],"sourceRoot":""}